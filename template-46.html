<h1 id="updating-data">Updating data</h1>
<h2 id="updating-data-in-atlas-blotter">Updating data in Atlas Blotter</h2>
<p>Normally, Atlas Blotter will automatically retrieve and update data for the specified RIC. However, you can update the data manually by using APIs provided from RowDefinition object. This is useful when you want to merge data different data source (for example, local data feed or custom formula calculation) or want to test data update in a consistent manner. </p>
<p>To retrieve RowDefinition object, use <code>getRowDefinition()</code> from blotter&#39;s <code>api</code> property.</p>
<p>You can then use <code>setRowData()</code> or <code>setData()</code> to set data for the given row.</p>
<pre><code class="language-js">var row2 = blotter.api.getRowDefinition(2); // row index 2
var row3 = blotter.api.getRowDefinition(3); // row index 3

console.log(row2.setRowData({&quot;Field 1&quot;: 15, &quot;Field 2&quot;: &quot;aa&quot;})); // No row id or index required
console.log(row3.setData(&quot;Field Name&quot;, 77.23)); // No row id or index required
</code></pre>
<p>All available APIs for <code>RowDefinition</code> object can be found <a href="#/apis/rt-grid/rowdefinition">here</a></p>
<h3 id="example-updating-data-using-setrowdata-and-insertrow">Example: updating data using setRowData and insertRow</h3>
<code-sandbox hash="1a94b5c4"><pre><code class="language-css">atlas-blotter {
    height: 230px;
}
html hr {
    margin: 5px;
}
</code></pre>
<pre><code class="language-html">&lt;button id=&quot;eur_btn&quot;&gt;EUR=&lt;/button&gt;
&lt;button id=&quot;jpy_btn&quot;&gt;JPY=&lt;/button&gt;
&lt;button id=&quot;aud_btn&quot;&gt;AUD=&lt;/button&gt;
&lt;button id=&quot;gbp_btn&quot;&gt;GBP=&lt;/button&gt;
&lt;hr&gt;
&lt;atlas-blotter id=&quot;grid&quot;&gt;&lt;/atlas-blotter&gt;
</code></pre>
<pre><code class="language-javascript">import &#39;./resources/extensions.js&#39;; // This line is only required for demo purpose. It is not relevant for your application.
import { halo } from &#39;./theme-loader.js&#39;; // This line is only required for demo purpose. It is not relevant for your application.
await halo(); // This line is only required for demo purpose. It is not relevant for your application.

/* ---------------------------------- Note ----------------------------------
  DataGenerator, Formatters and extensions are exposed to global scope
  in the bundle file to make it easier to create live examples.
  Importing formatters and extensions is still required in your application. 
  Please see the document for further information.
---------------------------------------------------------------------------*/
function toRowObject(record) {
    return { values: record };
}

function genRICRecord(ric) {
    var record = tr.DataGenerator.generateRecord(fields);
    record[&quot;ric&quot;] = ric; // Since record is randomly generated, force the ric to the specified one
    return record;
}

function updateData(record) {
    var ric = record.ric; // Use ric for mapping. This assumes that every row has unique ric
    if (ric) {
        var rowDef = rowDefMap[ric];
        if (!rowDef) {
            rowDef = grid.api.insertRow({}, 0); // Insert an empty row at the top
            rowDefMap[ric] = rowDef;
        }
        rowDef.setRowData(record); // Update data
    }
}

document.getElementById(&quot;eur_btn&quot;).addEventListener(&quot;click&quot;, function(e) {
    updateData(genRICRecord(&quot;EUR=&quot;));
});
document.getElementById(&quot;jpy_btn&quot;).addEventListener(&quot;click&quot;, function(e) {
    updateData(genRICRecord(&quot;JPY=&quot;));
});
document.getElementById(&quot;aud_btn&quot;).addEventListener(&quot;click&quot;, function(e) {
    updateData(genRICRecord(&quot;AUD=&quot;));
});
document.getElementById(&quot;gbp_btn&quot;).addEventListener(&quot;click&quot;, function(e) {
    updateData(genRICRecord(&quot;GBP=&quot;));
});

var fields = [&quot;id&quot;, &quot;ric&quot;, &quot;number_2&quot;, &quot;index4&quot;, &quot;float_1&quot;];
var rowDefMap = {}; // Object for mapping ric and rowDefinition
var configObj = {
    columns: [
        { field: fields[0], width: 60 },
        { field: fields[1] },
        { field: fields[2], tickColor: true, blinking: true },
        { field: fields[3], blinking: true },
        { field: fields[4], blinking: true }
    ]
};
var grid = document.getElementById(&quot;grid&quot;);
grid.config = configObj;
</code></pre>
</code-sandbox><h3 id="example-getting-rowdefinition-object-from-initial-data">Example: getting RowDefinition object from initial data</h3>
<code-sandbox hash="b3ce151e"><pre><code class="language-css">atlas-blotter {
    height: 230px;
}
html hr {
    margin: 5px;
}
</code></pre>
<pre><code class="language-html">&lt;button id=&quot;eur_btn&quot;&gt;EUR=&lt;/button&gt;
&lt;button id=&quot;jpy_btn&quot;&gt;JPY=&lt;/button&gt;
&lt;button id=&quot;aud_btn&quot;&gt;AUD=&lt;/button&gt;
&lt;button id=&quot;gbp_btn&quot;&gt;GBP=&lt;/button&gt;
&lt;button id=&quot;usd_btn&quot;&gt;USD=&lt;/button&gt;
&lt;hr&gt;
&lt;button id=&quot;thb_btn&quot;&gt;Insert THB=&lt;/button&gt;
&lt;hr&gt;
&lt;atlas-blotter id=&quot;grid&quot;&gt;&lt;/atlas-blotter&gt;
</code></pre>
<pre><code class="language-javascript">import &#39;./resources/extensions.js&#39;; // This line is only required for demo purpose. It is not relevant for your application.
import { halo } from &#39;./theme-loader.js&#39;; // This line is only required for demo purpose. It is not relevant for your application.
await halo(); // This line is only required for demo purpose. It is not relevant for your application.

/* ---------------------------------- Note ----------------------------------
  DataGenerator, Formatters and extensions are exposed to global scope
  in the bundle file to make it easier to create live examples.
  Importing formatters and extensions is still required in your application. 
  Please see the document for further information.
---------------------------------------------------------------------------*/
function toRowObject(record) {
    return { values: record };
}

function genRICRecord(ric) {
    var record = tr.DataGenerator.generateRecord(fields);
    record[&quot;ric&quot;] = ric; // Since record is randomly generated, force the ric to the specified one
    return record;
}

function updateData(record) {
    var ric = record.ric; // Use ric for mapping. This assumes that every row has unique ric
    if (ric) {
        var rowDef = rowDefMap[ric];
        if (rowDef) {
            rowDef.setRowData(record); // Update data
        }
    }
};
function insertData(record) {
    var ric = record.ric; // Use ric for mapping. This assumes that every row has unique ric
    if (ric) {
        var rowDef = rowDefMap[ric];
        if (!rowDef) {
            rowDefMap[ric] = grid.api.insertRow(toRowObject(record), 0);
        }
    }
};
function collectRowDefinitions(e) {
    var api = e.detail.api;
    rowDefMap = {}; // Clear any existing map
    var rowCount = api.getRowCount();
    for (var r = 0; r &lt; rowCount; ++r) {
        var rowDef = api.getRowDefinition(r);
        var ric = rowDef.getData(&quot;ric&quot;);
        rowDefMap[ric] = rowDef;
    }
};

document.getElementById(&quot;eur_btn&quot;).addEventListener(&quot;click&quot;, function(e) {
    updateData(genRICRecord(&quot;EUR=&quot;));
});
document.getElementById(&quot;jpy_btn&quot;).addEventListener(&quot;click&quot;, function(e) {
    updateData(genRICRecord(&quot;JPY=&quot;));
});
document.getElementById(&quot;aud_btn&quot;).addEventListener(&quot;click&quot;, function(e) {
    updateData(genRICRecord(&quot;AUD=&quot;));
});
document.getElementById(&quot;gbp_btn&quot;).addEventListener(&quot;click&quot;, function(e) {
    updateData(genRICRecord(&quot;GBP=&quot;));
});
document.getElementById(&quot;usd_btn&quot;).addEventListener(&quot;click&quot;, function(e) {
    updateData(genRICRecord(&quot;USD=&quot;));
});
document.getElementById(&quot;thb_btn&quot;).addEventListener(&quot;click&quot;, function(e) {
    insertData(genRICRecord(&quot;THB=&quot;));
});

var fields = [&quot;id&quot;, &quot;ric&quot;, &quot;number_2&quot;, &quot;index4&quot;, &quot;float_1&quot;];
var rics = [&quot;USD=&quot;, &quot;AUD=&quot;, &quot;EUR=&quot;, &quot;JPY=&quot;, &quot;GBP=&quot;];
var rowDefMap = {}; // Object for mapping ric and rowDefinition
var configObj = {
    columns: [
        { field: fields[0], width: 60 },
        { field: fields[1] },
        { field: fields[2], tickColor: true, blinking: true },
        { field: fields[3], blinking: true },
        { field: fields[4], blinking: true }
    ],
    staticDataRows: rics.map(genRICRecord)
};
var grid = document.getElementById(&quot;grid&quot;);
// Collect RowDefinition object after everything has been set
grid.addEventListener(&quot;configured&quot;, collectRowDefinitions);
grid.config = configObj;
</code></pre>
</code-sandbox><h2 id="updating-multiple-rows-or-large-data-set">Updating multiple rows or large data set</h2>
<p>Sometimes, updating a row one by one can be slow as it triggers sorting for every API calls. Some other times, we can only fetch for entire table image because real-time data service is not available. So, updating data using the method from the section above may not be very efficient. <code>updateDataSet(records, rowIdentifier)</code> API provides a way to update entire data set all at once. The second paramter, rowIdentifier, is used for mapping rows between existing data set and new data set. In addition to updating data, the method will performs the following operations:</p>
<ul>
<li>Remove any row that does not exist in the given data set</li>
<li>Add new rows that do not exist before</li>
<li>Reorder/move rows to positions according to the new data set</li>
</ul>
<p>If the row identifier is not specified, row index of the data will be used as the row identifier instead. The following code snippet illustrates how <code>updateDataSet</code> works:</p>
<pre><code class="language-js">var dataSet1 = [
    {ric: &quot;EUR&quot;, field1: 10, field2: &quot;aaa&quot;},
    {ric: &quot;DJI&quot;, field1: 10, field2: &quot;bbb&quot;},
    {ric: &quot;SPX&quot;, field1: 20, field2: &quot;aaa&quot;},
];

// &quot;ric&quot; field is used as row identifier as it contains a unique value for each row
grid.api.updateDataSet(dataSet1, &quot;ric&quot;);


var dataSet2 = [
    {ric: &quot;SPX&quot;, field1: 30, field2: &quot;ccc&quot;, field3: true },
    {ric: &quot;DJI&quot;, field2: &quot;ddd&quot; },
    {ric: &quot;THB&quot;, field1: 10, field2: &quot;aaa&quot;},
    {ric: &quot;FTSE&quot;, field1: 10, field2: &quot;aaa&quot;},
];

// 4 different things will happen after calling updateDataSet with dataSet2
// 1. EUR row is no longer presented. It will be removed
// 2. THB and FTSE rows get added.
// 3. SPX and DJI rows get new updates to the given fields
//        3.1 field1, field2, and field3 on SPX row will be updated
//        3.2 field2 on DJI row will be updated
// 4. All row orders will be changed according to the row order in the second data set
grid.api.updateDataSet(dataSet2, &quot;ric&quot;);
</code></pre>
<h3 id="updating-large-data-set-example">Updating large data set example</h3>
<p>The following example shows how rows are added, removed, and updated when switching between different datasets using <code>updateDataSet</code> method.</p>
<code-sandbox hash="41f45017"><pre><code class="language-css">atlas-blotter {
    height: 400px;
}
html hr {
    margin: 5px;
}
</code></pre>
<pre><code class="language-html">&lt;button id=&quot;dataset_btn1&quot;&gt;Dataset 1&lt;/button&gt;
&lt;button id=&quot;dataset_btn2&quot;&gt;Dataset 2&lt;/button&gt;
&lt;button id=&quot;dataset_btn3&quot;&gt;Dataset 3&lt;/button&gt;
&lt;hr&gt;
&lt;atlas-blotter id=&quot;grid&quot;&gt;&lt;/atlas-blotter&gt;
</code></pre>
<pre><code class="language-javascript">import &#39;./resources/extensions.js&#39;; // This line is only required for demo purpose. It is not relevant for your application.
import { halo } from &#39;./theme-loader.js&#39;; // This line is only required for demo purpose. It is not relevant for your application.
await halo(); // This line is only required for demo purpose. It is not relevant for your application.

/* ---------------------------------- Note ----------------------------------
  DataGenerator, Formatters and extensions are exposed to global scope
  in the bundle file to make it easier to create live examples.
  Importing formatters and extensions is still required in your application. 
  Please see the document for further information.
---------------------------------------------------------------------------*/
var fields = [&quot;id&quot;, &quot;companyName&quot;, &quot;CF_LAST&quot;, &quot;CF_NETCHNG&quot;, &quot;market&quot;];
var rowCount = 1000;
var dataset1 = tr.DataGenerator.generateRecords(fields, {seed: 1, numRows: rowCount});

document.getElementById(&quot;dataset_btn1&quot;).addEventListener(&quot;click&quot;, function(e) {
    grid.api.updateDataSet(dataset1, &quot;id&quot;);
});
document.getElementById(&quot;dataset_btn2&quot;).addEventListener(&quot;click&quot;, function(e) {
    var dataset2 = dataset1.map(newRecord);
    grid.api.updateDataSet(dataset2, &quot;id&quot;);
});
document.getElementById(&quot;dataset_btn3&quot;).addEventListener(&quot;click&quot;, function(e) {
    var dataset3 = dataset1.slice(0, 5).map(newRecord);
    var randNum = randInt(0, 5);
    var record = dataset3.splice(randNum, 1)[0];
    dataset3.push(record);
    
    grid.api.updateDataSet(dataset3, &quot;id&quot;);
});

var configObj = {
    columns: [
        { name: &quot;Id&quot;, field: fields[0], width: 70 },
        { name: &quot;companyName&quot;, field: fields[1] },
        { name: &quot;Last&quot;, field: fields[2], alignment: &quot;right&quot;, blinking: {level: false} },
        { name: &quot;Net. Chng&quot;, field: fields[3], alignment: &quot;right&quot;, blinking: {level: false} },
        { name: &quot;Market&quot;, field: fields[4] }
    ]
};

var grid = document.getElementById(&quot;grid&quot;);
grid.config = configObj;

function newRecord(record, idx) {
    var newRecord = {};
    newRecord.id = record.id;
    newRecord.companyName = record.companyName;
    newRecord.CF_LAST = record.CF_LAST + randInt(-2, 3);
    newRecord.CF_NETCHNG = record.CF_NETCHNG + randInt(-2, 3);
    newRecord.market = record.market;
    return newRecord;
}

function randInt(min, exclusive_max) {
    return Math.floor(randFloat(min, exclusive_max));
}
function randFloat(min, exclusive_max) {
    return Math.random() * (exclusive_max - min) + min;
}
</code></pre>
</code-sandbox><h2 id="updating-data-in-emerald-grid">Updating data in Emerald Grid</h2>
<p>The row order can be shifted by data manipulation, such as sorting and filtering. So, the <strong>row index</strong> is not good for referencing or storing/saving operations. A <strong>row ID</strong> needs to be initially assigned to each row, in order to update data at a later stage. Once you can refer to the row, then we can use <code>setRowData()</code> method to update the data. </p>
<h3 id="assigning-a-row-id">Assigning a row ID</h3>
<p>You can supply row ID to the <a href="#/data/create">row adding methods</a>. For instance:</p>
<blockquote>
<p>Note: row ID must be unique within the data table.</p>
</blockquote>
<pre><code class="language-js">var dt = grid.api.getDataTable();
dt.addRows([
    {&quot;field1&quot;: &quot;a&quot;, &quot;field2&quot;: 1, &quot;field3&quot;: null},
    {&quot;field1&quot;: &quot;b&quot;, &quot;field2&quot;: 5, &quot;field3&quot;: {&quot;someKey&quot;: 10}},
    {&quot;field1&quot;: &quot;c&quot;, &quot;field2&quot;: 7, &quot;field3&quot;: [1, 2, 3]},
    {&quot;field1&quot;: &quot;c&quot;, &quot;field4&quot;: &quot;some value&quot;} // Rows don&#39;t need to be in uniform structure
],
[
    &quot;a&quot;,
    &quot;b&quot;,
    &quot;c&quot;,
    &quot;d&quot;
]); // 4 rows with row id are added

console.log(dt.getRowData(&quot;b&quot;)); // Get a row with row id &quot;b&quot;
</code></pre>
<p>Alternatively, we can attached row ID directly to the row data by using a special keyword <code>ROW_ID</code>, like so:</p>
<pre><code class="language-js">var dt = grid.api.getDataTable();
dt.addRows([
    {&quot;ROW_ID&quot;: &quot;a&quot;, &quot;field1&quot;: &quot;a&quot;, &quot;field2&quot;: 1, &quot;field3&quot;: null},
    {&quot;ROW_ID&quot;: &quot;b&quot;, &quot;field1&quot;: &quot;b&quot;, &quot;field2&quot;: 5, &quot;field3&quot;: {&quot;someKey&quot;: 10}},
    {&quot;ROW_ID&quot;: &quot;c&quot;, &quot;field1&quot;: &quot;c&quot;, &quot;field2&quot;: 7, &quot;field3&quot;: [1, 2, 3]},
    {&quot;ROW_ID&quot;: &quot;d&quot;, &quot;field1&quot;: &quot;c&quot;, &quot;field4&quot;: &quot;some value&quot;}
]); // 4 rows with row id are added

console.log(dt.getRowData(&quot;c&quot;)); // Get a row with row id &quot;c&quot;
</code></pre>
<p>If you left out the row IDs, DataTable will automatically generate a unique row ID for each row. Then, you can still retrieve the row ID of a specific row by using <code>getRowId()</code> or <code>getAllRowIds()</code> methods.</p>
<pre><code class="language-js">var dt = grid.api.getDataTable();
dt.addRows([
    {&quot;field1&quot;: &quot;a&quot;, &quot;field2&quot;: 1, &quot;field3&quot;: null},
    {&quot;field1&quot;: &quot;b&quot;, &quot;field2&quot;: 5, &quot;field3&quot;: {&quot;someKey&quot;: 10}},
    {&quot;field1&quot;: &quot;c&quot;, &quot;field2&quot;: 7, &quot;field3&quot;: [1, 2, 3]},
    {&quot;field1&quot;: &quot;c&quot;, &quot;field4&quot;: &quot;some value&quot;}
]); // 4 rows are added and auto generated row ids are assigned to each row

console.log(dt.getAllRowIds());

console.log(dt.getRowId(0)); // Get row id of the first row
</code></pre>
<p>You can also assign row ID by using <code>setDataFromObjectMap()</code> method.</p>
<pre><code class="language-js">var dt = grid.api.getDataTable();
dt.setDataFromObjectMap({
    &quot;a&quot;: {&quot;field1&quot;: &quot;a&quot;, &quot;field2&quot;: 1, &quot;field3&quot;: null},
    &quot;b&quot;: {&quot;field1&quot;: &quot;b&quot;, &quot;field2&quot;: 5, &quot;field3&quot;: {&quot;someKey&quot;: 10}},
    &quot;c&quot;: {&quot;field1&quot;: &quot;c&quot;, &quot;field2&quot;: 7, &quot;field3&quot;: [1, 2, 3]},
    &quot;d&quot;: {&quot;field1&quot;: &quot;c&quot;, &quot;field4&quot;: &quot;some value&quot;} 
}); // 4 rows with row id are added

console.log(dt.getAllRowIds());

console.log(dt.getRowId(0)); // Get row id of the first row
</code></pre>
<blockquote>
<p>To make things easy, it&#39;s recommend you use RIC as a row ID because you won&#39;t typically have two of the same RIC within the same grid.
But, you can use any text you like for the row ID, depending on the context or situation in your application. </p>
</blockquote>
<h3 id="updating-a-row">Updating a row</h3>
<p>Use <code>setRowData()</code> method to update the data.</p>
<blockquote>
<p>Note: if supplied row ID does not exist in the data table, a new row is added to the data table instead -- equivalent to calling <code>addRowData()</code> method.</p>
</blockquote>
<pre><code class="language-js">var dt = grid.api.getDataTable();
dt.addRows([
    {&quot;ROW_ID&quot;: &quot;a&quot;, &quot;field1&quot;: &quot;a&quot;, &quot;field2&quot;: 1, &quot;field3&quot;: null},
    {&quot;ROW_ID&quot;: &quot;b&quot;, &quot;field1&quot;: &quot;b&quot;, &quot;field2&quot;: 5, &quot;field3&quot;: {&quot;someKey&quot;: 10}},
    {&quot;ROW_ID&quot;: &quot;c&quot;, &quot;field1&quot;: &quot;c&quot;, &quot;field2&quot;: 7, &quot;field3&quot;: [1, 2, 3]},
    {&quot;ROW_ID&quot;: &quot;d&quot;, &quot;field1&quot;: &quot;c&quot;, &quot;field4&quot;: &quot;some value&quot;}
]);
console.log(dt.getData(&quot;c&quot;, &quot;field2&quot;));

dt.setRowData(&quot;c&quot;, {&quot;field2&quot;: 33, &quot;field1&quot;: &quot;aa&quot;}); // Update row &quot;c&quot;

console.log(dt.getRowData(&quot;c&quot;));

setTimeout(function(){
    dt.setRowData(&quot;c&quot;, {&quot;field2&quot;: 44});

    console.log(dt.getRowData(&quot;c&quot;));
}, 1000);
</code></pre>
<h3 id="emerald-grid-example">Emerald Grid example</h3>
<code-sandbox hash="5c244f8"><pre><code class="language-css">emerald-grid {
    height: 230px;
}
html hr {
    margin: 5px;
}
</code></pre>
<pre><code class="language-html">&lt;button id=&quot;realtime_btn&quot;&gt;Toggle Real-time Update&lt;/button&gt;
&lt;button id=&quot;eur_btn&quot;&gt;Update EUR=&lt;/button&gt;
&lt;button id=&quot;jpy_btn&quot;&gt;Update JPY=&lt;/button&gt;
&lt;hr&gt;
&lt;emerald-grid id=&quot;grid&quot;&gt;&lt;/emerald-grid&gt;
</code></pre>
<pre><code class="language-javascript">import &#39;./resources/extensions.js&#39;; // This line is only required for demo purpose. It is not relevant for your application.
import { halo } from &#39;./theme-loader.js&#39;; // This line is only required for demo purpose. It is not relevant for your application.
await halo(); // This line is only required for demo purpose. It is not relevant for your application.

/* ---------------------------------- Note ----------------------------------
  DataGenerator, Formatters and extensions are exposed to global scope
  in the bundle file to make it easier to create live examples.
  Importing formatters and extensions is still required in your application. 
  Please see the document for further information.
---------------------------------------------------------------------------*/
var fields = [&quot;RIC&quot;, &quot;CF_LAST&quot;, &quot;PCTCHNG&quot;, &quot;CF_NETCHNG&quot;, &quot;CF_CLOSE&quot;];
var ricList = [&quot;EUR=&quot;, &quot;GBP=&quot;, &quot;THB=&quot;, &quot;JPY=&quot;, &quot;AUD=&quot;];
var realtimeInterval = 0;

document.getElementById(&quot;realtime_btn&quot;).addEventListener(&quot;click&quot;, function(e) {
    if (realtimeInterval) {
        clearInterval(realtimeInterval);
        realtimeInterval = 0;
    } else {
        realtimeInterval = setInterval(onRealtimeUpdate, 1200); // Simulate real-time update
        onRealtimeUpdate(); // Update data immediately after click
    }
});
document.getElementById(&quot;eur_btn&quot;).addEventListener(&quot;click&quot;, function(e) {
    updateGridData(getRowUpdate(&quot;EUR=&quot;));
});
document.getElementById(&quot;jpy_btn&quot;).addEventListener(&quot;click&quot;, function(e) {
    updateGridData(getRowUpdate(&quot;JPY=&quot;));
});

function onRealtimeUpdate() {
    updateGridData(getRowUpdates());
}

function updateGridData(rowUpdates) {
    var dt = grid.api.getDataTable();
    dt.setDataFromObjectMap(rowUpdates);
}

function getFieldUpdate(dataObj) {
    // Simulate data updates for multiple field
    if (!dataObj) {
        dataObj = {};
    }
    var fieldCount = fields.length;
    for (var i = 1; i &lt; fieldCount; ++i) {
        if (randInt(0, 10) &lt; 6) {
            var field = fields[i];
            dataObj[field] = round(randFloat(-100, 100));
        }
    }
    return dataObj;
}
function getRowUpdate(ric, rowUpdates) {
    // Simulate data updates for a single row
    if (!ric) {
        ric = ricList[randInt(0, ricList.length)];
    }
    if (!rowUpdates) {
        rowUpdates = {};
    }
    var dataObj = getFieldUpdate(rowUpdates[ric]);
    dataObj[fields[0]] = ric;

    rowUpdates[ric] = dataObj;
    return rowUpdates;
}
function getRowUpdates() {
    // Simulate data updates for multiple rows
    var ricCount = ricList.length;
    var rowUpdates = {};
    for (var i = 0; i &lt; ricCount; ++i) {
        if (randInt(0, 10) &lt; 4) {
            getRowUpdate(ricList[i], rowUpdates);
        }
    }
    return rowUpdates;
}

function randInt(min, exclusive_max) {
    return Math.floor(randFloat(min, exclusive_max));
}
function randFloat(min, exclusive_max) {
    return Math.random() * (exclusive_max - min) + min;
}
function round(num) {
    return Math.round(num * 100) / 100;
}

var configObj = {
    columns: [
        { title: &quot;RIC&quot;, field: fields[0], sortBy: fields[0], width: 70 },
        { title: &quot;Last&quot;, field: fields[1], sortBy: fields[1], alignment: &quot;right&quot; },
        { title: &quot;Pct. Chng&quot;, field: fields[2], sortBy: fields[2], alignment: &quot;right&quot; },
        { title: &quot;Net. Chng&quot;, field: fields[3], sortBy: fields[3], alignment: &quot;right&quot; },
        { title: &quot;Close&quot;, field: fields[4], sortBy: fields[4], alignment: &quot;right&quot; }
    ]
};

    var grid = document.getElementById(&quot;grid&quot;);
    grid.config = configObj;
</code></pre>
</code-sandbox><p><br><br><br></p>
