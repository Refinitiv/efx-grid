<h1 id="auto-suggest">Auto Suggest</h1>
<p>If you have an input element inside the grid, we have provided a way to attach auto-suggest functionality to that input. This feature is helpful for users who want to type and search for something within the input field.</p>
<h2 id="cell-editing">Cell editing</h2>
<p>If you are using in-cell editing extensions, you can enable the auto-suggest feature by setting the <code>autoSuggest</code> option. This will display auto-suggestions when typing in the input field of the in-cell editing extension. Here is an example for you:</p>
<code-sandbox hash="fd9ed010"><pre><code class="language-css">atlas-blotter {
    height: 300px;
    margin-bottom: 40px;
}
</code></pre>
<pre><code class="language-html">&lt;atlas-blotter id=&quot;grid_elem&quot;&gt;&lt;/atlas-blotter&gt;
&lt;div id=&quot;contain_elem&quot;&gt;
    &lt;atlas-autosuggest id=&quot;auto_suggest_elem&quot;&gt;&lt;/atlas-autosuggest&gt;
&lt;/div&gt;
</code></pre>
<pre><code class="language-javascript">import &#39;./resources/extensions.js&#39;; // This line is only required for demo purpose. It is not relevant for your application.
import { halo } from &#39;./theme-loader.js&#39;; // This line is only required for demo purpose. It is not relevant for your application.
await halo(); // This line is only required for demo purpose. It is not relevant for your application.

/* ---------------------------------- Note ----------------------------------
  DataGenerator, Formatters and extensions are exposed to global scope
  in the bundle file to make it easier to create live examples.
  Importing formatters and extensions is still required in your application. 
  Please see the document for further information.
---------------------------------------------------------------------------*/
var inCellEditingExt = new tr.InCellEditingExtension();

var fields = [&quot;RIC&quot;, &quot;market&quot;, &quot;CF_LAST&quot;, &quot;industry&quot;];
var records = tr.DataGenerator.generateRecords(fields, { seed: 0, numRows: 50 });
var grid = document.getElementById(&quot;grid&quot;);
records = records.map(function(record) {
    record[&quot;RIC&quot;] = &quot;&quot;;
    return record;
})
records[2][&quot;RIC&quot;] = &quot;APPL.O&quot;;
var rows = new Array(20).map(function (val) {
    return &quot;&quot;;
});
rows[2] = &quot;APPL.O&quot;;

var configObj = {
    tabToFocus: true,
    columns: [
        {
            field: fields[0],
            name: &quot;RIC (Double Click to edit cell)&quot;,
            editableContent: true
        },
        {
            field: fields[1],
            name: &quot;Market&quot;
        },
        {
            field: fields[2],
        },
        {
            field: fields[3],
            name: &quot;Industry&quot;
        }
    ],
    staticDataRows: records,
    extensions: [inCellEditingExt],
    inCellEditing: {
        editableTitle: true,
        editableContent: false,
        autoSuggest: auto_suggest_elem
    },
};
var grid = window.grid = document.getElementById(&quot;grid_elem&quot;);
grid.config = configObj;

var autoSuggestElem = document.getElementById(&quot;auto_suggest_elem&quot;);
autoSuggestElem.moreSearchDisabled = true; // Disable more search result, if you want to enable it follow https://amp.int.refinitiv.com/#/package/@elf/atlas-autosuggest
// You can set other autosuggest options here, for example &quot;api-key&quot;, &quot;profile&quot;, &quot;language&quot;, &quot;ric&quot;, &quot;country&quot;, &quot;portfolioId&quot;, &quot;filter&quot;, etc.
mockAutosuggestElementData(autoSuggestElem);
// ========== MOCK data server. Don&#39;t copy this section =================

function mockAutosuggestElementData(autoSuggestElem) {

    const flattenResponse = (response) =&gt; {
        const { result, search, header, action } = response;
        const suggestions = [];
        const meta = {
            url: search,
            keyword: header.request.query
        };
        if (result &amp;&amp; result.length) {
            result.forEach(row =&gt; {
                const rowAsDefault = row.default === true;
                const rowHits = row.hits;
                if (rowHits &amp;&amp; rowHits.length) {
                    rowHits.forEach((rowHit, hitIdx) =&gt; {
                        suggestions.push({
                            label: rowHit.cmd,
                            value: rowHit,
                            highlighted: rowAsDefault &amp;&amp; hitIdx === 0,
                            meta
                        });
                        const relations = rowHit.relations;
                        if (relations) {
                            Object.keys(relations).forEach(key =&gt; {
                                const relation = relations[key];
                                const relationAsDefault = relation.default === true;
                                const relationHits = relation.hits;
                                if (relationHits &amp;&amp; relationHits.length) {
                                    relationHits.forEach((relationHit, relationHitIdx) =&gt; {
                                        suggestions.push({
                                            label: relationHit.cmd,
                                            value: relationHit,
                                            parent: rowHit,
                                            asSub: true,
                                            highlighted: relationAsDefault &amp;&amp; relationHitIdx === 0,
                                            meta
                                        });
                                    });
                                }
                            });
                        }
                    });
                }
            });
        }
        return {
            header,
            meta,
            suggestions,
            action,
            searchUrl: search
        };
    };
    autoSuggestElem.addEventListener(&quot;suggestions-fetch-requested&quot;, suggest);
    function suggest(ev) {
        // Stop default data fetching

        ev.preventDefault();

        // construct cache key off the query object
        var cacheKey = JSON.stringify(ev.detail.query);

        // (optional) use util to parse response
        var responseData = {
            &quot;header&quot;: {
                &quot;request&quot;: {
                    &quot;filter&quot;: &quot;&quot;,
                    &quot;highlight&quot;: true,
                    &quot;userProfileAssetClass&quot;: &quot;CSH&quot;,
                    &quot;api-key&quot;: &quot;czZTQ5MjY4&quot;,
                    &quot;eikon_version&quot;: &quot;Eikon Web&quot;,
                    &quot;profile&quot;: &quot;AlertsUI2&quot;,
                    &quot;query&quot;: &quot;IBV&quot;,
                    &quot;uuid&quot;: &quot;PATESTCPA724&quot;,
                    &quot;appl_category&quot;: []
                },
                &quot;response&quot;: {
                    &quot;duration&quot;: 57,
                    &quot;server&quot;: &quot;c962fkkaswb04.int.thomsonreuters.com&quot;,
                    &quot;num_results&quot;: 10
                }
            },
            &quot;result&quot;: [
                {
                    &quot;name&quot;: &quot;Equities&quot;,
                    &quot;hits&quot;: [
                        {
                            &quot;score&quot;: 6867489,
                            &quot;navigation&quot;: null,
                            &quot;id&quot;: &quot;1097326&quot;,
                            &quot;title&quot;: &quot;International Business Vehicle Corp&quot;,
                            &quot;subtitle&quot;: &quot;Ordinary Share - NYSE Consolidated - IBV&quot;,
                            &quot;symbol&quot;: &quot;&quot; + &quot;&lt;b&gt;&quot; + ev.detail.query + &quot;&lt;/b&gt;&quot; + &quot;&quot;,
                            &quot;cmd&quot;: &quot;IBV&quot;,
                            &quot;relations&quot;: {},
                            &quot;position&quot;: 0,
                            &quot;source&quot;: &quot;12&quot;,
                            &quot;explanation&quot;: null,
                            &quot;p&quot;: {
                                &quot;RIC&quot;: &quot;IBV&quot;,
                                &quot;IsChain&quot;: false,
                                &quot;PermID&quot;: &quot;55839165994&quot;,
                                &quot;OAPermID&quot;: &quot;4295904307&quot;
                            },
                            &quot;ac&quot;: [
                                &quot;A:1&quot;,
                                &quot;A:1L&quot;
                            ],
                            &quot;s&quot;: &quot;IBV&quot;,
                            &quot;vc&quot;: &quot;EQ&quot;,
                            &quot;fr&quot;: false,
                            &quot;st&quot;: &quot;RIC&quot;,
                            &quot;preview&quot;: true
                        },
                        {
                            &quot;score&quot;: 2762007,
                            &quot;navigation&quot;: null,
                            &quot;id&quot;: &quot;131770829&quot;,
                            &quot;title&quot;: &quot;International Business Vehicle Corp&quot;,
                            &quot;subtitle&quot;: &quot;Ordinary Share - MiFID Composite Cross Market Service - IBV&quot;,
                            &quot;symbol&quot;: &quot;&quot; + &quot;&lt;b&gt;&quot; + ev.detail.query + &quot;&lt;/b&gt;&quot; + &quot;IUSD.xbo&quot;,
                            &quot;cmd&quot;: &quot;IBVIUSD.xbo&quot;,
                            &quot;relations&quot;: {},
                            &quot;position&quot;: 1,
                            &quot;source&quot;: &quot;12&quot;,
                            &quot;explanation&quot;: null,
                            &quot;p&quot;: {
                                &quot;RIC&quot;: &quot;IBVIUSD.xbo&quot;,
                                &quot;IsChain&quot;: false,
                                &quot;PermID&quot;: &quot;21523029548&quot;,
                                &quot;OAPermID&quot;: &quot;4295904307&quot;
                            },
                            &quot;ac&quot;: [
                                &quot;A:1&quot;,
                                &quot;A:1L&quot;
                            ],
                            &quot;s&quot;: &quot;IBVIUSD.xbo&quot;,
                            &quot;vc&quot;: &quot;EQ&quot;,
                            &quot;fr&quot;: false,
                            &quot;st&quot;: &quot;RIC&quot;,
                            &quot;preview&quot;: true
                        }
                    ],
                    &quot;hasMore&quot;: true,
                    &quot;default&quot;: false,
                    &quot;size&quot;: 2,
                    &quot;moreLink&quot;: &quot;cpurl://views.cp./Explorer/SRCHxALL.aspx?vcn=SearchAllEquities&amp;Search.Value=ibV&quot;
                },
                {
                    &quot;name&quot;: &quot;Funds&quot;,
                    &quot;hits&quot;: [
                        {
                            &quot;score&quot;: 2741047,
                            &quot;navigation&quot;: null,
                            &quot;id&quot;: &quot;298223588&quot;,
                            &quot;title&quot;: &quot;iShares iBonds Dec 2024 Term Muni Bond ETF&quot;,
                            &quot;subtitle&quot;: &quot;Bond ETF - US123712312 - USD - Cboe Consolidated - IBVM&quot;,
                            &quot;symbol&quot;: &quot;&quot; + &quot;&lt;b&gt;&quot; + ev.detail.query + &quot;&lt;/b&gt;&quot; + &quot;M.K&quot;,
                            &quot;cmd&quot;: &quot;IBVM.K&quot;,
                            &quot;relations&quot;: {},
                            &quot;position&quot;: 4,
                            &quot;source&quot;: &quot;24&quot;,
                            &quot;explanation&quot;: null,
                            &quot;p&quot;: {
                                &quot;RIC&quot;: &quot;IBVM.K&quot;,
                                &quot;IsChain&quot;: false,
                                &quot;PermID&quot;: &quot;21642135445&quot;,
                                &quot;lipperId&quot;: &quot;40215430&quot;
                            },
                            &quot;ac&quot;: [
                                &quot;A:5&quot;,
                                &quot;A:2X&quot;,
                                &quot;A:L0&quot;,
                                &quot;A:7&quot;,
                                &quot;A:GL&quot;
                            ],
                            &quot;s&quot;: &quot;IBVM.K&quot;,
                            &quot;vc&quot;: &quot;FND&quot;,
                            &quot;fr&quot;: false,
                            &quot;st&quot;: &quot;RIC&quot;,
                            &quot;preview&quot;: true
                        }
                    ],
                    &quot;hasMore&quot;: true,
                    &quot;default&quot;: false,
                    &quot;size&quot;: 1,
                    &quot;moreLink&quot;: &quot;cpurl://views.cp./Explorer/SRCHxALL.aspx?vcn=SearchAllFunds&amp;Search.Value=ibV&quot;
                },
                {
                    &quot;name&quot;: &quot;Options&quot;,
                    &quot;hits&quot;: [
                        {
                            &quot;score&quot;: 2157436,
                            &quot;navigation&quot;: null,
                            &quot;id&quot;: &quot;585064349&quot;,
                            &quot;title&quot;: &quot;OPRA International Business Vehicle Equity Option 145 Call Oct 2022 - IBV&quot;,
                            &quot;subtitle&quot;: &quot;Equity Cash Option - OPRA - IBVJ2122C145000&quot;,
                            &quot;symbol&quot;: &quot;&quot; + &quot;&lt;b&gt;&quot; + ev.detail.query + &quot;&lt;/b&gt;&quot; + &quot;J212214500.U&quot;,
                            &quot;cmd&quot;: &quot;IBVJ212214500.U&quot;,
                            &quot;relations&quot;: {},
                            &quot;position&quot;: 5,
                            &quot;source&quot;: &quot;14&quot;,
                            &quot;explanation&quot;: null,
                            &quot;p&quot;: {
                                &quot;RIC&quot;: &quot;IBVJ212214500.U&quot;,
                                &quot;IsChain&quot;: false,
                                &quot;PermID&quot;: &quot;21873654768&quot;
                            },
                            &quot;ac&quot;: [
                                &quot;A:1&quot;,
                                &quot;A:2K&quot;,
                                &quot;A:1T&quot;,
                                &quot;A:7&quot;,
                                &quot;A:G1&quot;,
                                &quot;A:60&quot;
                            ],
                            &quot;s&quot;: &quot;IBVJ212214500.U&quot;,
                            &quot;vc&quot;: &quot;OPT&quot;,
                            &quot;fr&quot;: false,
                            &quot;st&quot;: &quot;RIC&quot;,
                            &quot;preview&quot;: false
                        }
                    ],
                    &quot;hasMore&quot;: true,
                    &quot;default&quot;: false,
                    &quot;size&quot;: 1,
                    &quot;moreLink&quot;: &quot;cpurl://views.cp./Explorer/SRCHxALL.aspx?vcn=SearchAllOptions&amp;Search.Value=ibV&quot;
                },
                {
                    &quot;name&quot;: &quot;Indices&quot;,
                    &quot;hits&quot;: [
                        {
                            &quot;score&quot;: 2157150,
                            &quot;navigation&quot;: null,
                            &quot;id&quot;: &quot;215781470&quot;,
                            &quot;title&quot;: &quot;INTL BUSINES Single Stock Dividend&quot;,
                            &quot;subtitle&quot;: &quot;Equity Index&quot;,
                            &quot;symbol&quot;: &quot;0#.IBVDIV&quot;,
                            &quot;cmd&quot;: &quot;0#.IBVDIV&quot;,
                            &quot;relations&quot;: {},
                            &quot;position&quot;: 6,
                            &quot;source&quot;: &quot;7&quot;,
                            &quot;explanation&quot;: null,
                            &quot;p&quot;: {
                                &quot;RIC&quot;: &quot;0#.IBVDIV&quot;,
                                &quot;OAPermID&quot;: &quot;4298427948&quot;
                            },
                            &quot;ac&quot;: [
                                &quot;M:D6&quot;,
                                &quot;I:M&quot;,
                                &quot;I:17&quot;,
                                &quot;A:1&quot;
                            ],
                            &quot;s&quot;: &quot;0#.IBVDIV&quot;,
                            &quot;vc&quot;: &quot;INDX&quot;,
                            &quot;fr&quot;: false,
                            &quot;st&quot;: &quot;RIC&quot;,
                            &quot;preview&quot;: true
                        }
                    ],
                    &quot;hasMore&quot;: true,
                    &quot;default&quot;: false,
                    &quot;size&quot;: 1,
                    &quot;moreLink&quot;: &quot;cpurl://views.cp./Explorer/SRCHxALL.aspx?vcn=SearchAllIndices&amp;Search.Value=ibV&quot;
                },
                {
                    &quot;name&quot;: &quot;Commodities&quot;,
                    &quot;hits&quot;: [
                        {
                            &quot;score&quot;: 1598945,
                            &quot;navigation&quot;: null,
                            &quot;id&quot;: &quot;606788540&quot;,
                            &quot;title&quot;: &quot;Argus Ice Brent Month 2 Snapshot PA5000637&quot;,
                            &quot;subtitle&quot;: &quot;Crude Oil - Commodity Spot - ARGUS&quot;,
                            &quot;symbol&quot;: &quot;&quot; + &quot;&lt;b&gt;&quot; + ev.detail.query + &quot;&lt;/b&gt;&quot; + &quot;SST=ARG&quot;,
                            &quot;cmd&quot;: &quot;IBVSST=ARG&quot;,
                            &quot;relations&quot;: {},
                            &quot;position&quot;: 7,
                            &quot;source&quot;: &quot;15&quot;,
                            &quot;explanation&quot;: null,
                            &quot;p&quot;: {
                                &quot;RIC&quot;: &quot;IBVSST=ARG&quot;,
                                &quot;IsChain&quot;: false,
                                &quot;PermID&quot;: &quot;21891574387&quot;
                            },
                            &quot;ac&quot;: [
                                &quot;A:4&quot;,
                                &quot;A:1Q&quot;
                            ],
                            &quot;s&quot;: &quot;IBVSST=ARG&quot;,
                            &quot;vc&quot;: &quot;COM&quot;,
                            &quot;fr&quot;: false,
                            &quot;st&quot;: &quot;RIC&quot;,
                            &quot;preview&quot;: true
                        }
                    ],
                    &quot;hasMore&quot;: true,
                    &quot;default&quot;: false,
                    &quot;size&quot;: 1,
                    &quot;moreLink&quot;: &quot;cpurl://apps.cp./apps/SearchAll?Search.Value=ibV&quot;
                },
                {
                    &quot;name&quot;: &quot;Fixed Income&quot;,
                    &quot;hits&quot;: [
                        {
                            &quot;score&quot;: 1465259,
                            &quot;navigation&quot;: null,
                            &quot;id&quot;: &quot;0x00102c80bf6b046c&quot;,
                            &quot;title&quot;: &quot;International Business Vehicle Corp - &quot; + &quot;&lt;b&gt;&quot; + ev.detail.query + &quot;&lt;/b&gt;&quot; + &quot; 2.875% 09-Nov-2022&quot;,
                            &quot;subtitle&quot;: &quot;Plain Vanilla Fixed Coupon Bond - Underwritten&quot;,
                            &quot;symbol&quot;: &quot;US459200JC60&quot;,
                            &quot;cmd&quot;: &quot;US459200JC60&quot;,
                            &quot;relations&quot;: {},
                            &quot;position&quot;: 8,
                            &quot;source&quot;: &quot;3&quot;,
                            &quot;explanation&quot;: null,
                            &quot;p&quot;: {
                                &quot;RIC&quot;: &quot;459200JC6=&quot;,
                                &quot;OAPermID&quot;: &quot;4295904307&quot;
                            },
                            &quot;ac&quot;: [
                                &quot;A:2&quot;,
                                &quot;A:J&quot;
                            ],
                            &quot;s&quot;: &quot;459200JC6=&quot;,
                            &quot;vc&quot;: &quot;BOND&quot;,
                            &quot;fr&quot;: false,
                            &quot;st&quot;: &quot;RIC&quot;,
                            &quot;preview&quot;: true
                        }
                    ],
                    &quot;hasMore&quot;: true,
                    &quot;default&quot;: false,
                    &quot;size&quot;: 1,
                    &quot;moreLink&quot;: &quot;cpurl://apps.cp./apps/SearchAll?Search.Value=ibV&quot;
                },
                {
                    &quot;name&quot;: &quot;FX&quot;,
                    &quot;hits&quot;: [
                        {
                            &quot;score&quot;: 237124,
                            &quot;navigation&quot;: null,
                            &quot;id&quot;: &quot;47051538460&quot;,
                            &quot;title&quot;: &quot;US Dollar/Chinese Renminbi 6 Month FX Forecast&quot;,
                            &quot;subtitle&quot;: &quot;IBV INDIA - 6 Month&quot;,
                            &quot;symbol&quot;: &quot;CNY6MP=0631&quot;,
                            &quot;cmd&quot;: &quot;CNY6MP=0631&quot;,
                            &quot;relations&quot;: {},
                            &quot;position&quot;: 9,
                            &quot;source&quot;: &quot;23&quot;,
                            &quot;explanation&quot;: null,
                            &quot;p&quot;: {
                                &quot;RIC&quot;: &quot;CNY6MP=0631&quot;,
                                &quot;PermID&quot;: &quot;47051538460&quot;
                            },
                            &quot;ac&quot;: [
                                &quot;M:D6&quot;,
                                &quot;A:55&quot;,
                                &quot;A:3&quot;,
                                &quot;A:9&quot;,
                                &quot;M:1MN&quot;
                            ],
                            &quot;s&quot;: &quot;CNY6MP=0631&quot;,
                            &quot;vc&quot;: &quot;FX&quot;,
                            &quot;fr&quot;: false,
                            &quot;st&quot;: &quot;RIC&quot;,
                            &quot;preview&quot;: false
                        }
                    ],
                    &quot;hasMore&quot;: true,
                    &quot;default&quot;: false,
                    &quot;size&quot;: 1,
                    &quot;moreLink&quot;: &quot;cpurl://views.cp./Explorer/SRCHxALL.aspx?vcn=SearchAllFXMoney&amp;Search.Value=ibV&quot;
                }
            ],
            &quot;search&quot;: &quot;cpurl://apps.cp./apps/SearchAll?Search.Value=ibV&quot;,
            &quot;action&quot;: &quot;\&quot;IBV\&quot; SRCH&quot;,
            &quot;assetClassifierStatus&quot;: &quot;NOT_INVOKED&quot;,
            &quot;assetClassifierExplanation&quot;: &quot;Current profile is not in the list of the silent mode profiles for asset classifier.&quot;
        };
        var parsed = flattenResponse(responseData);

        // cache the response
        autoSuggestElem.cacheModel.set(cacheKey, parsed);

        // set suggestions data
        autoSuggestElem.setSuggestions(parsed);
    }
}
</code></pre>
</code-sandbox><h2 id="custom-rendering">Custom rendering</h2>
<p>If you use custom rendering for inputs and want to attach the auto-suggest element to your input, you can do so even if you have multiple inputs inside the grid. When you focus on an input, the auto-suggest will automatically attach to that input, and suggestions will appear as you type. Here is an example for you:</p>
<code-sandbox hash="b5e70b3e"><pre><code class="language-css">atlas-blotter {
    height: 300px;
    margin-bottom: 40px;
}
</code></pre>
<pre><code class="language-html">&lt;atlas-blotter id=&quot;grid_elem&quot;&gt;&lt;/atlas-blotter&gt;
&lt;div id=&quot;contain_elem&quot;&gt;
    &lt;atlas-autosuggest id=&quot;auto_suggest_elem&quot;&gt;&lt;/atlas-autosuggest&gt;
&lt;/div&gt;
</code></pre>
<pre><code class="language-javascript">import &#39;./resources/extensions.js&#39;; // This line is only required for demo purpose. It is not relevant for your application.
import { halo } from &#39;./theme-loader.js&#39;; // This line is only required for demo purpose. It is not relevant for your application.
await halo(); // This line is only required for demo purpose. It is not relevant for your application.

/* ---------------------------------- Note ----------------------------------
  DataGenerator, Formatters and extensions are exposed to global scope
  in the bundle file to make it easier to create live examples.
  Importing formatters and extensions is still required in your application. 
  Please see the document for further information.
---------------------------------------------------------------------------*/
var fields = [&quot;RIC&quot;, &quot;market&quot;, &quot;CF_LAST&quot;, &quot;industry&quot;];
var records = tr.DataGenerator.generateRecords(fields, { seed: 0, numRows: 22 });
var simpleInputFormatter = tr.SimpleInputFormatter ? tr.SimpleInputFormatter: SimpleInputFormatter;

var grid = document.getElementById(&quot;grid&quot;);
records = records.map(function(record) {
    record[&quot;RIC&quot;] = &quot;&quot;;
    return record;
})
records[2][&quot;RIC&quot;] = &quot;APPL.O&quot;;
var rows = new Array(20).map(function (val) {
    return &quot;&quot;;
});
rows[2] = &quot;APPL.O&quot;;

var configObj = {
    tabToFocus: true,
    columns: [
        {
            field: fields[0],
            name: &quot;RIC&quot;,
            binding: autoSuggestBinding,
            focusable: true,
        },
        {
            field: fields[1],
            name: &quot;Market&quot;,
            binding:  simpleInputFormatter.create(),
            focusable: true,
        },
        {
            field: fields[2],
        },
        {
            field: fields[3],
            name: &quot;Industry&quot;,
            binding: simpleInputFormatter.create(),
            focusable: true,
        }
    ],
    staticDataRows: records
};
var grid = window.grid = document.getElementById(&quot;grid_elem&quot;);
grid.config = configObj;

function autoSuggestBinding(e) {
    let cell = e.cell;
    let rowData = e.rowData;
    let rowDef = e.rowDef;
    let rowIndex = e.rowIndex;
    let content = cell.getContent();
    if (!content || !content._inputElem) {
        let inputElem = content = document.createElement(&quot;input&quot;);
        inputElem.placeholder = &#39;Type to search RIC&#39;;
        content._inputElem = inputElem;
        inputElem.addEventListener(&quot;focus&quot;, onAttachingInputFocused);
    }
    content._inputElem.value = rowData[fields[0]] || &quot;&quot;;
    cell.setContent(content);
};

function onAttachingInputFocused(e, rowIndex) {
    autoSuggestGlobe.attach = e.target;
    autoSuggestGlobe.positionTarget = e.target;
}

function onValueChanged(e) {
    console.log(&quot;Value Changed&quot;, e);
}

function onItemSelected(e) {
    let autoSuggestElem = e.srcElement;
    let inputAttaching = autoSuggestElem.attach;
    let pos = grid.api.getRelativePosition(inputAttaching);
    if(!pos || !pos.hit) { // Element not inside the grid
        return;
    }
    let detail = e.detail;
    let value = detail.suggestion.value;
    if(!value) {
        console.warn(&quot;Auto suggestion item has no value&quot;);
        return;
    }
    let ric = value.p.RIC;
    let rowIndex = pos.rowIndex;
    let rowDef = grid.api.getRowDefinition(rowIndex);
    rowDef.setData(&quot;RIC&quot;, ric);
}
var autoSuggestGlobe = document.getElementById(&quot;auto_suggest_elem&quot;);
autoSuggestGlobe.moreSearchDisabled = true; // Disable more search result, if you want to enable it follow https://amp.int.refinitiv.com/#/package/@elf/atlas-autosuggest
// You can set other autosuggest options here, for example &quot;api-key&quot;, &quot;profile&quot;, &quot;language&quot;, &quot;ric&quot;, &quot;country&quot;, &quot;portfolioId&quot;, &quot;filter&quot;, etc.
autoSuggestGlobe.addEventListener(&quot;item-select&quot;, onItemSelected);

mockAutosuggestElementData(autoSuggestGlobe);
document.getElementById(&quot;contain_elem&quot;).appendChild(autoSuggestGlobe);
// ========== MOCK data server. Don&#39;t copy this section =================

function mockAutosuggestElementData(autoSuggestElem) {

    const flattenResponse = (response) =&gt; {
        const { result, search, header, action } = response;
        const suggestions = [];
        const meta = {
            url: search,
            keyword: header.request.query
        };
        if (result &amp;&amp; result.length) {
            result.forEach(row =&gt; {
                const rowAsDefault = row.default === true;
                const rowHits = row.hits;
                if (rowHits &amp;&amp; rowHits.length) {
                    rowHits.forEach((rowHit, hitIdx) =&gt; {
                        suggestions.push({
                            label: rowHit.cmd,
                            value: rowHit,
                            highlighted: rowAsDefault &amp;&amp; hitIdx === 0,
                            meta
                        });
                        const relations = rowHit.relations;
                        if (relations) {
                            Object.keys(relations).forEach(key =&gt; {
                                const relation = relations[key];
                                const relationAsDefault = relation.default === true;
                                const relationHits = relation.hits;
                                if (relationHits &amp;&amp; relationHits.length) {
                                    relationHits.forEach((relationHit, relationHitIdx) =&gt; {
                                        suggestions.push({
                                            label: relationHit.cmd,
                                            value: relationHit,
                                            parent: rowHit,
                                            asSub: true,
                                            highlighted: relationAsDefault &amp;&amp; relationHitIdx === 0,
                                            meta
                                        });
                                    });
                                }
                            });
                        }
                    });
                }
            });
        }
        return {
            header,
            meta,
            suggestions,
            action,
            searchUrl: search
        };
    };
    autoSuggestElem.addEventListener(&quot;suggestions-fetch-requested&quot;, suggest);
    function suggest(ev) {
        // Stop default data fetching

        ev.preventDefault();

        // construct cache key off the query object
        var cacheKey = JSON.stringify(ev.detail.query);

        // (optional) use util to parse response
        var responseData = {
            &quot;header&quot;: {
                &quot;request&quot;: {
                    &quot;filter&quot;: &quot;&quot;,
                    &quot;highlight&quot;: true,
                    &quot;userProfileAssetClass&quot;: &quot;CSH&quot;,
                    &quot;api-key&quot;: &quot;czZTQ5MjY4&quot;,
                    &quot;eikon_version&quot;: &quot;Eikon Web&quot;,
                    &quot;profile&quot;: &quot;AlertsUI2&quot;,
                    &quot;query&quot;: &quot;IBV&quot;,
                    &quot;uuid&quot;: &quot;PATESTCPA724&quot;,
                    &quot;appl_category&quot;: []
                },
                &quot;response&quot;: {
                    &quot;duration&quot;: 57,
                    &quot;server&quot;: &quot;c962fkkaswb04.int.thomsonreuters.com&quot;,
                    &quot;num_results&quot;: 10
                }
            },
            &quot;result&quot;: [
                {
                    &quot;name&quot;: &quot;Equities&quot;,
                    &quot;hits&quot;: [
                        {
                            &quot;score&quot;: 6867489,
                            &quot;navigation&quot;: null,
                            &quot;id&quot;: &quot;1097326&quot;,
                            &quot;title&quot;: &quot;International Business Vehicle Corp&quot;,
                            &quot;subtitle&quot;: &quot;Ordinary Share - NYSE Consolidated - IBV&quot;,
                            &quot;symbol&quot;: &quot;&quot; + &quot;&lt;b&gt;&quot; + ev.detail.query + &quot;&lt;/b&gt;&quot; + &quot;&quot;,
                            &quot;cmd&quot;: &quot;IBV&quot;,
                            &quot;relations&quot;: {},
                            &quot;position&quot;: 0,
                            &quot;source&quot;: &quot;12&quot;,
                            &quot;explanation&quot;: null,
                            &quot;p&quot;: {
                                &quot;RIC&quot;: &quot;IBV&quot;,
                                &quot;IsChain&quot;: false,
                                &quot;PermID&quot;: &quot;55839165994&quot;,
                                &quot;OAPermID&quot;: &quot;4295904307&quot;
                            },
                            &quot;ac&quot;: [
                                &quot;A:1&quot;,
                                &quot;A:1L&quot;
                            ],
                            &quot;s&quot;: &quot;IBV&quot;,
                            &quot;vc&quot;: &quot;EQ&quot;,
                            &quot;fr&quot;: false,
                            &quot;st&quot;: &quot;RIC&quot;,
                            &quot;preview&quot;: true
                        },
                        {
                            &quot;score&quot;: 2762007,
                            &quot;navigation&quot;: null,
                            &quot;id&quot;: &quot;131770829&quot;,
                            &quot;title&quot;: &quot;International Business Vehicle Corp&quot;,
                            &quot;subtitle&quot;: &quot;Ordinary Share - MiFID Composite Cross Market Service - IBV&quot;,
                            &quot;symbol&quot;: &quot;&quot; + &quot;&lt;b&gt;&quot; + ev.detail.query + &quot;&lt;/b&gt;&quot; + &quot;IUSD.xbo&quot;,
                            &quot;cmd&quot;: &quot;IBVIUSD.xbo&quot;,
                            &quot;relations&quot;: {},
                            &quot;position&quot;: 1,
                            &quot;source&quot;: &quot;12&quot;,
                            &quot;explanation&quot;: null,
                            &quot;p&quot;: {
                                &quot;RIC&quot;: &quot;IBVIUSD.xbo&quot;,
                                &quot;IsChain&quot;: false,
                                &quot;PermID&quot;: &quot;21523029548&quot;,
                                &quot;OAPermID&quot;: &quot;4295904307&quot;
                            },
                            &quot;ac&quot;: [
                                &quot;A:1&quot;,
                                &quot;A:1L&quot;
                            ],
                            &quot;s&quot;: &quot;IBVIUSD.xbo&quot;,
                            &quot;vc&quot;: &quot;EQ&quot;,
                            &quot;fr&quot;: false,
                            &quot;st&quot;: &quot;RIC&quot;,
                            &quot;preview&quot;: true
                        }
                    ],
                    &quot;hasMore&quot;: true,
                    &quot;default&quot;: false,
                    &quot;size&quot;: 2,
                    &quot;moreLink&quot;: &quot;cpurl://views.cp./Explorer/SRCHxALL.aspx?vcn=SearchAllEquities&amp;Search.Value=ibV&quot;
                },
                {
                    &quot;name&quot;: &quot;Funds&quot;,
                    &quot;hits&quot;: [
                        {
                            &quot;score&quot;: 2741047,
                            &quot;navigation&quot;: null,
                            &quot;id&quot;: &quot;298223588&quot;,
                            &quot;title&quot;: &quot;iShares iBonds Dec 2024 Term Muni Bond ETF&quot;,
                            &quot;subtitle&quot;: &quot;Bond ETF - US123712312 - USD - Cboe Consolidated - IBVM&quot;,
                            &quot;symbol&quot;: &quot;&quot; + &quot;&lt;b&gt;&quot; + ev.detail.query + &quot;&lt;/b&gt;&quot; + &quot;M.K&quot;,
                            &quot;cmd&quot;: &quot;IBVM.K&quot;,
                            &quot;relations&quot;: {},
                            &quot;position&quot;: 4,
                            &quot;source&quot;: &quot;24&quot;,
                            &quot;explanation&quot;: null,
                            &quot;p&quot;: {
                                &quot;RIC&quot;: &quot;IBVM.K&quot;,
                                &quot;IsChain&quot;: false,
                                &quot;PermID&quot;: &quot;21642135445&quot;,
                                &quot;lipperId&quot;: &quot;40215430&quot;
                            },
                            &quot;ac&quot;: [
                                &quot;A:5&quot;,
                                &quot;A:2X&quot;,
                                &quot;A:L0&quot;,
                                &quot;A:7&quot;,
                                &quot;A:GL&quot;
                            ],
                            &quot;s&quot;: &quot;IBVM.K&quot;,
                            &quot;vc&quot;: &quot;FND&quot;,
                            &quot;fr&quot;: false,
                            &quot;st&quot;: &quot;RIC&quot;,
                            &quot;preview&quot;: true
                        }
                    ],
                    &quot;hasMore&quot;: true,
                    &quot;default&quot;: false,
                    &quot;size&quot;: 1,
                    &quot;moreLink&quot;: &quot;cpurl://views.cp./Explorer/SRCHxALL.aspx?vcn=SearchAllFunds&amp;Search.Value=ibV&quot;
                },
                {
                    &quot;name&quot;: &quot;Options&quot;,
                    &quot;hits&quot;: [
                        {
                            &quot;score&quot;: 2157436,
                            &quot;navigation&quot;: null,
                            &quot;id&quot;: &quot;585064349&quot;,
                            &quot;title&quot;: &quot;OPRA International Business Vehicle Equity Option 145 Call Oct 2022 - IBV&quot;,
                            &quot;subtitle&quot;: &quot;Equity Cash Option - OPRA - IBVJ2122C145000&quot;,
                            &quot;symbol&quot;: &quot;&quot; + &quot;&lt;b&gt;&quot; + ev.detail.query + &quot;&lt;/b&gt;&quot; + &quot;J212214500.U&quot;,
                            &quot;cmd&quot;: &quot;IBVJ212214500.U&quot;,
                            &quot;relations&quot;: {},
                            &quot;position&quot;: 5,
                            &quot;source&quot;: &quot;14&quot;,
                            &quot;explanation&quot;: null,
                            &quot;p&quot;: {
                                &quot;RIC&quot;: &quot;IBVJ212214500.U&quot;,
                                &quot;IsChain&quot;: false,
                                &quot;PermID&quot;: &quot;21873654768&quot;
                            },
                            &quot;ac&quot;: [
                                &quot;A:1&quot;,
                                &quot;A:2K&quot;,
                                &quot;A:1T&quot;,
                                &quot;A:7&quot;,
                                &quot;A:G1&quot;,
                                &quot;A:60&quot;
                            ],
                            &quot;s&quot;: &quot;IBVJ212214500.U&quot;,
                            &quot;vc&quot;: &quot;OPT&quot;,
                            &quot;fr&quot;: false,
                            &quot;st&quot;: &quot;RIC&quot;,
                            &quot;preview&quot;: false
                        }
                    ],
                    &quot;hasMore&quot;: true,
                    &quot;default&quot;: false,
                    &quot;size&quot;: 1,
                    &quot;moreLink&quot;: &quot;cpurl://views.cp./Explorer/SRCHxALL.aspx?vcn=SearchAllOptions&amp;Search.Value=ibV&quot;
                },
                {
                    &quot;name&quot;: &quot;Indices&quot;,
                    &quot;hits&quot;: [
                        {
                            &quot;score&quot;: 2157150,
                            &quot;navigation&quot;: null,
                            &quot;id&quot;: &quot;215781470&quot;,
                            &quot;title&quot;: &quot;INTL BUSINES Single Stock Dividend&quot;,
                            &quot;subtitle&quot;: &quot;Equity Index&quot;,
                            &quot;symbol&quot;: &quot;0#.IBVDIV&quot;,
                            &quot;cmd&quot;: &quot;0#.IBVDIV&quot;,
                            &quot;relations&quot;: {},
                            &quot;position&quot;: 6,
                            &quot;source&quot;: &quot;7&quot;,
                            &quot;explanation&quot;: null,
                            &quot;p&quot;: {
                                &quot;RIC&quot;: &quot;0#.IBVDIV&quot;,
                                &quot;OAPermID&quot;: &quot;4298427948&quot;
                            },
                            &quot;ac&quot;: [
                                &quot;M:D6&quot;,
                                &quot;I:M&quot;,
                                &quot;I:17&quot;,
                                &quot;A:1&quot;
                            ],
                            &quot;s&quot;: &quot;0#.IBVDIV&quot;,
                            &quot;vc&quot;: &quot;INDX&quot;,
                            &quot;fr&quot;: false,
                            &quot;st&quot;: &quot;RIC&quot;,
                            &quot;preview&quot;: true
                        }
                    ],
                    &quot;hasMore&quot;: true,
                    &quot;default&quot;: false,
                    &quot;size&quot;: 1,
                    &quot;moreLink&quot;: &quot;cpurl://views.cp./Explorer/SRCHxALL.aspx?vcn=SearchAllIndices&amp;Search.Value=ibV&quot;
                },
                {
                    &quot;name&quot;: &quot;Commodities&quot;,
                    &quot;hits&quot;: [
                        {
                            &quot;score&quot;: 1598945,
                            &quot;navigation&quot;: null,
                            &quot;id&quot;: &quot;606788540&quot;,
                            &quot;title&quot;: &quot;Argus Ice Brent Month 2 Snapshot PA5000637&quot;,
                            &quot;subtitle&quot;: &quot;Crude Oil - Commodity Spot - ARGUS&quot;,
                            &quot;symbol&quot;: &quot;&quot; + &quot;&lt;b&gt;&quot; + ev.detail.query + &quot;&lt;/b&gt;&quot; + &quot;SST=ARG&quot;,
                            &quot;cmd&quot;: &quot;IBVSST=ARG&quot;,
                            &quot;relations&quot;: {},
                            &quot;position&quot;: 7,
                            &quot;source&quot;: &quot;15&quot;,
                            &quot;explanation&quot;: null,
                            &quot;p&quot;: {
                                &quot;RIC&quot;: &quot;IBVSST=ARG&quot;,
                                &quot;IsChain&quot;: false,
                                &quot;PermID&quot;: &quot;21891574387&quot;
                            },
                            &quot;ac&quot;: [
                                &quot;A:4&quot;,
                                &quot;A:1Q&quot;
                            ],
                            &quot;s&quot;: &quot;IBVSST=ARG&quot;,
                            &quot;vc&quot;: &quot;COM&quot;,
                            &quot;fr&quot;: false,
                            &quot;st&quot;: &quot;RIC&quot;,
                            &quot;preview&quot;: true
                        }
                    ],
                    &quot;hasMore&quot;: true,
                    &quot;default&quot;: false,
                    &quot;size&quot;: 1,
                    &quot;moreLink&quot;: &quot;cpurl://apps.cp./apps/SearchAll?Search.Value=ibV&quot;
                },
                {
                    &quot;name&quot;: &quot;Fixed Income&quot;,
                    &quot;hits&quot;: [
                        {
                            &quot;score&quot;: 1465259,
                            &quot;navigation&quot;: null,
                            &quot;id&quot;: &quot;0x00102c80bf6b046c&quot;,
                            &quot;title&quot;: &quot;International Business Vehicle Corp - &quot; + &quot;&lt;b&gt;&quot; + ev.detail.query + &quot;&lt;/b&gt;&quot; + &quot; 2.875% 09-Nov-2022&quot;,
                            &quot;subtitle&quot;: &quot;Plain Vanilla Fixed Coupon Bond - Underwritten&quot;,
                            &quot;symbol&quot;: &quot;US459200JC60&quot;,
                            &quot;cmd&quot;: &quot;US459200JC60&quot;,
                            &quot;relations&quot;: {},
                            &quot;position&quot;: 8,
                            &quot;source&quot;: &quot;3&quot;,
                            &quot;explanation&quot;: null,
                            &quot;p&quot;: {
                                &quot;RIC&quot;: &quot;459200JC6=&quot;,
                                &quot;OAPermID&quot;: &quot;4295904307&quot;
                            },
                            &quot;ac&quot;: [
                                &quot;A:2&quot;,
                                &quot;A:J&quot;
                            ],
                            &quot;s&quot;: &quot;459200JC6=&quot;,
                            &quot;vc&quot;: &quot;BOND&quot;,
                            &quot;fr&quot;: false,
                            &quot;st&quot;: &quot;RIC&quot;,
                            &quot;preview&quot;: true
                        }
                    ],
                    &quot;hasMore&quot;: true,
                    &quot;default&quot;: false,
                    &quot;size&quot;: 1,
                    &quot;moreLink&quot;: &quot;cpurl://apps.cp./apps/SearchAll?Search.Value=ibV&quot;
                },
                {
                    &quot;name&quot;: &quot;FX&quot;,
                    &quot;hits&quot;: [
                        {
                            &quot;score&quot;: 237124,
                            &quot;navigation&quot;: null,
                            &quot;id&quot;: &quot;47051538460&quot;,
                            &quot;title&quot;: &quot;US Dollar/Chinese Renminbi 6 Month FX Forecast&quot;,
                            &quot;subtitle&quot;: &quot;IBV INDIA - 6 Month&quot;,
                            &quot;symbol&quot;: &quot;CNY6MP=0631&quot;,
                            &quot;cmd&quot;: &quot;CNY6MP=0631&quot;,
                            &quot;relations&quot;: {},
                            &quot;position&quot;: 9,
                            &quot;source&quot;: &quot;23&quot;,
                            &quot;explanation&quot;: null,
                            &quot;p&quot;: {
                                &quot;RIC&quot;: &quot;CNY6MP=0631&quot;,
                                &quot;PermID&quot;: &quot;47051538460&quot;
                            },
                            &quot;ac&quot;: [
                                &quot;M:D6&quot;,
                                &quot;A:55&quot;,
                                &quot;A:3&quot;,
                                &quot;A:9&quot;,
                                &quot;M:1MN&quot;
                            ],
                            &quot;s&quot;: &quot;CNY6MP=0631&quot;,
                            &quot;vc&quot;: &quot;FX&quot;,
                            &quot;fr&quot;: false,
                            &quot;st&quot;: &quot;RIC&quot;,
                            &quot;preview&quot;: false
                        }
                    ],
                    &quot;hasMore&quot;: true,
                    &quot;default&quot;: false,
                    &quot;size&quot;: 1,
                    &quot;moreLink&quot;: &quot;cpurl://views.cp./Explorer/SRCHxALL.aspx?vcn=SearchAllFXMoney&amp;Search.Value=ibV&quot;
                }
            ],
            &quot;search&quot;: &quot;cpurl://apps.cp./apps/SearchAll?Search.Value=ibV&quot;,
            &quot;action&quot;: &quot;\&quot;IBV\&quot; SRCH&quot;,
            &quot;assetClassifierStatus&quot;: &quot;NOT_INVOKED&quot;,
            &quot;assetClassifierExplanation&quot;: &quot;Current profile is not in the list of the silent mode profiles for asset classifier.&quot;
        };
        var parsed = flattenResponse(responseData);

        // cache the response
        autoSuggestElem.cacheModel.set(cacheKey, parsed);

        // set suggestions data
        autoSuggestElem.setSuggestions(parsed);
    }
}

// ========== End mock data server section  ======================================

</code></pre>
</code-sandbox><p><br><br><br></p>
