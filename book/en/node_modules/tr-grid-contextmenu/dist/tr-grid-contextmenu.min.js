!function(e){var t={};function o(n){if(t[n])return t[n].exports;var r=t[n]={i:n,l:!1,exports:{}};return e[n].call(r.exports,r,r.exports,o),r.l=!0,r.exports}o.m=e,o.c=t,o.d=function(e,t,n){o.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},o.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},o.t=function(e,t){if(1&t&&(e=o(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(o.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var r in e)o.d(n,r,function(t){return e[t]}.bind(null,r));return n},o.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return o.d(t,"a",t),t},o.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},o.p="",o(o.s=6)}([function(e,t,o){"use strict";o.r(t),o.d(t,"ElfUtil",(function(){return u}));var n=o(1),r=o(4),i={},l=function(e,t){"attributes"==t.type&&"lang"==t.attributeName&&(e.lang=t.target.lang||"en")},s=function(e,t,o){"attributes"===o.type&&(null!=t?o.attributeName===t&&e(o.target.getAttribute(t)):e(o.target))};i._getNewId=function(){return"observer_"+ ++i._id},i._addObserver=function(e,t,o){var n=o;n||(n={}),n.attributes=!0,i._observer.observe(e,n),i._addListener(e,t)},i._onMutationCallback=function(e){for(var t=0;t<e.length;t++)for(var o=e[t],n=i._listeners[o.target._observeId],r=0;r<n.length;r++)n[r](o)},i._addListener=function(e,t){var o=i._listeners;if(o||(o=i._listeners={}),!e._observeId){var n=i._getNewId();e._observeId=n}o[e._observeId]||(o[e._observeId]=[]);var r=o[e._observeId];r.indexOf(t)<0&&r.push(t)},i.addLanguageListener=function(e){e&&(e.lang=document.documentElement.lang||"en",i._addObserver(document.documentElement,l.bind(null,e)))},i.addAttributeListener=function(e,t,o){e&&t&&i._addObserver(e,s.bind(null,t,o))},i._observer=new MutationObserver(i._onMutationCallback),i._listeners={},i._id=0;var a={en:!0,de:!0,ja:!0,zh:!0,"zh-Hant":!0},u={_deferred:null,themeReady:null,_defaultColors:{up:"#39C46E",down:"#F5475B",level:"#C2C2C2",tickUp:"#39C46E",tickDown:"#F5475B",baseGrid:"#1A1A1C",baseText:"#C2C2C2",trackColor:"#FF9933"}};u.themeColors=u._defaultColors,u._components={},u._themeName="",u._elfVersion=0,u._dummyIcon=null,u._iconLoaded=!1,u._profileName=null,u._callbacks=[],u._observed=!1,u._pendingResolve=!1,u._themeLoaded=!1,u._icons={"elf-theme-halo":{rowGrouping:{expander:"down"},sorting:{ascending:"hollow-arrow-up",descending:"hollow-arrow-down",sortable:"sort-up-down"},columnStack:{stack:"map-layers",expand:"right",collapse:"left"}},"elf-theme-solar":{columnStack:{stack:"list",expand:"right",collapse:"left"}}},u._icons["halo-theme"]=u._icons["elf-theme-halo"],u._icons["solar-theme"]=u._icons["elf-theme-solar"],u.getElfVersion=function(){if(!u._elfVersion){var e=0;if(window.EFX_GRID){var t=window.EFX_GRID.version;e=+(t=t.split("."))[0]}else if(window.elf)if(window.elf.version){var o=window.elf.version.match(/\d/);o&&o[0]&&(e=parseInt(o[0],10))}else window.elf.customElements?e=3:window.customElements&&(e=4);else window.Polymer&&(e=1);u._elfVersion=e}return u._elfVersion},u.hasComponent=function(e){var t=u._components[e];if(null==t){t=0;var o=u.getElfVersion();if(e)1===o?document.createElement(e).is===e&&(t=o):o>1&&(window.customElements&&window.customElements.get(e)||document.createElement(e).constructor!==HTMLElement)&&(t=o),u._components[e]=t}return t},u.toLangString=function(e){if(!e)return"";if("zh-hant"===(e=e.toLowerCase()))return"zh-Hant";var t=e.replace(/-.*/,"");return a[t]?t:""},u.hasTheme=function(e){return e===u.getThemeName()},u.getThemeName=function(e){return u._themeName||(u._themeName=u.getCssVariable("--theme-name",document.documentElement)),u._themeName},u.setThemeName=function(e){u._themeName=e},u.isThemeLoaded=function(){return u._themeLoaded},u.getColors=function(){return u.themeColors},u.isHaloTheme=function(e){return null==e&&(e=u.getThemeName()),!!e&&e.indexOf("halo")>=0},u.injectIcons=function(e,t){if("object"==typeof e){var o=u.getThemeName();e.themeName=o;var n=u.getElfVersion();e.elfVersion=n;var r=u._icons[o];r&&(e.icons=r)}},u.getIconList=function(){var e=u._icons[u.getThemeName()];return e?Object(n.nestedObjectToArray)(e):[]},u._onIconPreloaded=function(){if(u._dummyIcon){var e=u._dummyIcon.parentNode;e&&e.removeChild(u._dummyIcon),u._dummyIcon=null}},u.prepareIconPreloading=function(){if(!u._iconLoaded){u._iconLoaded=!0;var e=u.getIconList();if(e.length){setTimeout(u._onIconPreloaded,10);var t=u._dummyIcon=document.createElement("coral-icon");return t.style.transform="scale(0)",document.body.appendChild(t),e}}return null},u.getCssVariable=function(e,t){var o="",n=t||document.body;return window&&"string"==typeof e&&1===n.nodeType&&e.match(/^--/)&&(o=(o=window.getComputedStyle(n).getPropertyValue(e)).replace(/[\"\']/g,"")),o},u.getCssVariables=function(e,t){var o=t||document.body;if(window&&1===o.nodeType){var n=window.getComputedStyle(o);for(var r in e){var i=e[r];i&&i.match(/^--/)&&(e[r]=n.getPropertyValue(i).replace(/\"/g,""))}}return e||null},u.setRTK=function(e){null!=e&&(u._rtk=e)},u.getMovementColorProfile=function(){return document.documentElement.getAttribute("movement-color-profile")},u._addThemeChangedCallback=function(e){var t=u._callbacks;t.indexOf(e)<0&&t.push(e)},u.reloadThemeColors=function(){return u._deferred&&u._deferred.isFulfilled()?(u._profileName="",u._themeLoaded=!1,u.themeReady=null,u.getThemeColors()):u.themeReady},u.getThemeColors=function(e){if("function"==typeof e&&u._addThemeChangedCallback(e),u.themeReady)return u.themeReady;var t=u._deferred=new r.a;u.themeReady=t.promise;var o=u.getMovementColorProfile();if(o)o!==u._profileName?setTimeout(u._profileNameRetrieved,100):u._deferred.resolve(u.themeColors);else{var n={providerName:"Configuration",settingName:"RDE_USER_CURRENT_TICK_COLOR"},i=window?window.JET:null;if(u._themeLoaded=!1,u._rtk&&u._rtk.Settings)u._rtk.Settings.getAsync(n).then(u._loadingProfileSuccess).catch(u._loadingProfileFailure);else if(i&&i.Settings)try{i.Settings.read(u._loadingProfileSuccess,n)}catch(e){u._loadingProfileFailure()}else setTimeout(u._profileNameRetrieved,100)}return t.promise};var d=function(e){if(e!==u._profileName){u._retrieveThemeColors(e),u._pendingResolve&&(u._pendingResolve=!1,u._deferred.resolve(u.themeColors));for(var t=u._callbacks,o=0;o<t.length;o++)t[o]()}};u._loadingProfileSuccess=function(e){e&&document.documentElement.setAttribute("movement-color-profile",e.toLowerCase()),u._observed?u._pendingResolve=!0:u._profileNameRetrieved(e)},u._loadingProfileFailure=function(){u._retrieveThemeColors(),u._observed||(u._observed=!0,i.addAttributeListener(document.documentElement,d,"movement-color-profile")),u._deferred.reject("Failed to get movement color profile from settings.")},u._profileNameRetrieved=function(){var e=u.getMovementColorProfile();u._retrieveThemeColors(e),u._observed||(u._observed=!0,i.addAttributeListener(document.documentElement,d,"movement-color-profile")),u._deferred.resolve(u.themeColors)},u._retrieveThemeColors=function(e){u._themeLoaded=!0,u._profileName=e;var t=u.themeColors=u.getCssVariables({primary:"--color-scheme-primary",secondary:"--color-scheme-secondary",tertiary:"--color-scheme-tertiary",complementary:"--color-scheme-complementary",up:"--color-scheme-positive",down:"--color-scheme-negative",level:"--color-scheme-neutral",tickUp:"--color-scheme-tickup",tickDown:"--color-scheme-tickdown"});t.up||(t.up=u._defaultColors.up,t.down=u._defaultColors.down,t.level=u._defaultColors.level,t.tickUp=u._defaultColors.tickUp,t.tickDown=u._defaultColors.tickDown),t.positive=t.up,t.negative=t.down,t.neutral=t.level;var o=document.createElement("table");o.style.visibility="hidden",o.style.position="fixed",o.style.left="0",o.style.top="0",o.style.width="0";var r=o.insertRow(-1),i=r.insertCell(-1);document.body.appendChild(o);var l=window.getComputedStyle(r);t.tableBg=l.backgroundColor;var s=window.getComputedStyle(i);t.tableText=s.color,t.tableBorder=s.borderColor,t.tableText===t.tableBorder&&(i.className="tr-lg",s=window.getComputedStyle(i),t.tableBg=s.backgroundColor,t.tableText=s.color,t.tableBorder=s.borderColor,t.tableText===t.tableBorder&&(t.tableBg=u._defaultColors.baseGrid,t.tableText=u._defaultColors.baseText,t.tableBorder="")),t.tableBg=Object(n.rgb2Hex)(t.tableBg),t.tableText=Object(n.rgb2Hex)(t.tableText),t.tableBorder=Object(n.rgb2Hex)(t.tableBorder),document.body.removeChild(o),t.baseGrid=t.tableBg,t.baseText=t.tableText,t.trackColor=t.primary||u._defaultColors.trackColor};t.default=u},function(e,t,o){"use strict";o.r(t),o.d(t,"Util",(function(){return n})),o.d(t,"extendObject",(function(){return r})),o.d(t,"cloneObject",(function(){return i})),o.d(t,"isEmptyObject",(function(){return l})),o.d(t,"deepEqual",(function(){return u})),o.d(t,"arrayToObject",(function(){return s})),o.d(t,"extendProperty",(function(){return a})),o.d(t,"extendArrayProperty",(function(){return d})),o.d(t,"prettifyCss",(function(){return h})),o.d(t,"getShadowRoot",(function(){return _})),o.d(t,"injectCss",(function(){return f})),o.d(t,"isIE",(function(){return m})),o.d(t,"isMac",(function(){return g})),o.d(t,"isTouchDevice",(function(){return v})),o.d(t,"nestedObjectToArray",(function(){return y})),o.d(t,"rgb2Hex",(function(){return C})),o.d(t,"prepareTSVContent",(function(){return b}));var n={post:function(e,t){return n._post(e,t).then(n.toJSON)},requestText:function(e,t){return n._post(e,t,"text/plain").then(n.toText)},requestByUrlEncoded:function(e,t){return n._post(e,t,"application/x-www-form-urlencoded").then(n.toJSON)},toJSON:function(e){return n._logError(e)?Promise.reject(e):e.json()},toText:function(e){return n._logError(e)?Promise.reject(e):e.text()},_logError:function(e){return!!(e&&e.status>=300)&&(console.log("Response "+e.status+": "+e.statusText),!0)},_post:function(e,t,o){var n={method:t?"POST":"GET",headers:{"Content-Type":o||"application/json"}};return t&&(n.body="string"==typeof t?t:JSON.stringify(t)),fetch(e,n)}},r=function(e,t,o){if(!e)return null;if(!t||e===t)return e;var n;if(o)for(var r=o.length,i=0;i<r;++i)(n=o[i])&&a(e,t,n);else for(n in t)a(e,t,n);return e},i=function(e,t){return r({},e,t)},l=function(e){for(var t in e)return!1;return!0},s=function(e,t){if(!Array.isArray(e))return e;if(!t)return null;var o=e;e={};for(var n=o.length,r=0;r<n;++r){var i=t[r];i&&void 0!==o[r]&&(e[i]=o[r])}return e},a=function(e,t,o){var n=t[o];if(null!=n){var r=e[o];Array.isArray(r)?e[o]=r.concat(n):Array.isArray(n)&&r?e[o]=n.concat(r):e[o]=n}},u=function(e,t){if(e===t)return!0;if(typeof e!=typeof t)return!1;if("object"==typeof e){if(Array.isArray(e)){if(e.length!==t.length)return!1;for(var o=0;o<e.length;o++)if(!u(e[o],t[o]))return!1}else{if(Object.keys(e).length!==Object.keys(t).length)return!1;for(var n in e)if(!u(e[n],t[n]))return!1}return!0}return!1},d=function(e,t,o){var n=null;if(o){var r=e[t];n=r?Array.isArray(r)?r:e[t]=[r]:e[t]=[],Array.isArray(o)?o.length&&(o.length>1?Array.prototype.push.apply(n,o):n.push(o[0])):n.push(o)}return n},p=function(e){return Array.isArray(e)?"{\n"+e.join("\n")+"\n}":e},c=function(e){return e.replace(/\n+/g,"\n\t").replace(/\n\t}$/,"\n}")},h=function(e){if(e){var t="";if(Array.isArray(e))t=e.map(p).join("\n").replace(/{\s*{/g,"{").replace(/\s+{/g," {");else t="string"==typeof e?e:e+"";if(t)return t.replace(/{[\w\W]*?}/g,c)}return""},_=function(e){var t;if(e&&(e.shadowRoot?t=e.shadowRoot:e.getRootNode&&(t=e.getRootNode()),t&&t!==document&&t!==e))return t;return null},f=function(e,t){if(!e)return null;var o=document.createElement("style");o.textContent="\n"+e+"\n";var n,r=_(t),i=!0;return r||(i=!1,r=document.head),i&&r.children&&r.children.length&&(n=r.children[0]),n?r.insertBefore(o,n):r.appendChild(o),o},m=function(){var e=window.navigator.userAgent;return e.indexOf("MSIE ")>0||e.indexOf("Trident/")>0||e.indexOf("Edge/")>0},g=function(){return/Mac/.test(navigator.platform)},v=function(){return!!(navigator.maxTouchPoints&&navigator.maxTouchPoints<256||navigator.msMaxTouchPoints&&navigator.msMaxTouchPoints<256)},y=function(e,t){for(var o in t||(t=[]),e){var n=e[o];"object"==typeof n?y(n,t):t.push(n)}return t},C=function(e){if(!e||"string"!=typeof e)return"";if("#"===e.charAt(0))return e;var t=e.match(/\d+/g);if(!t||t.length<3)return e;for(var o="#",n=0;n<3;n++){var r=+t[n];r>=16||(o+="0"),o+=r?r.toString(16).toUpperCase():"0"}return o},b=function(e){if(null==e)return"";var t="string"==typeof e?e:e.toString();return t.length?(t.indexOf("\n")>=0&&(t=t.replace(/[\r\n]/g," ")),t.indexOf("\t")>=0&&(t=t.replace(/\t/g," "))," "!==t.charAt(0)&&" "!==t.charAt(t.length-1)||(t=t.trim()),t):""};t.default=n},function(e,t,o){"use strict";o.r(t),o.d(t,"Ext",(function(){return n}));var n={inherits:function(e,t){function o(){}o.prototype=t.prototype,e.prototype=new o,e.prototype.constructor=e,e.base=function(e,o,n){o||(o="constructor");for(var r=arguments.length,i=new Array(r),l=2;l<r;l++)i[l-2]=arguments[l];return t.prototype[o].apply(e,i)}}};t.default=n},function(e,t,o){"use strict";o.r(t),o.d(t,"EventDispatcher",(function(){return n})),o.d(t,"preventDefault",(function(){return r}));var n=function(){};n.prototype._events=null,n.prototype._listenerCount=0,n.prototype.addEventListener=function(e,t){if(e&&t){this._events||(this._events={});var o=this._events[e];o?o.indexOf(t)<0&&(o.push(t),++this._listenerCount):(this._events[e]=[t],++this._listenerCount)}},n.prototype.removeEventListener=function(e,t){var o=this._events?this._events[e]:null;if(o){var n=o.indexOf(t);n>=0&&(o.splice(n,1),--this._listenerCount)}},n.prototype.removeAllEventListeners=function(){this._events=null,this._listenerCount=0},n.prototype.hasListener=function(e){if(this._listenerCount){if(e){var t=this._events?this._events[e]:null;return!!t&&t.length>0}return!0}return!1},n.prototype.getListener=function(e,t){if(e){var o=this._events?this._events[e]:null;if(o)return t||(t=0),o[t]||null}return null},n.prototype.addListener=function(e,t){var o=e?e[t]:null;"function"==typeof o&&this.addEventListener(t,o)},n.prototype._prepareEventArguments=function(e,t){return t},n.prototype._dispatch=function(e,t){var o=this._events?this._events[e]:null;if(o){t=this._prepareEventArguments(e,t);for(var n=o.length,r=0;r<n;++r)o[r](t)}};var r=function(e){e&&e.preventDefault&&(e.preventDefault(),e.stopPropagation())};n.preventDefault=r,t.default=n},function(e,t,o){"use strict";o.d(t,"a",(function(){return n}));var n=function(e,t,o){this.resolve=this.resolve.bind(this),this.reject=this.reject.bind(this),"function"==typeof e&&(this._resolveHandler=e),"function"==typeof t&&(this._rejectHandler=t),null!=o&&(this._ctx=o),this.promise=new Promise(function(e,t){this._resolve=e,this._reject=t}.bind(this))};n.prototype.promise=null,n.prototype._resolve=null,n.prototype._reject=null,n.prototype._resolveHandler=null,n.prototype._rejectHandler=null,n.prototype._ctx=null,n.prototype._fulfilled=!1,n.prototype.resolve=function(e){if(this._resolve){if(this._resolveHandler){var t=this._resolveHandler(e,this._ctx||this);null!=t&&(e=t)}this._resolve(e),this._finally()}},n.prototype.reject=function(e){if(this._reject){if(this._rejectHandler){var t=this._rejectHandler(e,this._ctx||this);null!=t&&(e=t)}this._reject(e),this._finally()}},n.prototype.isFulfilled=function(){return this._fulfilled},n.prototype._finally=function(){this._fulfilled=!0,this._ctx=this._resolveHandler=this._rejectHandler=null,this._resolve=this._reject=null}},function(e,t,o){"use strict";o.r(t),o.d(t,"GridPlugin",(function(){return l})),o.d(t,"exportExtension",(function(){return s})),o.d(t,"defaultDataGetter",(function(){return u})),o.d(t,"rowDefDataGetter",(function(){return d})),o.d(t,"defaultRowGetter",(function(){return p})),o.d(t,"rowDefRowGetter",(function(){return c})),o.d(t,"rowGetter",(function(){return h})),o.d(t,"colDataGetter",(function(){return _}));var n=o(2),r=o(3),i=o(4),l=function(){};n.Ext.inherits(l,r.EventDispatcher),l.prototype._hosts=null,l.prototype._compositeGrid=null,l.prototype._realTimeGrid=null,l.prototype._rowGetter=null,l.prototype._initializedGrid=!1,l.prototype.listen=l.prototype.addEventListener,l.prototype.unlisten=l.prototype.removeEventListener,l.prototype.afterInit=function(e,t,o){var n=null;o&&o.getCoreGrid&&(n=o.getCoreGrid()),n&&(this.getGridApi()||this.setGridWrapper("compositegrid",o),this._compositeGrid&&n.loadPlugin(this,t)),this._initializedGrid||(this._initializedGrid=!0,this._rowGetter=this._realTimeGrid?c:p,this._afterInit())},l.prototype._afterInit=function(){},l.prototype._dispose=function(){this._hosts&&(this._hosts.length||(this._compositeGrid=this._realTimeGrid=null,this._initializedGrid=!1))},l.prototype.hasMultiTableSupport=function(){return!1},l.prototype._prepareEventArguments=function(e,t){return t||(t={}),t.api=this.getGridApi(),t},l.prototype.getName=function(){return"GridPlugin"},l.prototype.initialize=function(e,t){},l.prototype.unload=function(e){this._dispose()},l.prototype.getRelativeGrid=function(e){var t=null;if(e.target){var o=(t=e.target).api;if(o&&o.getCoreGrid)return o.getCoreGrid()}else e.getElement?t=e.getElement():1===e.nodeType&&(t=e);if(t)for(var n=this._hosts.length;--n>=0;){var r=this._hosts[n];if(r.getElement().contains(t))return r}return null},l.prototype.setGridWrapper=function(e,t){e&&("compositegrid"===(e=e.toLowerCase())?this._compositeGrid=t:"realtimegrid"===e&&(this._realTimeGrid=t))},l.prototype.getGridApi=function(e){if(null==e)return this._compositeGrid||this._realTimeGrid;var t="number"==typeof e?this._hosts[e]:e;return t&&t._wrapper||null},l.prototype.getColumnName=function(e){if(this._compositeGrid){var t=this._compositeGrid.getColumnModel(e);if(t)return t.title?t.title:t.field}else{var o=this.getColumnIndex(e),n=this._realTimeGrid.getColumnDefinition(o);if(n)return n.getName()}return""},l.prototype.getColumnIndex=function(e){if("number"==typeof e)return e;if(this._compositeGrid){var t=this._compositeGrid.getColumnFields().indexOf(e);return t>-1?t:this._compositeGrid.getColumnIndex(e)}return this._realTimeGrid.getColumnIndex(e)},l.prototype.getColumnIndices=function(e){if(this._compositeGrid){for(var t,o=this._compositeGrid.getColumnFields(),n=this._compositeGrid.getColumnCount(),r=[],i=0;i<e.length;i++)if("number"==typeof(t=e[i]))t>=0&&t<n&&r.push(t);else{var l=o.indexOf(t);-1!==l&&r.push(l)}return r}return this._realTimeGrid.getColumnIndices(e)},l.prototype.getColumnId=function(e){if("string"==typeof e)return e;var t=this.getColumnCount();if(e<0||e>=t)return"";if(this._compositeGrid)return this._compositeGrid.getColumnId(e);var o=this._realTimeGrid.getColumnDefinition(e);return o?o.getId():""},l.prototype.getColumnIds=function(){return this._hosts&&this._hosts.length?this._hosts[0].getColumnIds():[]},l.prototype.getColumnField=function(e){return this._hosts&&this._hosts.length?this._hosts[0].getColumnField(e):""},l.prototype.getColumnFields=function(){return this._hosts&&this._hosts.length?this._hosts[0].getColumnFields():[]},l.prototype.getColumnCount=function(){if(this._hosts){var e=this._hosts[0];return e?e.getColumnCount():0}return 0},l.prototype._moveColumnById=function(e,t){var o=this._hosts,n=o?o.length:0;if(n){for(var r=0,i=0;i<n;++i)r|=o[i].moveColumnById(e,t);return!!r}return!1},l.prototype._reorderColumns=function(e,t){var o=this._hosts,n=o?o.length:0;if(n){for(var r=0,i=0;i<n;++i)r|=o[i].reorderColumns(e,t);return!!r}return!1},l.prototype._loadPlugin=function(e,t,o){return e||(e=t.getPlugin(o))||(e=t.loadPlugin(o))&&this._initializedGrid&&(e._initializedGrid=!0),e},l.prototype._requestPlugin=function(e,t,o){return this._initializedGrid?l.requestPlugin(e,t,o,this._compositeGrid,this._realTimeGrid):Promise.reject("Plugin should be requested after the initialization")},l.requestPlugin=function(e,t,o,n,r){var s=null;if(e){var a=null;1===e.nodeType?a=e.api:e.getCoreGrid?a=e:e.getPlugin&&(s=e),a&&(s=a.getCoreGrid(),n||r||(a.getModel?n=a:r=a))}if(!s)return Promise.reject("Cannot find grid element");var u=s.getPlugin(t);if(u)return Promise.resolve(u);var d=new i.a;return setTimeout(l._onPluginRequested.bind(null,{grid:s,pluginRef:t,compositeGrid:n,realTimeGrid:r,config:o,deferred:d}),10),d.promise},l._onPluginRequested=function(e){var t=e.grid;if(!t.getElement())return e.deferred.reject("Grid has been disposed before the plugin is fully loaded: "+e.pluginRef);var o=t.getPlugin(e.pluginRef);if(o)return e.deferred.resolve(o);var n=!1;return e.pluginRef.beforeInit&&(n=!0,e.pluginRef.beforeInit(t.getElement(),e.config,!0)),(o=t.loadPlugin(e.pluginRef,e.config))?(!n&&o.beforeInit&&(n=!0,o.beforeInit(t.getElement(),e.config)),o.setGridWrapper&&(e.compositeGrid?o.setGridWrapper("compositegrid",e.compositeGrid):e.realTimeGrid&&o.setGridWrapper("realtimegrid",e.realTimeGrid)),o.afterInit&&o.afterInit(),e.deferred.resolve(o)):e.deferred.reject("Unable to load required dependency: "+e.pluginRef)},l.prototype._getPlugin=function(e,t){return null==t&&(t=this._hosts[0]),t?t.getPlugin(e):null},l.prototype._getColumnData=function(e,t){return null==t&&(t=this._hosts[0]),t?t.getColumnData(e):null},l.prototype._getColumnOption=function(e,t,o){var n=this._getColumnData(e,o);return n?n[t]:null},l.prototype._newColumnData=function(e,t){if(null==t&&(t=this._hosts[0]),!t)return{};var o=t.getColumnData(e);return o||(o=t.setColumnData(e,{})),o},l.prototype._getField=function(e){var t=this._compositeGrid||this._realTimeGrid;return t?t.getColumnField(e):""},l.prototype._getRowData=function(e){return this._realTimeGrid&&e?e.ROW_DEF.getRowData():e},l.prototype._getRow=function(e,t){return h(e.getRowDataAt(t))},l.prototype._getData=function(e,t,o){var n=this._getRow(e,t);return n?n[o]:void 0},l.prototype._setData=function(e,t,o,n){if(this._realTimeGrid){var r=a(e,t);r&&r.setData(o,n)}else"number"==typeof t?e.setDataAt(t,o,n):e.setData(t,o,n)},l.prototype._setRowData=function(e,t,o){if(this._realTimeGrid){var n=a(e,t);n&&n.setRowData(o)}else"number"==typeof t?e.setRowDataAt(t,o):e.setRowData(t,o)},l.prototype._setStaticData=function(e,t,o,n){if(this._realTimeGrid){var r=a(e,t);r&&r.setStaticData(o,n)}else this._setData(e,t,o,n)},l.prototype._setColumnData=function(e,t,o,n){if(t){var r=Array.isArray(n)?n:e.getAllRowIds(!0),i=r?r.length:0;if(i)if(1!==i){var l=Array.isArray(o)?o:r.map((function(){return o}));if(this._realTimeGrid){for(var s=0;s<i;++s){var a=e.getRowData(r[s]);if(a){var u=a.ROW_DEF;u&&(u.getRowData()[t]=l[s])}}e.dispatchGlobalChange||(e=e.getDataSource()),e&&e.dispatchGlobalChange&&e.dispatchGlobalChange()}else e.setColumnData(t,l,r)}else this._setData(e,r[0],this._selectionField,Array.isArray(o)?o[0]:o)}},l.prototype._activateColumnRenderer=function(e,t,o){if(null!=e){var n=this._realTimeGrid;n?n.activateColumnRenderer(e,t,o):"function"==typeof o?this._hosts[0].setColumnDataBindingHandler(e,o):this._hosts[0].setColumnDataBindingHandler(e,null)}};var s=function(e,t){if(e&&t&&t.prototype.getName){var o=t.prototype.getName().replace(/Plugin$/,"");if(o){var n=e.tr;n||(n=e.tr={});var r=n.grid;r||(r=n.grid={}),r[o+"Plugin"]=t,n[o+"Extension"]=t}}},a=function(e,t){var o="number"==typeof t?e.getRowDataAt(t):e.getRowData(t);return o&&o.ROW_DEF||null},u=function(e,t){return t[e]},d=function(e,t){var o=t.ROW_DEF.getRowData();return o?o[e]:null},p=function(e){return e},c=function(e){return e?e.ROW_DEF.getRowData():null},h=function(e){if(e){var t=e.ROW_DEF;return t?t.getRowData():e}return null},_=function(e,t){for(var o=t.getAllRowData(),n=o.length,r=new Array(n),i=0;i<n;++i)r[i]=d(e,o[i]);return r};t.default=l},function(e,t,o){"use strict";var n=o(5),r=o(7);(0,n.exportExtension)(window,r.ContextMenuPlugin)},function(e,t,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ContextMenuPlugin=void 0;var n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r=o(5),i=p(o(2)),l=p(o(8)),s=p(o(9)),a=o(1),u=o(0),d=p(o(11));function p(e){return e&&e.__esModule?e:{default:e}}var c=function(e){var t=this;t._hosts=[],t._onItemClicked=t._onItemClicked.bind(t),t._rightClickedHandler=t._rightClickedHandler.bind(t),t._onThemeLoaded=t._onThemeLoaded.bind(t),t.config({contextMenu:e})};i.default.inherits(c,r.GridPlugin),c.prototype._contextMap={title:"header",content:"content",footer:"footer",filterRow:"filterRow"},c._styles="",c._stylePromise=null,c.prototype._disabled=!1,c.prototype._popup=null,c.prototype._mouseInfo=null,c.prototype._menuAPI=null,c.prototype._csp=null,c.prototype._rsp=null,c.prototype._contextMenu=null,c.prototype.getName=function(){return"ContextMenuPlugin"},c.prototype.initialize=function(e,t){var o=this;o._hosts.indexOf(e)>=0||(o._hosts.push(e),e.listen("postSectionRender",o._onPostSectionRender),e.listen("contextmenu",o._rightClickedHandler),o.config(t),c._styles?c._applyThemeColor(e):(c._stylePromise||(c._stylePromise=u.ElfUtil.getThemeColors()),c._stylePromise.then(o._onThemeLoaded).catch(o._onThemeLoaded)))},c.prototype.unload=function(e){var t=this._hosts.indexOf(e);t<0||(e.unlisten("postSectionRender",this._onPostSectionRender),e.unlisten("contextmenu",this._rightClickedHandler),this._hosts.splice(t,1),this._dispose(),this._hosts.length||(this._csp=this._rsp=null))},c.prototype.config=function(e){if(e){var t=this,o=e.contextMenu;null!=o&&("object"===(void 0===o?"undefined":n(o))?(t._menuAPI=new l.default(o),o.items||(o.items={})):"function"==typeof o&&(o={contextmenu:o}),this.addListener(o,"contextmenu"),t._contextMenu=o,t._disabled=!o)}},c.prototype.getConfigObject=function(e){var t=e||{};return t.contextMenu=this._contextMenu,t},c.prototype.getMenuModel=function(){return this._contextMenu},c.prototype._configureMouseInfo=function(e){var t=this._hosts[0].getRelativePosition(e);t.context=this._contextMap[t.sectionType]||"";var o=t.colIndex,n=t.columnDef={};if(t.field=n.field=this.getColumnField(o),t.colId=n.id=this.getColumnId(o),this._csp||(this._csp=this._getPlugin("ColumnSelectionPlugin")),this._rsp||(this._rsp=this._getPlugin("RowSelectionPlugin")),this._csp){var r=this._csp.getSelectedColumns();t.selectedColumns=r&&r.length?r:null}else t.selectedColumns=null;if(this._rsp){var i=this._rsp.getSelectedRows();t.selectedRows=i&&i.length?i:null}else t.selectedRows=null;return t.mouseEvent=e,t},c.prototype._rightClickedHandler=function(e){var t=this,o=t._hosts[0];if(o&&null!=o.getRelativePosition(e).rowIndex){e.preventDefault();var n=t._mouseInfo=t._configureMouseInfo(e),r=t._contextMenu;if(r&&!t._disabled){if(t._menuAPI){var i;if(n.items=r.items,t._menuAPI.clear(),n.menu=t._menuAPI,r.onMenu&&(r.onMenu(n),i=n.menu.getMenuItems()),!i||!i.length)return;t._popup&&!t._popup.isDisposed()&&t._popup.dispose();var l=o.getElement();t._popup=new s.default(l),t._popup.setMenu(i),t._popup.setPosition("custom",e.pageX,e.pageY),t._popup.addEventListener("itemClicked",t._onItemClicked),t._popup.show()}t._dispatch("contextmenu",n),delete n.mouseEvent}}},c.prototype._onItemClicked=function(e){var t=e.item,o=t.items;if(!o||!o.length){var n=this._menuAPI.findItem(t.id);if(n)for(var r=n.length,i=0;i<r;++i){var l=n[i];if(l.callback){for(var s in this._mouseInfo)e[s]=this._mouseInfo[s];l.callback(e);break}}}},c.prototype._onThemeLoaded=function(){if(!c._styles){var e,t=u.ElfUtil.getColors(),o=(0,a.prettifyCss)([".tr-contextmenu",["outline: none;","box-sizing: border-box;","-moz-box-sizing: border-box;","border-style: solid;","border-width: 1px;","overflow: hidden;","padding: 1px;","margin: 0;","user-select: none;","list-style-type: none;","background-color: backgroundColor;","color: fontColor;","border-color: borderColor;"],".tr-contextmenu-item",["list-style: none;","padding: 3px 7px;","margin: 0;","vertical-align: middle;","white-space: nowrap;","cursor: pointer;","line-height: 20px;"],".tr-contextmenu-item[disabled]",["color: disabledColor;","cursor: default;"],".tr-contextmenu-item",["padding-right: 20px;"],".tr-contextmenu-item:hover:not([disabled])",["background-color: hoveredColor;"],".tr-contextmenu-popup",["box-shadow: 0 0 10px rgba(0,0,0,0.5);","z-index: 10;"],".tr-contextmenu-item.has-child",["position: relative;"],".tr-contextmenu-item.has-child:after",["box-sizing: border-box;","-moz-box-sizing: border-box;","display: inline-block;","width: 7px;","height: 7px;","border-style: solid;","border-width: 1px;",'content: "";',"-webkit-transform: rotate(45deg);","transform: rotate(45deg);","border-left-width: 0;","border-bottom-width: 0;","position: absolute;","right: 8px;","top: -webkit-calc(50% - 4px);","top: -moz-calc(50% - 4px);","top: calc(50% - 4px);","border-color: fontColor;"],'.tr-contextmenu-item[data-type="separator"]',["padding: 0;","border: none;","border-bottom-style: solid;","border-bottom-width: 1px;","border-bottom-color: disabledColor;"]]),n=d.default.rgb2Hex(t.tableBg),r=d.default.hex2Num(n),i=d.default.blackAndWhite(r);"#000000"===i?(e=.1,o=o.replace(/disabledColor/g,"lightgrey")):(e=.2,o=o.replace(/disabledColor/g,"gray"));var l=d.default.num2Hex(d.default.blendColor(n,i,e));o=(o=(o=(o=o.replace(/hoveredColor/g,l)).replace(/backgroundColor/g,t.tableBg)).replace(/fontColor/g,t.tableText)).replace(/borderColor/g,t.tableBorder),c._styles=o}for(var s=this._hosts.length;--s>=0;)c._applyThemeColor(this._hosts[s])},c._applyThemeColor=function(e){e&&!e._contextMenuStyles&&c._styles&&(e._contextMenuStyles=!0,(0,a.injectCss)(c._styles,e.getElement()))},t.default=c,t.ContextMenuPlugin=c},function(e,t,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=function(e){this._model=e,this._items=[],this._runningId=0};n.prototype.clear=function(){this._items.length=0,this._runningId=0},n.prototype.addItem=function(e){this._addItem(e,0)},n.prototype.addItems=function(e){this._addItem(e,0)},n.prototype._addItem=function(e,t){if(e)if(t>=10)console.warn("Circular reference detected");else if("string"==typeof e)"SEPARATOR"===e||e.match(/-{3,}/)?this.addSeparator():this._addItem(this._model.items[e],t+1);else if(Array.isArray(e))for(var o=e.length,n=0;n<o;++n)this._addItem(e[n],t+1);else this._assignId(e),this._items.push(e)},n.prototype.addSeparator=function(){this._items.push({type:"separator"})},n.prototype.getMenuItems=function(){return this._items},n.prototype.findItem=function(e){return this._findItem(e,this._items)},n.prototype._findItem=function(e,t){var o;if(!t)return null;if(Array.isArray(t)){for(var n=t.length,r=0;r<n;++r)if(o=this._findItem(e,t[r]))return o;return null}return t.id===e?[t]:((o=this._findItem(e,t.items))&&o.push(t),o)},n.prototype._assignId=function(e){if(Array.isArray(e))for(var t=0;t<e.length;t++)this._assignId(e[t]);else e.id="_item_"+this._runningId++,e.items&&this._assignId(e.items)},t.default=n,t.MenuEventAPI=n},function(e,t,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.PopupMenu=void 0;var n=s(o(10)),r=s(o(12)),i=s(o(3)),l=s(o(2));function s(e){return e&&e.__esModule?e:{default:e}}var a=function(e){var t=this;t.show=t.show.bind(t),t.attachTo=t.attachTo.bind(t),t.setMenu=t.setMenu.bind(t),t.setPosition=t.setPosition.bind(t),t._hoveredItem=t._hoveredItem.bind(t),t._hoveredChildItem=t._hoveredChildItem.bind(t),t._clickedItem=t._clickedItem.bind(t),t._clickedChildItem=t._clickedChildItem.bind(t),t._init(e)};l.default.inherits(a,i.default),a.prototype._evtArg,a.prototype._children,a.prototype._childrenItem,a.prototype._parentElement,a.prototype._x,a.prototype._y,a.prototype._popup,a.prototype._ulElem,a.prototype._isMounted,a.prototype._init=function(e){var t=this,o=document.createElement("div");o.className="tr-contextmenu-popup";var n=document.createElement("ul");n.className="tr-contextmenu",o.appendChild(n),t._popup=new r.default(o),t._popup.setPositioning("custom"),t._ulElem=n,t._children=[],t._childrenItem=[],t._x=0,t._y=0,t._isMounted=!0,t._parentElement=e||window.document,t._evtArg={target:t._popup._elem,currentTarget:t._popup._elem}},a.prototype.isDisposed=function(){return!this._isMounted},a.prototype.dispose=function(){var e=this;e._isMounted&&(e.removeAllEventListeners(),e._popup.dispose(),e._disposeChildren(),e._isMounted=!1)},a.prototype._disposeChildren=function(){var e=this;e._children.forEach((function(e){e&&e.dispose()})),e._childrenItem.forEach((function(e){e&&e.dispose()})),e._children.length=0,e._childrenItem.length=0},a.prototype.show=function(){var e=this;e._popup.show(!0,e._parentElement),e.setPosition(e._popup._positioning,e._x,e._y)},a.prototype.hide=function(){this._popup.hide()},a.prototype.attachTo=function(e,t){e&&this._popup.attachTo(e,t)},a.prototype.setPosition=function(e,t,o){var n=this;if("custom"===e){n._x=t,n._y=o;var r=window.innerWidth,i=window.innerHeight,l=null!=window.scrollX?window.scrollX:window.pageXOffset,s=null!=window.scrollY?window.scrollY:window.pageYOffset,a=r+l,u=i+s,d=n._popup._elem.offsetWidth,p=n._popup._elem.offsetHeight;t+d>a&&(t=a-d),o+p>u&&(o=u-p),n._popup._elem.style.left=t-l+"px",n._popup._elem.style.top=o-s+"px"}},a.prototype.addPopupChild=function(e,t){t instanceof a&&(t.attachTo(e,"right"),this._popup.addFocusElement(t._popup),this._children.push(t))},a.prototype.setMenu=function(e){if(e&&Array.isArray(e)){var t=this;Array.isArray(t._menuItems)&&t._disposeChildren(),t._menuItems=e;for(var o=0;o<e.length;o++){var r=e[o],i=new n.default(r);if(i.addEventListener("itemHovered",t._hoveredItem),i.addEventListener("itemClicked",t._clickedItem),t._childrenItem.push(i),Array.isArray(i.getItems())){var l=new a(t._parentElement);l._id=i.getId(),l.setMenu(i.getItems()),l.addEventListener("itemHovered",t._hoveredChildItem),l.addEventListener("itemClicked",t._clickedChildItem),t.addPopupChild(i.getElement(),l)}t._ulElem.appendChild(i.getElement())}}},a.prototype._hoveredChildItem=function(e){this._dispatch("itemHovered",e)},a.prototype._clickedChildItem=function(e){this._dispatch("itemClicked",e),this.hide()},a.prototype._hoveredItem=function(e){var t=this,o=t._evtArg,n=e.srcElement,r=t._children;if(n&&r.length)for(var i=0;i<r.length;i++){var l=r[i];l._id===n.getAttribute("id")?l.show():l.hide()}else o=e;t._dispatch("itemHovered",o)},a.prototype._clickedItem=function(e){var t=this;if(e.item&&e.item.id)for(var o=0;o<t._menuItems.length;o++){var n=t._menuItems[o];if(n.id===e.item.id){t._evtArg.item=n;break}}t._dispatch("itemClicked",t._evtArg),t.hide()},t.default=a,t.PopupMenu=a},function(e,t,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.MenuItem=void 0;var n=r(o(3));function r(e){return e&&e.__esModule?e:{default:e}}var i=function(e){var t=this;t._onItemHovered=t._onItemHovered.bind(t),t._onItemClicked=t._onItemClicked.bind(t),t._init(e),t._config(e)};r(o(2)).default.inherits(i,n.default),i.prototype._elem,i.prototype._options,i.prototype._isSelectable=!0,i.prototype._init=function(e){var t=this,o=document.createElement("li");o.className="tr-contextmenu-item",o.addEventListener("mouseover",t._onItemHovered),o.addEventListener("click",t._onItemClicked),t._elem=o,t._options=e},i.prototype.dispose=function(){var e=this;e.removeAllEventListeners(),e._elem.removeEventListener("mouseover",e._onItemHovered),e._elem.removeEventListener("click",e._onItemClicked),e._elem.parentNode.removeChild(e._elem)},i.prototype._config=function(e){var t;e||(e={});var o=this;(t=e.id)&&o.setId(t),(t=e.type)&&o.setType(t),(t=e.text)&&o.setText(t),(t=e.value)&&o.setValue(t),null!=(t=e.isDisabled)&&(!0===t?o.setSelectable(!1):o.setSelectable(!0)),null!=(t=e.isSelectable)&&(!1===t?o.setSelectable(!1):o.setSelectable(!0)),t=e.items,Array.isArray(t)&&o.setItems(t)},i.prototype._onItemHovered=function(e){var t=this;t.isSelectable()&&(e.item=t._options,t._dispatch("itemHovered",e))},i.prototype._onItemClicked=function(e){var t=this;t.isSelectable()&&!Array.isArray(t.getItems())&&(e.item=t._options,t._dispatch("itemClicked",e))},i.prototype.setId=function(e){this._elem.setAttribute("id",e),this._id=e},i.prototype.getId=function(){return this._id},i.prototype.setText=function(e){this._elem.textContent=e+"",this._text=e},i.prototype.getText=function(){return this._text},i.prototype.setValue=function(e){this._value=e},i.prototype.getValue=function(){return this._value},i.prototype.setSelectable=function(e){var t=this;e?(t._elem.removeAttribute("data-unselectable"),t._elem.removeAttribute("disabled")):(t._elem.setAttribute("data-unselectable","true"),t._elem.setAttribute("disabled","true")),t._isSelectable=!!e},i.prototype.isSelectable=function(){return this._isSelectable},i.prototype.setItems=function(e){this._items=e,this._elem.classList.add("has-child")},i.prototype.getItems=function(){return this._items},i.prototype.setType=function(e){this._elem.setAttribute("data-type",e),this._type=e},i.prototype.getType=function(){return this._type},i.prototype.getElement=function(){return this._elem},t.default=i,t.MenuItem=i},function(e,t,o){"use strict";o.r(t),o.d(t,"CellPainter",(function(){return p}));var n={"⇧":1,"B⇧":1,"↑":1,"B↑":1,26:1,1:1,'"1"':1,"-1":-1,"⇩":-1,"B⇩":-1,"↓":-1,"B↓":-1,27:-1,2:-1,'"2"':-1},r={CF_TICK:1,PRCTCK_1:1,BID_TICK:1,ASK_TICK:1},i=o(1),l=o(0),s={"||":1,"&&":2,"<":3,">":3,"<=":3,">=":3,"!=":3,"=":3,"==":3,"===":3,"+":4,"-":4,"*":5,"%":6,"/":6},a={"+":function(e,t){return e+t},"-":function(e,t){return e-t},"*":function(e,t){return e*t},"/":function(e,t){return e/t},"%":function(e,t){return e%t},"<":function(e,t){return e<t},">":function(e,t){return e>t},"<=":function(e,t){return e<=t},">=":function(e,t){return e>=t},"==":function(e,t){return e==t},"!=":function(e,t){return e!=t},"&&":function(e,t){return e&&t},"||":function(e,t){return e||t}},u=function(e,t,o,n){var r={value:t,type:o};return n&&(r.dataType=n),"operator"===o&&(r.precedence=s[t]),e.push(r),e.length-1},d={_tokens:[],_withString:function(e){return" #"+u(d._tokens,e.substring(1,e.length-1),"literal","string")+"#"},_withField:function(e){return" #"+u(d._tokens,e,"literal","variable")+"#"},_withFieldInBrackets:function(e){return d._withField(e.substring(1,e.length-1))},_withNegativeNumber:function(e){var t=+e;return t==t?" #"+u(d._tokens,t,"literal","number")+"#":""},_withPositiveNumber:function(e){return 35===e.charCodeAt(0)?e:d._withNegativeNumber(e)},_withOperator:function(e){return s[e]?("="!=e&&"==="!=e||(e="=="),"#"+u(d._tokens,e,"operator")+"#"):""},_withParenthesis:function(e){return"#"+u(d._tokens,e,"parenthesis")+"#"},_tester:function(e){for(var t=e._rpn,o=t.length,n=0,r=0,i=0;i<o;++i){if("literal"!==t[i].type){if(!(n>=2))return console.warn("Cannot parse an expression with insufficient number of operands"),!0;n-=2}++n>r&&(r=n)}return 1!==n||(e._stackSize=r,!1)},_filter:function(e,t){for(var o,n=e._rpn,r=new Array(e._stackSize),i=n.length,l=0,s=0;s<i;++s){var u=n[s],d=u.value;"literal"===u.type?o="variable"!==u.dataType?d:t?t[d]:null:(o=a[d](r[l-2],r[l-1]),l-=2),r[l++]=o}return!!r[0]},parse:function(e){if("function"==typeof e)return e;if(!e||"string"!=typeof e)return null;var t=e.trim();if(!t)return null;d._tokens.length=0,t=(t=(t=(t=(t=(t=(t=(t=t.replace(/".+?"/g,d._withString)).replace(/'.+?'/g,d._withString)).replace(/\[.+?\]/g,d._withFieldInBrackets)).replace(/-[0-9.]+/g,d._withNegativeNumber)).replace(/[0-9.#]+/g,d._withPositiveNumber)).replace(/[a-zA-Z_]\w*/g,d._withField)).replace(/[\-\/+*%!=<>&|]+/g,d._withOperator)).replace(/[()]/g,d._withParenthesis);var o=d._tokens,n=o.length;if(!n)return null;var r,i,l,s=[],a=t.match(/#[0-9]+#/g);for(r=0;r<n;++r){var p=a[r];if("literal"===(l=(i=o[+p.substring(1,p.length-1)]).type)){var c=s[s.length-1];if(c&&"literal"===c.type){if(!(i.value<0&&"number"===i.dataType))return console.warn("Cannot parse an expression with insufficient number of operators"),null;u(s,"-","operator"),i.value*=-1}}s.push(i)}d._tokens.length=0,n=s.length;var h=[],_=[],f=null,m=!1;for(r=0;r<n;++r)if("literal"===(l=(i=s[r]).type))h.push(i);else if("parenthesis"===l)if("("===i.value)_.push(i);else{for(m=!1;_.length;){if("("===(f=_.pop()).value&&"parenthesis"===f.type){m=!0;break}h.push(f)}m||console.warn("No left parenthesis paired with the right one")}else{var g=(f=_[_.length-1])?f.precedence:null;null!=g&&i.precedence<=g&&h.push(_.pop()),_.push(i)}for(m=!1;_.length;)"("===(f=_.pop()).value&&"parenthesis"===f.type?m=!0:h.push(f);if(m&&console.warn("No right parenthesis paired with the left one"),!h.length)return null;var v={_rpn:h};return d._tester(v)?null:d._filter.bind(null,v)}},p=function(){this._conditions=[],this._scopes=[],p._painters.push(this)};p.ColoringTypes={TEXT:1,HEATMAP:2,CONDITIONAL:3},p.prototype._coloringType=0,p.prototype._conditions=null,p.prototype._blinkCondition=null,p.prototype._scopes,p.prototype._columnStats=null,p.prototype._levelColorDisabled=!1,p._runningBlinkId=0,p._blinkingDuration=250,p._painters=[],p._emptyAry=[],p._emptyObj={},p._bgObj={backgroundColor:"",color:""},p._colorObj={color:""},p.bgStyles=["backgroundColor","color"],p.nonBgStyles=["fontSize","fontWeight","fontStyle","textAlign","textDecoration"],p.supportedStyles=p.bgStyles.concat(p.nonBgStyles),p.themeReady=null,p.parse=d.parse,p.prototype.dispose=function(){var e=p._painters.indexOf(this);e>=0&&p._painters.splice(e,1),this.reset(),this._conditions=null,this._scopes.length=0,this._blinkCondition=null},p.prototype.reset=function(){this._setColoringType(0);var e=this._scopes.length;if(e){for(var t=0;t<e;++t){var o=this._scopes[t];p._clearBlinkTimer(o)&&o._restorer();var n=o.cell;n&&delete n.blinking,o.cell=null}this._scopes.length=0}this._blinkCondition=null},p.prototype.resetColoring=function(){this._setColoringType(0),this._conditions.length=0},p.prototype.resetBlinking=function(){this._blinkCondition=null,this._scopes.length=0},p.prototype.clearBlinking=function(){this._blinkCondition=null;var e=this._scopes.length;if(e){for(var t=0;t<e;++t){var o=this._scopes[t];p._clearBlinkTimer(o)&&o._restorer();var n=o.cell;n&&delete n.blinking,o.cell=null}this._scopes.length=0}},p.prototype.resetHeatMap=function(){this._conditions.length=0,this._columnStats=null},p.prototype.clearHeatMap=function(){return this._blinkCondition?(this._setColoringType(0),this.resetHeatMap(),!1):(this.dispose(),!0)},p.prototype.applyThemeColor=function(){var e=l.ElfUtil.getColors();if(this._coloringType===p.ColoringTypes.HEATMAP){var t=this._conditions[0];if(t&&(t.textMode?t.baseColor=e.baseText:t.baseColor=e.baseGrid,t.useThemeColor)){var o=e.up,n=e.down,r=e.level===e.baseText?"":e.level;p._setUpDownColors(t,o,n,r)}}this._blinkCondition&&this._blinkCondition.useThemeColor&&p._setUpDownColors(this._blinkCondition,e.up,e.down,e.level,!0)},p.prototype.getConditions=function(){return this._conditions},p.prototype.getColoringType=function(){return this._coloringType},p.prototype._setColoringType=function(e){this._coloringType!==e&&(this._coloringType=e)},p.prototype.setConditions=function(e){this._conditions.length=0,this._setColoringType(p.ColoringTypes.CONDITIONAL);for(var t=e.length,o=0;o<t;o++)this._addCondition(e[o])},p.prototype.setColumnStats=function(e){this._columnStats=e&&e.getMin?e:null},p.prototype.getColumnStats=function(){return this._columnStats},p.prototype._addCondition=function(e){var t=e.expression;t&&(e._fn=d.parse(t.text||t),this._conditions.push(e))},p.prototype.addHeatmap=function(e,t,o,n,r,i){this._setColoringType(p.ColoringTypes.HEATMAP);var l={heatmap:!0};return l.field=e,l.expression=p._heatMapCondition.bind(l),l.midPoint=t,p._setUpDownColors(l,o,n),l.baseColor=r,!0!==i&&"text"!==i||(l.textMode=!0),this._addCondition(l),l},p.prototype.addHeatmapWithTheme=function(e,t,o){var n=l.ElfUtil.themeColors,r=this.addHeatmap(e,t,n.up,n.down,n.baseGrid,o);return!0!==o&&"text"!==o||(r.baseColor=n.baseText),r.useThemeColor=!0,r},p.prototype._addColorText=function(e,t,o,n,r){this._setColoringType(p.ColoringTypes.TEXT);var i={};return i.field=t,i.expression=e.bind(null,t),i.upClass=o,i.downClass=n,i.levelClass=r,this._addCondition(i),i},p.prototype.addColorText=function(e,t,o,n){return this._addColorText(r[e]?p._tickColorTextCondition:p._colorTextCondition,e,t,o,n)},p.prototype.addColorTextWithTheme=function(e){return this.addColorText(e,"positive","negative","neutral")},p.prototype.addTickColorText=function(e,t,o){return this.addColorText("CF_TICK",e,t,o)},p.prototype.addTickColorTextWithTheme=function(){var e=l.ElfUtil.themeColors,t=this.addTickColorText(e.tickUp,e.tickDown,e.level);return t.useThemeColor=!0,t},p.prototype.addTickBlink=function(e,t,o,n){return this.addBlink("CF_TICK",e,t,o,n)},p.prototype.addTickBlinkWithTheme=function(e){var t=l.ElfUtil.themeColors,o=this.addTickBlink(t.tickUp,t.tickDown,t.level,e);return o.useThemeColor=!0,o},p.prototype.addBlink=function(e,t,o,n,i){return this._addBlink(r[e]?p._tickBlinkCondition:p._fieldBlinkCondition,e,t,o,n,i)},p.prototype.addBlinkWithTheme=function(e,t){var o=l.ElfUtil.themeColors,n=this.addBlink(e,o.up,o.down,o.level,t);return n.useThemeColor=!0,n},p.prototype._addBlink=function(e,t,o,n,r,i){var l=this._blinkCondition={};return l.blink=!0,l.blinkId=p._runningBlinkId++,l.field=t,l._fn=l.expression=e,!0!==i&&"border"!==i||(l.border=!0),p._setUpDownColors(l,o,n,r,!0),l},p.prototype.renderForPrinting=function(e,t,o,n){if(e){var r=this._getStyles(t,o,n),i=r.cssClass;null!=i?(elem._coloringCssClass&&elem._coloringCssClass!==i&&(elem.classList.remove(elem._coloringCssClass),elem._coloringCssClass=null),i&&(elem.classList.add(i),elem._coloringCssClass=i)):(e._coloringCssClass&&(e.classList.remove(e._coloringCssClass),e._coloringCssClass=null),e.style.backgroundColor=r.backgroundColor||"",e.style.color=r.color||"")}},p._colorTextCondition=function(e,t){var o=t[e];if(o||0===o){if(o>0)return 1;if(o<0)return-1}return"u"},p._tickColorTextCondition=function(e,t){var o=n[t[e]];if(o)return o},p._heatMapCondition=function(e,t,o){var n=e[this.field],r=n||0===n?n-this.midPoint:NaN;if(0===r||r!=r)return 0;var i=1;return r>0?(i=o-this.midPoint)<0&&(i=t-this.midPoint):(i=t-this.midPoint)>0&&(i=o-this.midPoint),i<0&&(i=-i),r/i},p._tickBlinkCondition=function(e){var t=n[e];if(t)return t},p._fieldBlinkCondition=function(e,t){return e>t?1:e<t?-1:0},p._borderRestorer=function(e){e.blinkTimer=0;var t=e.cell.getElement();t&&(t.style.border="")},p._cellRestorer=function(e){e.blinkTimer=0;var t=e.cell.getElement();if(t){var o=e.rowData,n=NaN,r=NaN;if(this._coloringType===p.ColoringTypes.HEATMAP){var i=this._columnStats;i&&(n=i.getMin(),r=i.getMax())}var l=this._getStyles(o,n,r),s=l.cssClass;null!=s?(t._coloringCssClass&&t._coloringCssClass!==s&&(t.classList.remove(t._coloringCssClass),t._coloringCssClass=null),s&&(t.classList.add(s),t._coloringCssClass=s),t.style.backgroundColor="",t.style.color=""):(t._coloringCssClass&&(t.classList.remove(t._coloringCssClass),t._coloringCssClass=null),t.style.backgroundColor=l.backgroundColor||"",t.style.color=l.color||"")}},p.prototype._getStyles=function(e,t,o){if(!e)return p._emptyObj;for(var n=this._conditions.length,r=0;r<n;++r){var i,l=this._conditions[r],s=l._fn;try{var a=s&&s(e,t,o)}catch(e){}if(a)return this._coloringType===p.ColoringTypes.HEATMAP?(i=a>0?p.blendColor(l.baseColor,l.upColor,a):p.blendColor(l.baseColor,l.downColor,-a),l.textMode?(p._colorObj.color=p.num2Hex(i),p._colorObj):(p._bgObj.backgroundColor=p.num2Hex(i),p._bgObj.color=p.blackAndWhite(i),p._bgObj)):this._coloringType===p.ColoringTypes.TEXT?(l.cssClass=a>0?l.upClass:a<0?l.downClass:this._levelColorDisabled?"":l.levelClass,l.cssClass=l.cssClass||"",l):l}return p._emptyObj},p.blendColor=function(e,t,o){o>1?o=1:o<0&&(o=0);for(var n=p.hex2Num(e),r=p.hex2Num(t),i=[],l=0;l<3;++l){var s=(r[l]-n[l])*o;i.push(n[l]+s)}return i},p.blackAndWhite=function(e){return Math.sqrt(e[0]*e[0]*.241+e[1]*e[1]*.691+e[2]*e[2]*.068)>=135?"#000000":"#FFFFFF"},p.rgb2Hex=i.rgb2Hex,p.num2Hex=function(e){return"#"+(16777216+(e[2]|e[1]<<8|e[0]<<16)).toString(16).slice(1)},p.num2Rgb=function(e){return"rgb("+e[0]+", "+e[1]+", "+e[2]+")"},p.hex2Num=function(e){var t=parseInt(e.replace(/[^0-9A-F]/gi,""),16);return[t>>16&255,t>>8&255,255&t]},p.hex2Rgb=function(e){if(e){var t=parseInt(e.replace(/[^0-9A-F]/gi,""),16);return"rgb("+(t>>16&255)+", "+(t>>8&255)+", "+(255&t)+")"}return""},p.themeChanged=function(){},p.setThemeColors=function(){},p._onThemeChanged=function(){for(var e=p._painters,t=e.length;--t>=0;)e[t].applyThemeColor()},p.loadThemeColors=function(){return p.themeReady||(p.themeReady=l.ElfUtil.getThemeColors(p._onThemeChanged).then(p._onThemeChanged).catch(p._onThemeChanged)),p.themeReady},p.reloadThemeColors=function(){return p.themeReady=l.ElfUtil.reloadThemeColors().then(p._onThemeChanged).catch(p._onThemeChanged),p.themeReady},p.clearCellStyle=function(e,t){var o=e.getElement();if(o){var n=e.blinking;n&&(p._clearBlinkTimer(n),delete e.blinking,n.cell=null),o._coloringCssClass&&o.classList.remove(o._coloringCssClass);for(var r=(t=t||p.supportedStyles).length;--r>=0;)o.style[t[r]]=""}},p._setUpDownColors=function(e,t,o,n,r){e.upColor=t,null!=t&&r&&(e.contrastUpColor=p.getOppositeColor(t)),e.downColor=o,null!=o&&r&&(e.contrastDownColor=p.getOppositeColor(o)),e.levelColor=n,null!=n&&r&&(e.contrastLevelColor=p.getOppositeColor(n))},p._clearBlinkTimer=function(e,t){return!!e.blinkTimer&&(clearTimeout(e.blinkTimer),e.blinkTimer=0,!0)},p.getOppositeColor=function(e){if("string"==typeof e){if("#"===e.charAt(0)){var t=p.hex2Num(e);return p.blackAndWhite(t)}}else if(Array.isArray(e))return p.blackAndWhite(e);return""},p.prototype.render=function(e,t,o,n,r){null!=o&&o==o?this._paintCell(e,t,o,n):this._conditions.length&&this._coloringType===p.ColoringTypes.CONDITIONAL&&this._paintCell(e,t)},p.prototype.renderHeatMap=function(e,t,o,n){this._paintCell(e,t,o,n)},p.prototype.renderColoring=function(e,t){this._paintCell(e,t)},p.prototype._paintCell=function(e,t,o,n){if(e){var r=e.getElement();if(r){var i,l=this._blinkCondition;if(!(l&&(i=e.blinking)&&i.blinkTimer)||l.border){var s=this._getStyles(t,o,n),a=s.cssClass;if(null!=a)r._coloringCssClass&&r._coloringCssClass!==a&&(r.classList.remove(r._coloringCssClass),r._coloringCssClass=null),a&&(r.classList.add(a),r._coloringCssClass=a);else{r._coloringCssClass&&(r.classList.remove(r._coloringCssClass),r._coloringCssClass=null);for(var u=p.bgStyles,d=r.style,c=u.length;--c>=0;){var h=u[c];d[h]=s[h]||""}}}}}},p.prototype.blink=function(e,t,o){this._blinkCell(e,o,t)},p.prototype.blinkCell=function(e,t,o,n){if(!this._blinkCondition)return!1;var r=this._blinkCondition._fn(t,o);return this._blinkCell(e,n,r)},p.prototype._blinkCell=function(e,t,o){if(!e)return!1;if(this._levelColorDisabled&&!o)return!1;var n=e.getElement();if(!n)return!1;var r=this._blinkCondition;if(!r)return!1;var i,l,s=e.blinking;if(s||((s={}).cell=e,e.blinking=s,this._scopes.push(s)),s.blinkId!==r.blinkId){s.blinkId=r.blinkId,s.field=r.field;var a=r.border?p._borderRestorer:p._cellRestorer;s._restorer=a.bind(this,s)}s.rowData=t,o>0?(i=r.upColor,l=r.contrastUpColor):o<0?(i=r.downColor,l=r.contrastDownColor):(i=r.levelColor,l=r.contrastLevelColor);var u=!0;return r.border?(n.style.border="1px solid "+i,u=!1):(n.style.backgroundColor=i,n.style.color=l),p._clearBlinkTimer(s),s.blinkTimer=setTimeout(s._restorer,p._blinkingDuration),u},p.prototype.verifyBlinking=function(e,t){var o=e.blinking;o&&o.blinkTimer&&o.rowData!==t&&(o.rowData=t,p._clearBlinkTimer(o)&&o._restorer())},p.prototype.disableLevelColor=function(e){this._levelColorDisabled=!1!==e};t.default=p},function(e,t,o){"use strict";o.r(t),o.d(t,"Popup",(function(){return s})),o.d(t,"containElements",(function(){return l}));var n=o(2),r=o(3),i={create:function(e,t){var o=document.createElement(e);return t&&(o.className=t),o},div:function(e){return i.create("div",e)},text:function(e,t){var o=i.create("span",t);return(e||0===e)&&(o.textContent=e),o},appendChild:function(e,t){if(!e)return null;var o,n;Array.isArray(arguments[1])?(n=arguments[1],o=0):(n=arguments,o=1);for(var r=n.length;o<r;)e.appendChild(n[o]),++o;return e},buildTree:function(e,t){if(!e)return null;for(var o=arguments,n=o.length,r=1;r<n;++r){var l,s=o[r];if(s)Array.isArray(s)?l=i.buildTree.apply(null,s):1===s.nodeType&&(l=s),l&&e.appendChild(l)}return e},removeParent:function(e){if(!e)return null;var t=e.parentNode;return t&&t.removeChild(e),t},setParent:function(e,t){return e?t?(t.appendChild(e),t):i.removeParent(e):null},removeChildren:function(e,t){if(e){var o=e.childNodes.length;for((null==t||t>o)&&(t=o);--t>=0;)e.removeChild(e.lastChild)}},setContent:function(e,t){if(e)if(t||0===t){var o=t.nodeType;1===o||3===o?t!==e.lastChild&&(i.removeChildren(e),e.appendChild(t)):Array.isArray(t)?(i.removeChildren(e),i.appendChild(e,t)):e.textContent=t}else i.removeChildren(e)},toggleAttribute:function(e,t,o){o?e.setAttribute(t,"string"==typeof o?o:""):null==o?e.hasAttribute(t)?e.removeAttribute(t):e.setAttribute(t,""):e.removeAttribute(t)},toggleClass:function(e,t,o){o?e.classList.add(t):null==o?e.classList.contains(t)?e.classList.remove(t):e.classList.add(t):e.classList.remove(t)},addClasses:function(e,t){if(e)for(var o=Array.isArray(t)?t:arguments,n=o.length,r=0;r<n;++r){var i=o[r];i&&"string"==typeof i&&e.classList.add(i)}},removeClasses:function(e,t){if(e)for(var o=Array.isArray(t)?t:arguments,n=o.length,r=0;r<n;++r){var i=o[r];i&&"string"==typeof i&&e.classList.remove(i)}},preventDefault:function(e){e.preventDefault(),e.stopPropagation()},stopPropagation:function(e){e.stopPropagation()},getClientPosition:function(e,t){var o=t||{x:0,y:0};if(e.getBoundingClientRect){var n=e.getBoundingClientRect();o.x=n.left,o.y=n.top}else o.x=e.clientX,o.y=e.clientY;return o},getRelativePosition:function(e,t,o){o=i.getClientPosition(e,o);var n=i.getClientPosition(t);return o.x-=n.x,o.y-=n.y,o},closestElement:function(e,t){for(var o=e;o;){if(o.classList&&o.classList.contains(t))return o;o=o.parentNode||o.host}return null},closestTagName:function(e,t){for(var o=e;o;){if(o.tagName&&o.tagName==t)return o;o=o.parentNode||o.host}return null}},l=function(e,t){if(t.composedPath){var o=t.composedPath();return o.indexOf(e)>=0||e.contains(o[0])}return e.contains(t.target)},s=function(e,t){var o=this;o.show=o.show=o.show.bind(o),o.hide=o.hide=o.hide.bind(o),o.toggle=o.toggle=o.toggle.bind(o),o._onBlur=o._onBlur.bind(o),o._onBlurTimer=o._onBlurTimer.bind(o),o._onResize=o._onResize.bind(o),o.updatePosition=o.updatePosition.bind(o),o._onScroll=o._onScroll.bind(o),o._onMouseOver=o._onMouseOver.bind(o),o._onMouseOut=o._onMouseOut.bind(o),o._onMouseOverTimeout=o._onMouseOverTimeout.bind(o),e&&1!==e.nodeType&&(t=e,e=null),e?(o._elem=e,i.removeParent(e)):o._elem=document.createElement("div"),o._elem.style.position="fixed",o._elem.style.left="0",o._elem.style.top="0",o._elem.style.display="inline-block",o._focusElements=[o._elem],o._children=[],o._evtArg={target:o._elem,currentTarget:o._elem},o._parentElement=document.body,o.init(t)};n.Ext.inherits(s,r.EventDispatcher),s.prototype._elem=null,s.prototype._disabled=!1,s.prototype._inDoc=!1,s.prototype._autoHiding=!0,s.prototype._blurTimer=0,s.prototype._resizeTimer=0,s.prototype._attachedElem=null,s.prototype._positioning="under",s.prototype._focusElements,s.prototype._parentElement,s.prototype._children,s.prototype._evtArg,s.prototype._autoClipping=!0,s.prototype._origW=null,s.prototype._origH=null,s.prototype._hoverToShow=!1,s.prototype._hoverTimer=0,s.prototype._gap=0,s.prototype._uiBlocking=!1,s.prototype._hideOnScroll=!0,s.prototype._autoRepositioning=!0,s.prototype.dispose=function(){this._removeEventListeners(),this._clearMouseOverTimer();for(var e=this._children.length;--e>=0;)this._children[e].dispose();this._inDoc=!1,i.removeParent(this._elem),i.removeParent(this._overlay),this._elem=null},s.prototype.getElement=function(){return this._elem},s.prototype.appendChild=function(e){e&&this._elem.appendChild(e)},s.prototype.disable=function(e){this._disabled=!1!==e},s.prototype.enable=function(e){this._disabled=!1===e},s.prototype.init=function(e){if(e){e.positioning&&(this._positioning=e.positioning),null!=e.autoHiding&&(this._autoHiding=!!e.autoHiding),null!=e.uiBlocking&&this.enableUIBlocking(e.uiBlocking),null!=e.hoverToShow&&(this._hoverToShow=!!e.hoverToShow),null!=e.autoClipping&&(this._autoClipping=!!e.autoClipping),null!=e.attachedElement&&this.attachTo(e.attachedElement),null!=e.contentElement&&this.appendChild(e.contentElement),null!=e.parentElement&&this.setParentElement(e.parentElement),null!=e.popupChild&&this.addPopupChild(e.popupChild),0==e.hideOnScroll&&(this._hideOnScroll=!1),0==e.autoRepositioning&&(this._autoRepositioning=!1),this.addListener(e,"show"),this.addListener(e,"hide"),this.addListener(e,"shown"),this.addListener(e,"hidden");var t=e.focusElement||e.focusElements;if(t)if(Array.isArray(t))for(var o=t.length;--o>=0;)this.addFocusElement(t[o]);else this.addFocusElement(t)}},s.prototype.attachTo=function(e,t){e||(e=null),this._attachedElem!==e&&(this._hoverToShow&&this._attachedElem&&(this._attachedElem.removeEventListener("mouseover",this._onMouseOver,!1),this._attachedElem.removeEventListener("mouseout",this._onMouseOut,!1)),this.removeFocusElement(this._attachedElem),this._attachedElem=e,this.addFocusElement(this._attachedElem),this._hoverToShow&&this._attachedElem&&(this._attachedElem.addEventListener("mouseover",this._onMouseOver,!1),this._attachedElem.addEventListener("mouseout",this._onMouseOut,!1))),null!=t&&this.setPositioning(t)},s.prototype.setAttachedElement=s.prototype.attachTo,s.prototype.addFocusElement=function(e){e&&this._focusElements.indexOf(e)<0&&this._focusElements.push(e)},s.prototype.removeFocusElement=function(e){if(e){var t=this._focusElements.indexOf(e);t>=0&&this._focusElements.splice(t,1)}},s.prototype.addPopupChild=function(e){return e||((e=new s).setPositioning("right"),e.attachTo(this._elem)),this.addFocusElement(e.getElement()),this._children.push(e),e},s.prototype.setPopupGap=function(e){this._gap="number"==typeof e?e:0},s.prototype.setParentElement=function(e){return e instanceof Element?this._parentElement=e:this._parentElement||(this._parentElement=document.body),this._parentElement},s.prototype.show=function(e,t){var o=this;if(o._clearMouseOverTimer(),!o._disabled){var n=!1!==e;if(o._inDoc!==n){var r=n?"show":"hide";if(o._evtArg.type=r,o._dispatch(r,o._evtArg),o._evtArg.cancel)o._evtArg.cancel=!1;else{if(n)o._inDoc=!0,t instanceof Element||(t=o._parentElement),o._uiBlocking&&o._attachOverlay(t),t.appendChild(o._elem),t.addEventListener("scroll",o._onScroll,!0),o._autoHiding&&(window.addEventListener("mousedown",o._onBlur,!0),window.addEventListener("touchstart",o._onBlur,!0)),window.addEventListener("resize",o._onResize,!1),window.addEventListener("scroll",o._onScroll,!0);else if(o._inDoc){o._removeEventListeners(),o._restoreElementSize();for(var l=o._children.length;--l>=0;)o._children[l].hide();o._inDoc=!1,i.removeParent(o._elem),i.removeParent(o._overlay)}r=n?"shown":"hidden",o._evtArg.type=r,o._dispatch(r,o._evtArg),n&&o.updatePosition()}}else o.updatePosition()}},s.prototype.hide=function(e){this.show(!1===e)},s.prototype.toggle=function(e,t){null==e&&(e=!this._inDoc),e?this.show(!0,t):this.hide()},s.prototype.isShown=function(){return this._inDoc},s.prototype.isHidden=function(){return!this._inDoc},s.prototype.contains=function(e){if(e){e=Array.isArray(e)?e:[e];for(var t=this._focusElements,o=t.length;--o>=0;)if(e.indexOf(t[o])>=0||t[o].contains(e[0]))return!0}return!1},s.prototype.setPositioning=function(e){this._positioning!==e&&(this._positioning=e,this.updatePosition())},s.prototype.disableAutoHiding=function(e){var t=!1===e;this._autoHiding!==t&&(this._autoHiding=t,this._inDoc&&(t?(window.addEventListener("mousedown",this._onBlur,!0),window.addEventListener("touchstart",this._onBlur,!0)):(window.removeEventListener("mousedown",this._onBlur,!0),window.removeEventListener("touchstart",this._onBlur,!0))))},s.prototype.disableAutoRepositioning=function(e){var t=!1===e;this._autoRepositioning!==t&&(this._autoRepositioning=t)},s.prototype.disableAutoClipping=function(e){var t=!1===e;this._autoClipping!==t&&(this._autoClipping=t)},s.prototype.disableHideOnScroll=function(e){var t=!1===e;this._hideOnScroll!==t&&(this._hideOnScroll=t)},s.prototype.updatePosition=function(e){null==e&&(e=!0);var t=this;if(t._resizeTimer=0,t._inDoc){if(t._attachedElem){if(!t._attachedElem.offsetWidth)return;t._autoClipping&&t._restoreElementSize();var o=document.body;"over"===t._positioning&&(o=document.documentElement);var n,r,l=i.getRelativePosition(t._attachedElem,o),s=l.x,a=l.y,u=window.innerWidth,d=window.innerHeight,p=null!=window.scrollX?window.scrollX:window.pageXOffset,c=null!=window.scrollY?window.scrollY:window.pageYOffset,h=u+p,_=d+c,f=t._attachedElem.offsetWidth,m=t._attachedElem.offsetHeight,g=t._elem.offsetWidth,v=t._elem.offsetHeight;"right"==t._positioning?(n=s+f+this._gap,r=a):"over"==t._positioning?(n=s,r=a):(n=s,r=a+m),e&&("right"==t._positioning?(n+g>h&&s-g>p&&(n=s-g-this._gap),r+v>_&&a+m-v>c&&(r=a+m-v)):"over"==t._positioning?(n+g>h&&s+f-g>p&&(n=s+f-g),r+v>_&&a+f-v>c&&(r=a+f-v)):(n+g>h&&s+f-g>p&&(n=s+f-g),r+v>_&&(a-v>c?r=a-v:(r-=r+v-_)<0&&(r=0)))),t._autoClipping&&(n+g>h&&(null==t._origW&&(t._origW=t._elem.style.width),t._elem.style.width=h-n+"px"),r+v>_&&(null==t._origH&&(t._origH=t._elem.style.height),t._elem.style.height=_-r+"px")),t._elem.style.left=Math.floor(n-p)+"px",t._elem.style.top=Math.floor(r-c)+"px"}else"fixed"!=t._positioning&&"custom"!=t._positioning&&(t._elem.style.left="calc(50vw - "+Math.floor(t._elem.offsetWidth/2)+"px)",t._elem.style.top="calc(46vh - "+Math.floor(t._elem.offsetHeight/2)+"px)");t._evtArg.type="positioning",t._dispatch("positioning",t._evtArg)}},s.prototype.enableUIBlocking=function(e){var t=this._uiBlocking;return this._uiBlocking=!1!==e,t},s.prototype._attachOverlay=function(e){if(!this._overlay){var t=(this._overlay=document.createElement("div")).style;t.height="100%",t.width="100%",t.top="0",t.left="0",t.backgroundColor="rgba(0, 0, 0, 0)"}e===document.body?this._overlay.style.position="fixed":this._overlay.style.position="absolute",e.appendChild(this._overlay)},s.prototype._onBlur=function(e){if(!this._blurTimer&&this._inDoc){if(e)if(e.composedPath){if(this.contains(e.composedPath()))return}else if(this.contains(e.target))return;this._blurTimer=setTimeout(this._onBlurTimer,10)}},s.prototype._onBlurTimer=function(){this._blurTimer=0,this.contains(document.activeElement)||this.hide()},s.prototype._onResize=function(){!this._resizeTimer&&this._inDoc&&this._autoRepositioning&&(this._resizeTimer=setTimeout(this.updatePosition,50))},s.prototype._onScroll=function(e){!this.contains(e.target)&&this._hideOnScroll&&this.hide()},s.prototype._onMouseOver=function(e){this._hoverTimer||this._inDoc||(this._hoverTimer=setTimeout(this._onMouseOverTimeout,500))},s.prototype._onMouseOut=function(e){this._hoverTimer&&(e.currentTarget.contains(e.relatedTarget)||this._clearMouseOverTimer())},s.prototype._onMouseOverTimeout=function(){this._hoverTimer=0,this.show()},s.prototype._clearMouseOverTimer=function(){this._hoverTimer&&(clearTimeout(this._hoverTimer),this._hoverTimer=0)},s.prototype._restoreElementSize=function(){null!=this._origW&&(this._elem.style.width=this._origW,this._origW=null),null!=this._origH&&(this._elem.style.height=this._origH,this._origH=null)},s.prototype._removeEventListeners=function(){this._blurTimer&&(clearTimeout(this._blurTimer),this._blurTimer=0),this._resizeTimer&&(clearTimeout(this._resizeTimer),this._resizeTimer=0),window.removeEventListener("mousedown",this._onBlur,!0),window.removeEventListener("touchstart",this._onBlur,!0),window.removeEventListener("resize",this._onResize,!1),window.removeEventListener("scroll",this._onScroll,!0),this._elem.parentElement&&this._elem.parentElement.removeEventListener("scroll",this._onScroll,!0)};t.default=s}]);