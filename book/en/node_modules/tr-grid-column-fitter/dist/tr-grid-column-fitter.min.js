!function(e){var t={};function n(o){if(t[o])return t[o].exports;var i=t[o]={i:o,l:!1,exports:{}};return e[o].call(i.exports,i,i.exports,n),i.l=!0,i.exports}n.m=e,n.c=t,n.d=function(e,t,o){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:o})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var o=Object.create(null);if(n.r(o),Object.defineProperty(o,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var i in e)n.d(o,i,function(t){return e[t]}.bind(null,i));return o},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=0)}([function(e,t,n){"use strict";n.r(t);var o={inherits:function(e,t){function n(){}n.prototype=t.prototype,e.prototype=new n,e.prototype.constructor=e,e.base=function(e,n,o){n||(n="constructor");for(var i=arguments.length,r=new Array(i),l=2;l<i;l++)r[l-2]=arguments[l];return t.prototype[n].apply(e,r)}}},i=function(){};i.prototype._events=null,i.prototype._listenerCount=0,i.prototype.addEventListener=function(e,t){if(e&&t){this._events||(this._events={});var n=this._events[e];n?n.indexOf(t)<0&&(n.push(t),++this._listenerCount):(this._events[e]=[t],++this._listenerCount)}},i.prototype.removeEventListener=function(e,t){var n=this._events?this._events[e]:null;if(n){var o=n.indexOf(t);o>=0&&(n.splice(o,1),--this._listenerCount)}},i.prototype.removeAllEventListeners=function(){this._events=null,this._listenerCount=0},i.prototype.hasListener=function(e){if(this._listenerCount){if(e){var t=this._events?this._events[e]:null;return!!t&&t.length>0}return!0}return!1},i.prototype.getListener=function(e,t){if(e){var n=this._events?this._events[e]:null;if(n)return t||(t=0),n[t]||null}return null},i.prototype.addListener=function(e,t){var n=e?e[t]:null;"function"==typeof n&&this.addEventListener(t,n)},i.prototype._prepareEventArguments=function(e,t){return t},i.prototype._dispatch=function(e,t){var n=this._events?this._events[e]:null;if(n){t=this._prepareEventArguments(e,t);for(var o=n.length,i=0;i<o;++i)n[i](t)}};i.preventDefault=function(e){e&&e.preventDefault&&(e.preventDefault(),e.stopPropagation())};var r=function(e,t,n){this.resolve=this.resolve.bind(this),this.reject=this.reject.bind(this),"function"==typeof e&&(this._resolveHandler=e),"function"==typeof t&&(this._rejectHandler=t),null!=n&&(this._ctx=n),this.promise=new Promise(function(e,t){this._resolve=e,this._reject=t}.bind(this))};r.prototype.promise=null,r.prototype._resolve=null,r.prototype._reject=null,r.prototype._resolveHandler=null,r.prototype._rejectHandler=null,r.prototype._ctx=null,r.prototype._fulfilled=!1,r.prototype.resolve=function(e){if(this._resolve){if(this._resolveHandler){var t=this._resolveHandler(e,this._ctx||this);null!=t&&(e=t)}this._resolve(e),this._finally()}},r.prototype.reject=function(e){if(this._reject){if(this._rejectHandler){var t=this._rejectHandler(e,this._ctx||this);null!=t&&(e=t)}this._reject(e),this._finally()}},r.prototype.isFulfilled=function(){return this._fulfilled},r.prototype._finally=function(){this._fulfilled=!0,this._ctx=this._resolveHandler=this._rejectHandler=null,this._resolve=this._reject=null};var l=function(e,t){if(!e)return null;var n=document.createElement("style");n.textContent="\n"+e+"\n";var o,i=function(e){var t;if(e&&(e.shadowRoot?t=e.shadowRoot:e.getRootNode&&(t=e.getRootNode()),t&&t!==document&&t!==e))return t;return null}(t),r=!0;return i||(r=!1,i=document.head),r&&i.children&&i.children.length&&(o=i.children[0]),o?i.insertBefore(n,o):i.appendChild(n),n},s=function(e,t){for(var n in t||(t=[]),e){var o=e[n];"object"==typeof o?s(o,t):t.push(o)}return t},a=function(e){if(!e||"string"!=typeof e)return"";if("#"===e.charAt(0))return e;var t=e.match(/\d+/g);if(!t||t.length<3)return e;for(var n="#",o=0;o<3;o++){var i=+t[o];i>=16||(n+="0"),n+=i?i.toString(16).toUpperCase():"0"}return n},u={},d=function(e,t){"attributes"==t.type&&"lang"==t.attributeName&&(e.lang=t.target.lang||"en")},h=function(e,t,n){"attributes"===n.type&&(null!=t?n.attributeName===t&&e(n.target.getAttribute(t)):e(n.target))};u._getNewId=function(){return"observer_"+ ++u._id},u._addObserver=function(e,t,n){var o=n;o||(o={}),o.attributes=!0,u._observer.observe(e,o),u._addListener(e,t)},u._onMutationCallback=function(e){for(var t=0;t<e.length;t++)for(var n=e[t],o=u._listeners[n.target._observeId],i=0;i<o.length;i++)o[i](n)},u._addListener=function(e,t){var n=u._listeners;if(n||(n=u._listeners={}),!e._observeId){var o=u._getNewId();e._observeId=o}n[e._observeId]||(n[e._observeId]=[]);var i=n[e._observeId];i.indexOf(t)<0&&i.push(t)},u.addLanguageListener=function(e){e&&(e.lang=document.documentElement.lang||"en",u._addObserver(document.documentElement,d.bind(null,e)))},u.addAttributeListener=function(e,t,n){e&&t&&u._addObserver(e,h.bind(null,t,n))},u._observer=new MutationObserver(u._onMutationCallback),u._listeners={},u._id=0;var p={en:!0,de:!0,ja:!0,zh:!0,"zh-Hant":!0},c={_deferred:null,themeReady:null,_defaultColors:{up:"#39C46E",down:"#F5475B",level:"#C2C2C2",tickUp:"#39C46E",tickDown:"#F5475B",baseGrid:"#1A1A1C",baseText:"#C2C2C2",trackColor:"#FF9933"}};c.themeColors=c._defaultColors,c._components={},c._themeName="",c._elfVersion=0,c._dummyIcon=null,c._iconLoaded=!1,c._profileName=null,c._callbacks=[],c._observed=!1,c._pendingResolve=!1,c._themeLoaded=!1,c._icons={"elf-theme-halo":{rowGrouping:{expander:"down"},sorting:{ascending:"hollow-arrow-up",descending:"hollow-arrow-down",sortable:"sort-up-down"},columnStack:{stack:"map-layers",expand:"right",collapse:"left"}},"elf-theme-solar":{columnStack:{stack:"list",expand:"right",collapse:"left"}}},c._icons["halo-theme"]=c._icons["elf-theme-halo"],c._icons["solar-theme"]=c._icons["elf-theme-solar"],c.getElfVersion=function(){if(!c._elfVersion){var e=0;if(window.EFX_GRID){var t=window.EFX_GRID.version;e=+(t=t.split("."))[0]}else if(window.elf)if(window.elf.version){var n=window.elf.version.match(/\d/);n&&n[0]&&(e=parseInt(n[0],10))}else window.elf.customElements?e=3:window.customElements&&(e=4);else window.Polymer&&(e=1);c._elfVersion=e}return c._elfVersion},c.hasComponent=function(e){var t=c._components[e];if(null==t){t=0;var n=c.getElfVersion();if(e)1===n?document.createElement(e).is===e&&(t=n):n>1&&(window.customElements&&window.customElements.get(e)||document.createElement(e).constructor!==HTMLElement)&&(t=n),c._components[e]=t}return t},c.toLangString=function(e){if(!e)return"";if("zh-hant"===(e=e.toLowerCase()))return"zh-Hant";var t=e.replace(/-.*/,"");return p[t]?t:""},c.hasTheme=function(e){return e===c.getThemeName()},c.getThemeName=function(e){return c._themeName||(c._themeName=c.getCssVariable("--theme-name",document.documentElement)),c._themeName},c.setThemeName=function(e){c._themeName=e},c.isThemeLoaded=function(){return c._themeLoaded},c.getColors=function(){return c.themeColors},c.isHaloTheme=function(e){return null==e&&(e=c.getThemeName()),!!e&&e.indexOf("halo")>=0},c.injectIcons=function(e,t){if("object"==typeof e){var n=c.getThemeName();e.themeName=n;var o=c.getElfVersion();e.elfVersion=o;var i=c._icons[n];i&&(e.icons=i)}},c.getIconList=function(){var e=c._icons[c.getThemeName()];return e?s(e):[]},c._onIconPreloaded=function(){if(c._dummyIcon){var e=c._dummyIcon.parentNode;e&&e.removeChild(c._dummyIcon),c._dummyIcon=null}},c.prepareIconPreloading=function(){if(!c._iconLoaded){c._iconLoaded=!0;var e=c.getIconList();if(e.length){setTimeout(c._onIconPreloaded,10);var t=c._dummyIcon=document.createElement("coral-icon");return t.style.transform="scale(0)",document.body.appendChild(t),e}}return null},c.getCssVariable=function(e,t){var n="",o=t||document.body;return window&&"string"==typeof e&&1===o.nodeType&&e.match(/^--/)&&(n=(n=window.getComputedStyle(o).getPropertyValue(e)).replace(/[\"\']/g,"")),n},c.getCssVariables=function(e,t){var n=t||document.body;if(window&&1===n.nodeType){var o=window.getComputedStyle(n);for(var i in e){var r=e[i];r&&r.match(/^--/)&&(e[i]=o.getPropertyValue(r).replace(/\"/g,""))}}return e||null},c.setRTK=function(e){null!=e&&(c._rtk=e)},c.getMovementColorProfile=function(){return document.documentElement.getAttribute("movement-color-profile")},c._addThemeChangedCallback=function(e){var t=c._callbacks;t.indexOf(e)<0&&t.push(e)},c.reloadThemeColors=function(){return c._deferred&&c._deferred.isFulfilled()?(c._profileName="",c._themeLoaded=!1,c.themeReady=null,c.getThemeColors()):c.themeReady},c.getThemeColors=function(e){if("function"==typeof e&&c._addThemeChangedCallback(e),c.themeReady)return c.themeReady;var t=c._deferred=new r;c.themeReady=t.promise;var n=c.getMovementColorProfile();if(n)n!==c._profileName?setTimeout(c._profileNameRetrieved,100):c._deferred.resolve(c.themeColors);else{var o={providerName:"Configuration",settingName:"RDE_USER_CURRENT_TICK_COLOR"},i=window?window.JET:null;if(c._themeLoaded=!1,c._rtk&&c._rtk.Settings)c._rtk.Settings.getAsync(o).then(c._loadingProfileSuccess).catch(c._loadingProfileFailure);else if(i&&i.Settings)try{i.Settings.read(c._loadingProfileSuccess,o)}catch(e){c._loadingProfileFailure()}else setTimeout(c._profileNameRetrieved,100)}return t.promise};var m=function(e){if(e!==c._profileName){c._retrieveThemeColors(e),c._pendingResolve&&(c._pendingResolve=!1,c._deferred.resolve(c.themeColors));for(var t=c._callbacks,n=0;n<t.length;n++)t[n]()}};c._loadingProfileSuccess=function(e){e&&document.documentElement.setAttribute("movement-color-profile",e.toLowerCase()),c._observed?c._pendingResolve=!0:c._profileNameRetrieved(e)},c._loadingProfileFailure=function(){c._retrieveThemeColors(),c._observed||(c._observed=!0,u.addAttributeListener(document.documentElement,m,"movement-color-profile")),c._deferred.reject("Failed to get movement color profile from settings.")},c._profileNameRetrieved=function(){var e=c.getMovementColorProfile();c._retrieveThemeColors(e),c._observed||(c._observed=!0,u.addAttributeListener(document.documentElement,m,"movement-color-profile")),c._deferred.resolve(c.themeColors)},c._retrieveThemeColors=function(e){c._themeLoaded=!0,c._profileName=e;var t=c.themeColors=c.getCssVariables({primary:"--color-scheme-primary",secondary:"--color-scheme-secondary",tertiary:"--color-scheme-tertiary",complementary:"--color-scheme-complementary",up:"--color-scheme-positive",down:"--color-scheme-negative",level:"--color-scheme-neutral",tickUp:"--color-scheme-tickup",tickDown:"--color-scheme-tickdown"});t.up||(t.up=c._defaultColors.up,t.down=c._defaultColors.down,t.level=c._defaultColors.level,t.tickUp=c._defaultColors.tickUp,t.tickDown=c._defaultColors.tickDown),t.positive=t.up,t.negative=t.down,t.neutral=t.level;var n=document.createElement("table");n.style.visibility="hidden",n.style.position="fixed",n.style.left="0",n.style.top="0",n.style.width="0";var o=n.insertRow(-1),i=o.insertCell(-1);document.body.appendChild(n);var r=window.getComputedStyle(o);t.tableBg=r.backgroundColor;var l=window.getComputedStyle(i);t.tableText=l.color,t.tableBorder=l.borderColor,t.tableText===t.tableBorder&&(i.className="tr-lg",l=window.getComputedStyle(i),t.tableBg=l.backgroundColor,t.tableText=l.color,t.tableBorder=l.borderColor,t.tableText===t.tableBorder&&(t.tableBg=c._defaultColors.baseGrid,t.tableText=c._defaultColors.baseText,t.tableBorder="")),t.tableBg=a(t.tableBg),t.tableText=a(t.tableText),t.tableBorder=a(t.tableBorder),document.body.removeChild(n),t.baseGrid=t.tableBg,t.baseText=t.tableText,t.trackColor=t.primary||c._defaultColors.trackColor};var f=function(){};o.inherits(f,i),f.prototype._hosts=null,f.prototype._compositeGrid=null,f.prototype._realTimeGrid=null,f.prototype._rowGetter=null,f.prototype._initializedGrid=!1,f.prototype.listen=f.prototype.addEventListener,f.prototype.unlisten=f.prototype.removeEventListener,f.prototype.afterInit=function(e,t,n){var o=null;n&&n.getCoreGrid&&(o=n.getCoreGrid()),o&&(this.getGridApi()||this.setGridWrapper("compositegrid",n),this._compositeGrid&&o.loadPlugin(this,t)),this._initializedGrid||(this._initializedGrid=!0,this._rowGetter=this._realTimeGrid?y:C,this._afterInit())},f.prototype._afterInit=function(){},f.prototype._dispose=function(){this._hosts&&(this._hosts.length||(this._compositeGrid=this._realTimeGrid=null,this._initializedGrid=!1))},f.prototype.hasMultiTableSupport=function(){return!1},f.prototype._prepareEventArguments=function(e,t){return t||(t={}),t.api=this.getGridApi(),t},f.prototype.getName=function(){return"GridPlugin"},f.prototype.initialize=function(e,t){},f.prototype.unload=function(e){this._dispose()},f.prototype.getRelativeGrid=function(e){var t=null;if(e.target){var n=(t=e.target).api;if(n&&n.getCoreGrid)return n.getCoreGrid()}else e.getElement?t=e.getElement():1===e.nodeType&&(t=e);if(t)for(var o=this._hosts.length;--o>=0;){var i=this._hosts[o];if(i.getElement().contains(t))return i}return null},f.prototype.setGridWrapper=function(e,t){e&&("compositegrid"===(e=e.toLowerCase())?this._compositeGrid=t:"realtimegrid"===e&&(this._realTimeGrid=t))},f.prototype.getGridApi=function(e){if(null==e)return this._compositeGrid||this._realTimeGrid;var t="number"==typeof e?this._hosts[e]:e;return t&&t._wrapper||null},f.prototype.getColumnName=function(e){if(this._compositeGrid){var t=this._compositeGrid.getColumnModel(e);if(t)return t.title?t.title:t.field}else{var n=this.getColumnIndex(e),o=this._realTimeGrid.getColumnDefinition(n);if(o)return o.getName()}return""},f.prototype.getColumnIndex=function(e){if("number"==typeof e)return e;if(this._compositeGrid){var t=this._compositeGrid.getColumnFields().indexOf(e);return t>-1?t:this._compositeGrid.getColumnIndex(e)}return this._realTimeGrid.getColumnIndex(e)},f.prototype.getColumnIndices=function(e){var t=this.getGridApi();if(t.getColumnIndices)return t.getColumnIndices(e);if(this._compositeGrid){for(var n,o=this._compositeGrid.getColumnFields(),i=this._compositeGrid.getColumnCount(),r=[],l=0;l<e.length;l++)if("number"==typeof(n=e[l]))n>=0&&n<i&&r.push(n);else{var s=o.indexOf(n);-1!==s&&r.push(s)}return r}return this._realTimeGrid.getColumnIndices(e)},f.prototype.getColumnId=function(e){if("string"==typeof e)return e;var t=this.getColumnCount();if(e<0||e>=t)return"";if(this._compositeGrid)return this._compositeGrid.getColumnId(e);var n=this._realTimeGrid.getColumnDefinition(e);return n?n.getId():""},f.prototype.getColumnIds=function(){return this._hosts&&this._hosts.length?this._hosts[0].getColumnIds():[]},f.prototype.getColumnField=function(e){return this._hosts&&this._hosts.length?this._hosts[0].getColumnField(e):""},f.prototype.getColumnFields=function(){return this._hosts&&this._hosts.length?this._hosts[0].getColumnFields():[]},f.prototype.getColumnCount=function(){if(this._hosts){var e=this._hosts[0];return e?e.getColumnCount():0}return 0},f.prototype._moveColumnById=function(e,t){var n=this._hosts,o=n?n.length:0;if(o){for(var i=0,r=0;r<o;++r)i|=n[r].moveColumnById(e,t);return!!i}return!1},f.prototype._reorderColumns=function(e,t){var n=this._hosts,o=n?n.length:0;if(o){for(var i=0,r=0;r<o;++r)i|=n[r].reorderColumns(e,t);return!!i}return!1},f.prototype._loadPlugin=function(e,t,n){return e||(e=t.getPlugin(n))||(e=t.loadPlugin(n))&&this._initializedGrid&&(e._initializedGrid=!0),e},f.prototype._requestPlugin=function(e,t,n){return this._initializedGrid?f.requestPlugin(e,t,n,this._compositeGrid,this._realTimeGrid):Promise.reject("Plugin should be requested after the initialization")},f.requestPlugin=function(e,t,n,o,i){var l=null;if(e){var s=null;1===e.nodeType?s=e.api:e.getCoreGrid?s=e:e.getPlugin&&(l=e),s&&(l=s.getCoreGrid(),o||i||(s.getModel?o=s:i=s))}if(!l)return Promise.reject("Cannot find grid element");var a=l.getPlugin(t);if(a)return Promise.resolve(a);var u=new r;return setTimeout(f._onPluginRequested.bind(null,{grid:l,pluginRef:t,compositeGrid:o,realTimeGrid:i,config:n,deferred:u}),10),u.promise},f._onPluginRequested=function(e){var t=e.grid;if(!t.getElement())return e.deferred.reject("Grid has been disposed before the plugin is fully loaded: "+e.pluginRef);var n=t.getPlugin(e.pluginRef);if(n)return e.deferred.resolve(n);var o=!1;return e.pluginRef.beforeInit&&(o=!0,e.pluginRef.beforeInit(t.getElement(),e.config,!0)),(n=t.loadPlugin(e.pluginRef,e.config))?(!o&&n.beforeInit&&(o=!0,n.beforeInit(t.getElement(),e.config)),n.setGridWrapper&&(e.compositeGrid?n.setGridWrapper("compositegrid",e.compositeGrid):e.realTimeGrid&&n.setGridWrapper("realtimegrid",e.realTimeGrid)),n.afterInit&&n.afterInit(),e.deferred.resolve(n)):e.deferred.reject("Unable to load required dependency: "+e.pluginRef)},f.prototype._getPlugin=function(e,t){return null==t&&(t=this._hosts[0]),t?t.getPlugin(e):null},f.prototype._getColumnData=function(e,t){return null==t&&(t=this._hosts[0]),t?t.getColumnData(e):null},f.prototype._getColumnOption=function(e,t,n){var o=this._getColumnData(e,n);return o?o[t]:null},f.prototype._newColumnData=function(e,t){if(null==t&&(t=this._hosts[0]),!t)return{};var n=t.getColumnData(e);return n||(n=t.setColumnData(e,{})),n},f.prototype._getField=function(e){var t=this._compositeGrid||this._realTimeGrid;return t?t.getColumnField(e):""},f.prototype._getRowData=function(e){return this._realTimeGrid&&e?e.ROW_DEF.getRowData():e},f.prototype._getRow=function(e,t){return b(e.getRowDataAt(t))},f.prototype._getData=function(e,t,n){var o=this._getRow(e,t);return o?o[n]:void 0},f.prototype._setData=function(e,t,n,o){if(this._realTimeGrid){var i=v(e,t);i&&i.setData(n,o)}else"number"==typeof t?e.setDataAt(t,n,o):e.setData(t,n,o)},f.prototype._setRowData=function(e,t,n){if(this._realTimeGrid){var o=v(e,t);o&&o.setRowData(n)}else"number"==typeof t?e.setRowDataAt(t,n):e.setRowData(t,n)},f.prototype._setStaticData=function(e,t,n,o){if(this._realTimeGrid){var i=v(e,t);i&&i.setStaticData(n,o)}else this._setData(e,t,n,o)},f.prototype._setColumnData=function(e,t,n,o){if(t){var i=Array.isArray(o)?o:e.getAllRowIds(!0),r=i?i.length:0;if(r)if(1!==r){var l=Array.isArray(n)?n:i.map((function(){return n}));if(this._realTimeGrid){for(var s=0;s<r;++s){var a=e.getRowData(i[s]);if(a){var u=a.ROW_DEF;u&&(u.getRowData()[t]=l[s])}}e.dispatchGlobalChange||(e=e.getDataSource()),e&&e.dispatchGlobalChange&&e.dispatchGlobalChange()}else e.setColumnData(t,l,i)}else this._setData(e,i[0],t,Array.isArray(n)?n[0]:n)}},f.prototype._activateColumnRenderer=function(e,t,n){if(null!=e){var o=this._realTimeGrid;o?o.activateColumnRenderer(e,t,n):"function"==typeof n?this._hosts[0].setColumnDataBindingHandler(e,n):this._hosts[0].setColumnDataBindingHandler(e,null)}};var _=function(){},g={left:37,right:39,up:38,down:40,backspace:8,tab:9,enter:13,esc:27,escape:27,space:32,pageup:33,pagedown:34,del:46,delete:46};f.prototype._mockMouseEvent=function(e,t,n){null==e&&(e=0),null==t&&(t=0);var o=n||{};if(o.preventDefault=_,o.stopPropagation=_,e>=0&&t>=0){var i=this._activeGrid||this._hosts[0],r=i?i.getCell(o.sectionType||"content",e,t):null;o.target=r?r.getElement():null}return o},f.prototype._mockKeyboardEvent=function(e,t){var n=t||{};if(n.preventDefault=_,n.stopPropagation=_,"string"==typeof e){var o=g[e.toLowerCase()]||0;e=o||e.charCodeAt(0)}return n.keyCode=e,n},f._staticStyles={},f._themeLoaders={},f._themeLoadSuccess=function(e,t){var n=this.getName(),o=f._staticStyles[n]=e(t);this.applyStyles(o,n)},f.prototype.applyStaticStyles=function(e){var t=this.getName(),n=f._staticStyles[t];n?this.applyStyles(n,t):e&&(f._themeLoaders[t]||(f._themeLoaders[t]=c.getThemeColors()),f._themeLoaders[t].then(f._themeLoadSuccess.bind(this,e)))},f.prototype.applyStyles=function(e,t,n){t||(t=this.getName());var o,i,r="_style"+t,s=this._hosts,a=s.length;if(a)if(n)for(o=0;o<a;o++)i=s[o],this.revokeStyles(i,t),i[r]=l(e,i.getElement());else for(o=0;o<a;o++)(i=s[o])[r]||(l(e,i.getElement()),i[r]=!0)},f.prototype.revokeStyles=function(e,t){if(e&&t){var n=e[t="_style"+t];n&&1===n.nodeType&&(n.parentNode.removeChild(n),e[t]=null)}};var v=function(e,t){var n="number"==typeof t?e.getRowDataAt(t):e.getRowData(t);return n&&n.ROW_DEF||null},C=function(e){return e},y=function(e){return e?e.ROW_DEF.getRowData():null},b=function(e){if(e){var t=e.ROW_DEF;return t?t.getRowData():e}return null},w=function(e){this._onItemResizeThisColumnClicked=this._onItemResizeThisColumnClicked.bind(this),this._onItemResizeAllColumnClicked=this._onItemResizeAllColumnClicked.bind(this),this._onPostSectionDataBinding=this._onPostSectionDataBinding.bind(this),this._onColumnAdded=this._onColumnAdded.bind(this),this._onTimeout=this._onTimeout.bind(this),this._hosts=[],this._dummyCells=[],this._cellPaddings=[],this.config(e)};o.inherits(w,f),w.prototype._paddingSize=2,w.prototype._defaultPadding=!0,w.prototype._autoAdjust=!1,w.prototype._constraint=!1,w.prototype._proportion=!1,w.prototype._title=!1,w.prototype._shrinkable=!1,w.prototype._interval=300,w.prototype._timerId=0,w.prototype._dummyCells=null,w.prototype._cellPaddings=null,w.prototype._synchronousRendering=!0,w.prototype.getName=function(){return"ColumnFitterPlugin"},w.prototype.hasMultiTableSupport=function(){return!0},w.prototype.initialize=function(e,t){if(!(this._hosts.indexOf(e)>=0)){if(this._synchronousRendering=!0,this._hosts.push(e),t){var n=t.columnFitting||{};n.columns=t.columns,this.config(n)}this._autoAdjust&&e.listen("postSectionDataBinding",this._onPostSectionDataBinding),e.listen("columnAdded",this._onColumnAdded),this._onPostSectionDataBinding()}},w.prototype.unload=function(e){var t=this._hosts.indexOf(e);t<0||(this._hosts.splice(t,1),e.unlisten("postSectionDataBinding",this._onPostSectionDataBinding),e.unlisten("columnAdded",this._onColumnAdded),this._hosts.length||this._timerId&&(clearTimeout(this._timerId),this._timerId=0))},w.prototype.config=function(e){if(e){var t=e.columns;if(t)for(var n,o=t.length,i=0;i<o;++i)n=t[i],this._retrieveBooleanColumnOption(n,"noFitting",i),this._retrieveBooleanColumnOption(n,"contentFitting",i),this._retrieveColumnOption(n,"width",i),this._retrieveColumnOption(n,"scalable",i),this._retrieveColumnOption(n,"minWidth",i),this._retrieveColumnOption(n,"maxWidth",i);if(this._proportion=w._readBoolean(e,"proportion",this._proportion),this._constraint=w._readBoolean(e,"constraint",this._constraint),this._title=w._readBoolean(e,"title",this._title),this._shrinkable=w._readBoolean(e,"shrinkable",this._shrinkable),this._proportion){var r=this._hosts[this._hosts.length-1];r&&r.preserveProportion(!0)}var l=e.autoAdjust||e.autoAdjusting;null!=l&&(this._autoAdjust=!!l,"number"==typeof l&&(this._interval=l));var s=e.paddingSize;null!=s&&(this._defaultPadding=!1,this._paddingSize=s),this._defaultPadding&&(this._paddingSize=this._title?4:2)}},w.prototype.getConfigObject=function(e){var t=e||{},n=t.columns;n||(n=t.columns=[]);for(var o=this.getColumnCount(),i=0;i<o;++i){var r=n[i];r||(r=n[i]={}),this._getColumnOption(i,"noFitting")&&(r.noFitting=!0)}var l=t.columnFitting;return l||(l=t.columnFitting={}),this._proportion&&(l.proportion=!0),this._constraint&&(l.constraint=!0),this._title&&(l.title=!0),this._shrinkable&&(l.shrinkable=!0),this._autoAdjust&&(l.autoAdjust=!0),this._defaultPadding||(l.paddingSize=this._paddingSize),t},w.prototype.getColumnMenu=function(e,t){t||(t={});var n=t.menus;n||(n=t.menus=[]);var o=n[0];o||(o=n[0]={menuItems:[]});var i=[{indexScore:2,label:"Autosize This Column",group:"USED_ONCE",value:{colIndex:e},click:this._onItemResizeThisColumnClicked},{indexScore:1,label:"Autosize All Columns",group:"USED_ONCE",click:this._onItemResizeAllColumnClicked}];return Array.prototype.push.apply(o.menuItems,i),t},w.prototype._onItemResizeThisColumnClicked=function(e){this.adjustColumnWidth(e.currentTarget.value.colIndex),this._hideColumnMenu()},w.prototype._onItemResizeAllColumnClicked=function(e){this.adjustAllColumns(),this._hideColumnMenu()},w.prototype._hideColumnMenu=function(){this._hosts[0].getPlugin("ColumnMenuPlugin").hide()},w.prototype._retrieveBooleanColumnOption=function(e,t,n){if(e){var o=w._readBoolean(e,t,!1);this._newColumnData(n)[t]=o}},w.prototype._retrieveColumnOption=function(e,t,n){if(e){var o=e[t];null!=o&&(this._newColumnData(n)[t]=o)}},w._readBoolean=function(e,t,n){var o=e[t];return null!=o?!!o:n},w.prototype.adjustColumnWidth=function(e){return this.adjustColumns([e])},w.prototype.adjustColumns=function(e,t){null==t&&(t=!0);var n,o,i=this._collectCandidates(e,t),r=i.length;if(!r)return!1;for(n=0;n<r;++n)(o=i[n]).text&&o.elem.appendChild(this._getDummyCell(o.index,o.text));var l=this._hosts[0],s=new Array(l.getColumnCount());for(n=0;n<r;++n){o=i[n];var a=this._calculateCellWidth(o.index,l,o.width);a>(o.elem._caclWidth||0)&&(s[o.index]=a,this._autoAdjust&&!this._shrinkable&&(o.elem._caclWidth=a))}for(n=0;n<r;++n){var u=this._dummyCells[i[n].index];u&&u.parentNode&&(u.parentNode.removeChild(u),u.textContent="")}var d=0,h=this._hosts.length;if(this._constraint)for(n=0;n<h;++n)d|=(l=this._hosts[n]).setMinimumColumnWidths(s);else for(n=0;n<h;++n)if((l=this._hosts[n]).isProportionPreserved()){for(var p=[],c=0;c<r;c++)p.push(l.getColumnScalability(c));d|=l.setColumnWidths(s,p)}else d|=l.setColumnWidths(s);return this._synchronousRendering=!1,!!d},w.prototype.adjustAllColumns=function(){return this.adjustColumns()},w.prototype.calculateColumnWidth=function(e){var t=this._hosts[0],n=t?t.getSection("content"):null;if(!n)return NaN;var o,i,r=n.getColumn(e);if(!r)return NaN;if(this._getColumnOption(e,"noFitting"))return NaN;if(this._getColumnOption(e,"contentFitting"))o=this._getColumnFitContentWidth(e),o=this._calculateCellWidth(e,t,o);else{var l=this._getColumnFitContentText(e);i=this._getDummyCell(e,l);var s=r.getElement();s.appendChild(i),o=this._calculateCellWidth(e,t),s.removeChild(i)}return o},w.prototype.getAdjustedColumnWidth=w.prototype.calculateColumnWidth,w.prototype.resetAllColumns=function(){for(var e,t,n,o=this._hosts,i=this.getColumnCount(),r=0;r<o.length;r++){e=o[r];for(var l=0;l<i;l++)t=this._getColumnOption(l,"width"),n=this._getColumnOption(l,"scalable"),null!=t?e.setColumnWidth(l,t,!1):e.setColumnWidth(l,100,!1!==n)}},w.prototype._onPostSectionDataBinding=function(){this._autoAdjust&&(this._synchronousRendering?this.adjustColumns(null,!1):this._timerId||(this._timerId=setTimeout(this._onTimeout,this._interval)))},w.prototype._onColumnAdded=function(e){var t=e.context,n=e.colIndex;this._retrieveBooleanColumnOption(t,"noFitting",n),this._retrieveBooleanColumnOption(t,"contentFitting",n),this._retrieveColumnOption(t,"width",n),this._retrieveColumnOption(t,"scalable",n),this._retrieveColumnOption(t,"minWidth",n),this._retrieveColumnOption(t,"maxWidth",n),this._synchronousRendering=!0},w.prototype._onTimeout=function(){this._timerId=0,this.adjustColumns(null,!1)},w.prototype._collectCandidates=function(e,t){var n,o=this._hosts[0],i=o?o.getSection("content"):null;if(!i)return[];for(var r=[],l=e?e.length:o.getColumnCount(),s=0;s<l;++s)(n=this._collectCandidate(i,e?e[s]:s,t))&&r.push(n);return r},w.prototype._collectCandidate=function(e,t,n){var o=e.getColumn(t);if(o){var i={index:t,elem:o.getElement()},r=!n&&this._getColumnOption(t,"noFitting"),l=this._getColumnOption(t,"contentFitting");if(!r)if(l){var s=this._getColumnFitContentWidth(t);s>0&&(i.width=s)}else{var a=this._getColumnFitContentText(t);a&&(i.text=a)}return i}return null},w.prototype._getColumnFitContentWidth=function(e){for(var t,n,o=0,i=this._getCellPadding(e),r=this._hosts.length;--r>=0;)for(var l=this._hosts[r].getAllSections("content"),s=l.length,a=0;a<s;a++)for(var u=l[a],d=u.getFirstIndexInView(),h=u.getLastIndexInView()+1,p=d;p<h;p++){var c=u.getCell(e,p,!1);if(c){var m=c.getElement();if(!m.classList.contains("tr-stretched")){var f=c.getContent();if(f&&m&&c.isVisible()){t=n=f.offsetWidth;var _=f.children,g=w._almost100Pct(n+i,m.offsetWidth),v=_.length>0;g&&v&&(t=w._sumChildrenWidth(_)),t>o&&(o=t)}}}}return o?o+i:(this._cellPaddings[e]=0,0)},w.prototype._getColumnFitContentText=function(e){for(var t=NaN,n=[],o=this._hosts.length;--o>=0;){var i=this._hosts[o],r=i.getAllSections("content");this._title&&(r=i.getAllSections("title").concat(r));for(var l=r.length,s=0;s<l;s++)for(var a=r[s],u=a.getFirstIndexInView(),d=a.getLastIndexInView()+1,h=u;h<d;h++){var p=a.getCell(e,h,!1);if(p){var c=p.getTextContent();if(c&&p.getElement()&&p.isVisible()){var m=c.length;m<=t?m>=t-3&&n.push(c):(t=m,n.push(c))}}}}return n.length?n.join("\n"):""},w.prototype._getDummyCell=function(e,t){var n=this._dummyCells[e];return n||(n=this._dummyCells[e]=w._createDummyCell()),t&&(n.innerText=t),n},w.prototype._getCellPadding=function(e){var t=this._cellPaddings[e];if(t>0)return t;var n=this._hosts[0],o=(n?n.getSection("content"):null).getColumn(e);if(!o)return t=this._cellPaddings[e]=NaN;var i=o.getElement(),r=w._createDummyCell();i.appendChild(r);var l=this._cellPaddings[e]=r.offsetWidth;return i.removeChild(r),l},w.prototype._calculateCellWidth=function(e,t,n){var o,i=NaN,r=NaN,l=t.getColumnData(e);if(l&&(i=l.minWidth||NaN,r=l.maxWidth||NaN),n)o=n;else{var s=this._dummyCells[e];s&&(o=s.offsetWidth)}return o&&((o+=this._paddingSize)>r&&(o=r),o<i&&(o=i)),o},w._sumChildrenWidth=function(e){var t=e.length;if(t>0){var n=e[t-1],o=e[0];return n.offsetWidth+n.offsetLeft-o.offsetLeft}return 0},w._createDummyCell=function(){var e=document.createElement("div");return e.className="cell",e.style.whiteSpace="nowrap",e.style.width="auto",e.style.display="table",e},w._almost100Pct=function(e,t){return(e>t?t/e:e/t)>=.97},function(e,t){if(e&&t&&t.prototype.getName){var n=t.prototype.getName().replace(/Plugin$/,"");if(n){var o=e.tr;o||(o=e.tr={});var i=o.grid;i||(i=o.grid={}),i[n+"Plugin"]=t,o[n+"Extension"]=t}}}(window,w)}]);