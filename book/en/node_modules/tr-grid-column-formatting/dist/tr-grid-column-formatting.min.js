!function(e){var t={};function o(n){if(t[n])return t[n].exports;var i=t[n]={i:n,l:!1,exports:{}};return e[n].call(i.exports,i,i.exports,o),i.l=!0,i.exports}o.m=e,o.c=t,o.d=function(e,t,n){o.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},o.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},o.t=function(e,t){if(1&t&&(e=o(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(o.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var i in e)o.d(n,i,function(t){return e[t]}.bind(null,i));return n},o.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return o.d(t,"a",t),t},o.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},o.p="",o(o.s=0)}([function(e,t,o){"use strict";o.r(t);let n={inherits:function(e,t){function o(){}o.prototype=t.prototype,e.prototype=new o,e.prototype.constructor=e,e.base=function(e,o,n){o||(o="constructor");let i=arguments.length,r=new Array(i);for(let e=2;e<i;e++)r[e-2]=arguments[e];return t.prototype[o].apply(e,r)}}};let i=function(){};i.prototype._events=null,i.prototype._listenerCount=0,i.prototype.addEventListener=function(e,t){if(!e||!t)return;this._events||(this._events={});let o=this._events[e];o?o.indexOf(t)<0&&(o.push(t),++this._listenerCount):(this._events[e]=[t],++this._listenerCount)},i.prototype.removeEventListener=function(e,t){let o=this._events?this._events[e]:null;if(o){let e=o.indexOf(t);e>=0&&(o.splice(e,1),--this._listenerCount)}},i.prototype.removeAllEventListeners=function(){this._events=null,this._listenerCount=0},i.prototype.hasListener=function(e){if(this._listenerCount){if(e){let t=this._events?this._events[e]:null;return!!t&&t.length>0}return!0}return!1},i.prototype.getListener=function(e,t){if(e){let o=this._events?this._events[e]:null;if(o)return t||(t=0),o[t]||null}return null},i.prototype.addListener=function(e,t){let o=e?e[t]:null;"function"==typeof o&&this.addEventListener(t,o)},i.prototype._prepareEventArguments=function(e,t){return t},i.prototype._dispatch=function(e,t){let o=this._events?this._events[e]:null;if(o){t=this._prepareEventArguments(e,t);let n=o.length;for(let e=0;e<n;++e)o[e](t)}};i.preventDefault=function(e){e&&e.preventDefault&&(e.preventDefault(),e.stopPropagation())};let r=function(e,t,o){this.resolve=this.resolve.bind(this),this.reject=this.reject.bind(this),"function"==typeof e&&(this._resolveHandler=e),"function"==typeof t&&(this._rejectHandler=t),null!=o&&(this._ctx=o),this.promise=new Promise(function(e,t){this._resolve=e,this._reject=t}.bind(this))};r.prototype.promise=null,r.prototype._resolve=null,r.prototype._reject=null,r.prototype._resolveHandler=null,r.prototype._rejectHandler=null,r.prototype._ctx=null,r.prototype._fulfilled=!1,r.prototype.resolve=function(e){if(this._resolve){if(this._resolveHandler){let t=this._resolveHandler(e,this._ctx||this);null!=t&&(e=t)}this._resolve(e),this._finally()}},r.prototype.reject=function(e){if(this._reject){if(this._rejectHandler){let t=this._rejectHandler(e,this._ctx||this);null!=t&&(e=t)}this._reject(e),this._finally()}},r.prototype.isFulfilled=function(){return this._fulfilled},r.prototype._finally=function(){this._fulfilled=!0,this._ctx=this._resolveHandler=this._rejectHandler=null,this._resolve=this._reject=null};let l=function(e,t){if(!e)return null;let o=document.createElement("style");o.textContent="\n"+e+"\n";let n,i=function(e){if(e){let t;if(e.shadowRoot?t=e.shadowRoot:e.getRootNode&&(t=e.getRootNode()),t&&t!==document&&t!==e)return t}return null}(t),r=!0;return i||(r=!1,i=document.head),r&&i.children&&i.children.length&&(n=i.children[0]),n?i.insertBefore(o,n):i.appendChild(o),o},s=function(e,t){t||(t=[]);for(let o in e){let n=e[o];"object"==typeof n?s(n,t):t.push(n)}return t},a=function(e){if(!e||"string"!=typeof e)return"";if("#"===e.charAt(0))return e;let t=e.match(/\d+/g);if(!t||t.length<3)return e;let o="#";for(let e=0;e<3;e++){let n=+t[e];n>=16||(o+="0"),o+=n?n.toString(16).toUpperCase():"0"}return o};let u={},p=function(e,t){"attributes"==t.type&&"lang"==t.attributeName&&(e.lang=t.target.lang||"en")},d=function(e,t,o){"attributes"===o.type&&(null!=t?o.attributeName===t&&e(o.target.getAttribute(t)):e(o.target))};u._getNewId=function(){return"observer_"+ ++u._id},u._addObserver=function(e,t,o){let n=o;n||(n={}),n.attributes=!0,u._observer.observe(e,n),u._addListener(e,t)},u._onMutationCallback=function(e){for(let t=0;t<e.length;t++){let o=e[t],n=u._listeners[o.target._observeId];for(let e=0;e<n.length;e++)n[e](o)}},u._addListener=function(e,t){let o=u._listeners;if(o||(o=u._listeners={}),!e._observeId){let t=u._getNewId();e._observeId=t}o[e._observeId]||(o[e._observeId]=[]);let n=o[e._observeId];n.indexOf(t)<0&&n.push(t)},u.addLanguageListener=function(e){e&&(e.lang=document.documentElement.lang||"en",u._addObserver(document.documentElement,p.bind(null,e)))},u.addAttributeListener=function(e,t,o){e&&t&&u._addObserver(e,d.bind(null,t,o))},u._observer=new MutationObserver(u._onMutationCallback),u._listeners={},u._id=0;let c={en:!0,de:!0,ja:!0,zh:!0,"zh-Hant":!0},h={_deferred:null,themeReady:null,_defaultColors:{up:"#39C46E",down:"#F5475B",level:"#C2C2C2",tickUp:"#39C46E",tickDown:"#F5475B",baseGrid:"#1A1A1C",baseText:"#C2C2C2",trackColor:"#FF9933"}};h.themeColors=h._defaultColors,h._components={},h._themeName="",h._elfVersion=0,h._dummyIcon=null,h._iconLoaded=!1,h._profileName=null,h._callbacks=[],h._observed=!1,h._pendingResolve=!1,h._themeLoaded=!1,h._icons={"elf-theme-halo":{rowGrouping:{expander:"down"},sorting:{ascending:"hollow-arrow-up",descending:"hollow-arrow-down",sortable:"sort-up-down"},columnStack:{stack:"map-layers",expand:"right",collapse:"left"}},"elf-theme-solar":{columnStack:{stack:"list",expand:"right",collapse:"left"}}},h._icons["halo-theme"]=h._icons["elf-theme-halo"],h._icons["solar-theme"]=h._icons["elf-theme-solar"],h.getElfVersion=function(){if(!h._elfVersion){let e=0;if(window.EFX_GRID){let t=window.EFX_GRID.version;t=t.split("."),e=+t[0]}else if(window.elf)if(window.elf.version){let t=window.elf.version.match(/\d/);t&&t[0]&&(e=parseInt(t[0],10))}else window.elf.customElements?e=3:window.customElements&&(e=4);else window.Polymer&&(e=1);h._elfVersion=e}return h._elfVersion},h.hasComponent=function(e){let t=h._components[e];if(null==t){t=0;let o=h.getElfVersion();if(e){let n;1===o?(n=document.createElement(e),n.is===e&&(t=o)):o>1&&(window.customElements&&window.customElements.get(e)||document.createElement(e).constructor!==HTMLElement)&&(t=o),h._components[e]=t}}return t},h.toLangString=function(e){if(!e)return"";if("zh-hant"===(e=e.toLowerCase()))return"zh-Hant";let t=e.replace(/-.*/,"");return c[t]?t:""},h.hasTheme=function(e){return e===h.getThemeName()},h.getThemeName=function(e){return h._themeName||(h._themeName=h.getCssVariable("--theme-name",document.documentElement)),h._themeName},h.setThemeName=function(e){h._themeName=e},h.isThemeLoaded=function(){return h._themeLoaded},h.getColors=function(){return h.themeColors},h.isHaloTheme=function(e){return null==e&&(e=h.getThemeName()),!!e&&e.indexOf("halo")>=0},h.injectIcons=function(e,t){if("object"!=typeof e)return;let o=h.getThemeName();e.themeName=o;let n=h.getElfVersion();e.elfVersion=n;let i=h._icons[o];i&&(e.icons=i)},h.getIconList=function(){let e=h._icons[h.getThemeName()];return e?s(e):[]},h._onIconPreloaded=function(){if(h._dummyIcon){let e=h._dummyIcon.parentNode;e&&e.removeChild(h._dummyIcon),h._dummyIcon=null}},h.prepareIconPreloading=function(){if(!h._iconLoaded){h._iconLoaded=!0;let e=h.getIconList();if(e.length){setTimeout(h._onIconPreloaded,10);let t=h._dummyIcon=document.createElement("coral-icon");return t.style.transform="scale(0)",document.body.appendChild(t),e}}return null},h.getCssVariable=function(e,t){let o="",n=t||document.body;return window&&"string"==typeof e&&1===n.nodeType&&e.match(/^--/)&&(o=window.getComputedStyle(n).getPropertyValue(e),o=o.replace(/[\"\']/g,"")),o},h.getCssVariables=function(e,t){let o=t||document.body;if(window&&1===o.nodeType){let t=window.getComputedStyle(o);for(let o in e){let n=e[o];n&&n.match(/^--/)&&(e[o]=t.getPropertyValue(n).replace(/\"/g,""))}}return e||null},h.setRTK=function(e){null!=e&&(h._rtk=e)},h.getMovementColorProfile=function(){return document.documentElement.getAttribute("movement-color-profile")},h._addThemeChangedCallback=function(e){let t=h._callbacks;t.indexOf(e)<0&&t.push(e)},h.reloadThemeColors=function(){return h._deferred&&h._deferred.isFulfilled()?(h._profileName="",h._themeLoaded=!1,h.themeReady=null,h.getThemeColors()):h.themeReady},h.getThemeColors=function(e){if("function"==typeof e&&h._addThemeChangedCallback(e),h.themeReady)return h.themeReady;let t=h._deferred=new r;h.themeReady=t.promise;let o=h.getMovementColorProfile();if(o)o!==h._profileName?setTimeout(h._profileNameRetrieved,100):h._deferred.resolve(h.themeColors);else{let e={providerName:"Configuration",settingName:"RDE_USER_CURRENT_TICK_COLOR"},t=window?window.JET:null;if(h._themeLoaded=!1,h._rtk&&h._rtk.Settings)h._rtk.Settings.getAsync(e).then(h._loadingProfileSuccess).catch(h._loadingProfileFailure);else if(t&&t.Settings)try{t.Settings.read(h._loadingProfileSuccess,e)}catch(e){h._loadingProfileFailure()}else setTimeout(h._profileNameRetrieved,100)}return t.promise};let f=function(e){if(e!==h._profileName){h._retrieveThemeColors(e),h._pendingResolve&&(h._pendingResolve=!1,h._deferred.resolve(h.themeColors));let t=h._callbacks;for(let e=0;e<t.length;e++)t[e]()}};h._loadingProfileSuccess=function(e){e&&document.documentElement.setAttribute("movement-color-profile",e.toLowerCase()),h._observed?h._pendingResolve=!0:h._profileNameRetrieved(e)},h._loadingProfileFailure=function(){h._retrieveThemeColors(),h._observed||(h._observed=!0,u.addAttributeListener(document.documentElement,f,"movement-color-profile")),h._deferred.reject("Failed to get movement color profile from settings.")},h._profileNameRetrieved=function(){let e=h.getMovementColorProfile();h._retrieveThemeColors(e),h._observed||(h._observed=!0,u.addAttributeListener(document.documentElement,f,"movement-color-profile")),h._deferred.resolve(h.themeColors)},h._retrieveThemeColors=function(e){h._themeLoaded=!0,h._profileName=e;let t=h.themeColors=h.getCssVariables({primary:"--color-scheme-primary",secondary:"--color-scheme-secondary",tertiary:"--color-scheme-tertiary",complementary:"--color-scheme-complementary",up:"--color-scheme-positive",down:"--color-scheme-negative",level:"--color-scheme-neutral",tickUp:"--color-scheme-tickup",tickDown:"--color-scheme-tickdown"});t.up||(t.up=h._defaultColors.up,t.down=h._defaultColors.down,t.level=h._defaultColors.level,t.tickUp=h._defaultColors.tickUp,t.tickDown=h._defaultColors.tickDown),t.positive=t.up,t.negative=t.down,t.neutral=t.level;let o=document.createElement("table");o.style.visibility="hidden",o.style.position="fixed",o.style.left="0",o.style.top="0",o.style.width="0";let n=o.insertRow(-1),i=n.insertCell(-1);document.body.appendChild(o);let r=window.getComputedStyle(n);t.tableBg=r.backgroundColor;let l=window.getComputedStyle(i);t.tableText=l.color,t.tableBorder=l.borderColor,t.tableText===t.tableBorder&&(i.className="tr-lg",l=window.getComputedStyle(i),t.tableBg=l.backgroundColor,t.tableText=l.color,t.tableBorder=l.borderColor,t.tableText===t.tableBorder&&(t.tableBg=h._defaultColors.baseGrid,t.tableText=h._defaultColors.baseText,t.tableBorder="")),t.tableBg=a(t.tableBg),t.tableText=a(t.tableText),t.tableBorder=a(t.tableBorder),document.body.removeChild(o),t.baseGrid=t.tableBg,t.baseText=t.tableText,t.trackColor=t.primary||h._defaultColors.trackColor};let m=function(){};n.inherits(m,i),m.prototype._hosts=null,m.prototype._compositeGrid=null,m.prototype._realTimeGrid=null,m.prototype._rowGetter=null,m.prototype._initializedGrid=!1,m.prototype.listen=m.prototype.addEventListener,m.prototype.unlisten=m.prototype.removeEventListener,m.prototype.afterInit=function(e,t,o){let n=null;o&&o.getCoreGrid&&(n=o.getCoreGrid()),n&&(this.getGridApi()||this.setGridWrapper("compositegrid",o),this._compositeGrid&&n.loadPlugin(this,t)),this._initializedGrid||(this._initializedGrid=!0,this._rowGetter=this._realTimeGrid?b:C,this._afterInit())},m.prototype._afterInit=function(){},m.prototype._dispose=function(){this._hosts&&(this._hosts.length||(this._compositeGrid=this._realTimeGrid=null,this._initializedGrid=!1))},m.prototype.hasMultiTableSupport=function(){return!1},m.prototype._prepareEventArguments=function(e,t){return t||(t={}),t.api=this.getGridApi(),t},m.prototype.getName=function(){return"GridPlugin"},m.prototype.initialize=function(e,t){},m.prototype.unload=function(e){this._dispose()},m.prototype.getRelativeGrid=function(e){let t=null;if(e.target){t=e.target;let o=t.api;if(o&&o.getCoreGrid)return o.getCoreGrid()}else e.getElement?t=e.getElement():1===e.nodeType&&(t=e);if(t)for(let e=this._hosts.length;--e>=0;){let o=this._hosts[e];if(o.getElement().contains(t))return o}return null},m.prototype.setGridWrapper=function(e,t){e&&("compositegrid"===(e=e.toLowerCase())?this._compositeGrid=t:"realtimegrid"===e&&(this._realTimeGrid=t))},m.prototype.getGridApi=function(e){if(null==e)return this._compositeGrid||this._realTimeGrid;{let t="number"==typeof e?this._hosts[e]:e;return t&&t._wrapper||null}},m.prototype.getColumnName=function(e){if(this._compositeGrid){let t=this._compositeGrid.getColumnModel(e);if(t)return t.title?t.title:t.field}else{let t=this.getColumnIndex(e),o=this._realTimeGrid.getColumnDefinition(t);if(o)return o.getName()}return""},m.prototype.getColumnIndex=function(e){if("number"==typeof e)return e;if(this._compositeGrid){let t=this._compositeGrid.getColumnFields().indexOf(e);return t>-1?t:this._compositeGrid.getColumnIndex(e)}return this._realTimeGrid.getColumnIndex(e)},m.prototype.getColumnIndices=function(e){let t=this.getGridApi();if(t.getColumnIndices)return t.getColumnIndices(e);if(this._compositeGrid){let t,o=this._compositeGrid.getColumnFields(),n=this._compositeGrid.getColumnCount(),i=[];for(let r=0;r<e.length;r++)if(t=e[r],"number"==typeof t)t>=0&&t<n&&i.push(t);else{let e=o.indexOf(t);-1!==e&&i.push(e)}return i}return this._realTimeGrid.getColumnIndices(e)},m.prototype.getColumnId=function(e){if("string"==typeof e)return e;let t=this.getColumnCount();if(e<0||e>=t)return"";if(this._compositeGrid)return this._compositeGrid.getColumnId(e);{let t=this._realTimeGrid.getColumnDefinition(e);if(t)return t.getId()}return""},m.prototype.getColumnIds=function(){return this._hosts&&this._hosts.length?this._hosts[0].getColumnIds():[]},m.prototype.getColumnField=function(e){return this._hosts&&this._hosts.length?this._hosts[0].getColumnField(e):""},m.prototype.getColumnFields=function(){return this._hosts&&this._hosts.length?this._hosts[0].getColumnFields():[]},m.prototype.getColumnCount=function(){if(this._hosts){let e=this._hosts[0];return e?e.getColumnCount():0}return 0},m.prototype._moveColumnById=function(e,t){let o=this._hosts,n=o?o.length:0;if(n){let i=0;for(let r=0;r<n;++r)i|=o[r].moveColumnById(e,t);return!!i}return!1},m.prototype._reorderColumns=function(e,t){let o=this._hosts,n=o?o.length:0;if(n){let i=0;for(let r=0;r<n;++r)i|=o[r].reorderColumns(e,t);return!!i}return!1},m.prototype._loadPlugin=function(e,t,o){return e||(e=t.getPlugin(o))||(e=t.loadPlugin(o))&&this._initializedGrid&&(e._initializedGrid=!0),e},m.prototype._requestPlugin=function(e,t,o){return this._initializedGrid?m.requestPlugin(e,t,o,this._compositeGrid,this._realTimeGrid):Promise.reject("Plugin should be requested after the initialization")},m.requestPlugin=function(e,t,o,n,i){let l=null;if(e){let t=null;1===e.nodeType?t=e.api:e.getCoreGrid?t=e:e.getPlugin&&(l=e),t&&(l=t.getCoreGrid(),n||i||(t.getModel?n=t:i=t))}if(!l)return Promise.reject("Cannot find grid element");let s=l.getPlugin(t);if(s)return Promise.resolve(s);{let e=new r;return setTimeout(m._onPluginRequested.bind(null,{grid:l,pluginRef:t,compositeGrid:n,realTimeGrid:i,config:o,deferred:e}),10),e.promise}},m._onPluginRequested=function(e){let t=e.grid;if(!t.getElement())return e.deferred.reject("Grid has been disposed before the plugin is fully loaded: "+e.pluginRef);let o=t.getPlugin(e.pluginRef);if(o)return e.deferred.resolve(o);let n=!1;return e.pluginRef.beforeInit&&(n=!0,e.pluginRef.beforeInit(t.getElement(),e.config,!0)),o=t.loadPlugin(e.pluginRef,e.config),o?(!n&&o.beforeInit&&o.beforeInit(t.getElement(),e.config),o.setGridWrapper&&(e.compositeGrid?o.setGridWrapper("compositegrid",e.compositeGrid):e.realTimeGrid&&o.setGridWrapper("realtimegrid",e.realTimeGrid)),o.afterInit&&o.afterInit(),e.deferred.resolve(o)):e.deferred.reject("Unable to load required dependency: "+e.pluginRef)},m.prototype._getPlugin=function(e,t){return null==t&&(t=this._hosts[0]),t?t.getPlugin(e):null},m.prototype._getColumnData=function(e,t){return null==t&&(t=this._hosts[0]),t?t.getColumnData(e):null},m.prototype._getColumnOption=function(e,t,o){let n=this._getColumnData(e,o);return n?n[t]:null},m.prototype._newColumnData=function(e,t){if(null==t&&(t=this._hosts[0]),!t)return{};let o=t.getColumnData(e);return o||(o=t.setColumnData(e,{})),o},m.prototype._getField=function(e){let t=this._compositeGrid||this._realTimeGrid;return t?t.getColumnField(e):""},m.prototype._getRowData=function(e){return this._realTimeGrid&&e?e.ROW_DEF.getRowData():e},m.prototype._getRow=function(e,t){return v(e.getRowDataAt(t))},m.prototype._getData=function(e,t,o){let n=this._getRow(e,t);return n?n[o]:void 0},m.prototype._setData=function(e,t,o,n){if(this._realTimeGrid){let i=y(e,t);i&&i.setData(o,n)}else"number"==typeof t?e.setDataAt(t,o,n):e.setData(t,o,n)},m.prototype._setRowData=function(e,t,o){if(this._realTimeGrid){let n=y(e,t);n&&n.setRowData(o)}else"number"==typeof t?e.setRowDataAt(t,o):e.setRowData(t,o)},m.prototype._setStaticData=function(e,t,o,n){if(this._realTimeGrid){let i=y(e,t);i&&i.setStaticData(o,n)}else this._setData(e,t,o,n)},m.prototype._setColumnData=function(e,t,o,n){if(!t)return;let i=Array.isArray(n)?n:e.getAllRowIds(!0),r=i?i.length:0;if(!r)return;if(1===r)return void this._setData(e,i[0],t,Array.isArray(o)?o[0]:o);let l=Array.isArray(o)?o:i.map((function(){return o}));if(this._realTimeGrid){for(let o=0;o<r;++o){let n=e.getRowData(i[o]);if(n){let e=n.ROW_DEF;e&&(e.getRowData()[t]=l[o])}}e.dispatchGlobalChange||(e=e.getDataSource()),e&&e.dispatchGlobalChange&&e.dispatchGlobalChange()}else e.setColumnData(t,l,i)},m.prototype._activateColumnRenderer=function(e,t,o){if(null==e)return;let n=this._realTimeGrid;n?n.activateColumnRenderer(e,t,o):"function"==typeof o?this._hosts[0].setColumnDataBindingHandler(e,o):this._hosts[0].setColumnDataBindingHandler(e,null)};let _=function(){},g={left:37,right:39,up:38,down:40,backspace:8,tab:9,enter:13,esc:27,escape:27,space:32,pageup:33,pagedown:34,del:46,delete:46};m.prototype._mockMouseEvent=function(e,t,o){null==e&&(e=0),null==t&&(t=0);let n=o||{};if(n.preventDefault=_,n.stopPropagation=_,e>=0&&t>=0){let o=this._activeGrid||this._hosts[0],i=o?o.getCell(n.sectionType||"content",e,t):null;n.target=i?i.getElement():null}return n},m.prototype._mockKeyboardEvent=function(e,t){let o=t||{};if(o.preventDefault=_,o.stopPropagation=_,"string"==typeof e){let t=g[e.toLowerCase()]||0;e=t||e.charCodeAt(0)}return o.keyCode=e,o},m._staticStyles={},m._themeLoaders={},m._themeLoadSuccess=function(e,t){let o=this.getName(),n=m._staticStyles[o]=e(t);this.applyStyles(n,o)},m.prototype.applyStaticStyles=function(e){let t=this.getName(),o=m._staticStyles[t];o?this.applyStyles(o,t):e&&(m._themeLoaders[t]||(m._themeLoaders[t]=h.getThemeColors()),m._themeLoaders[t].then(m._themeLoadSuccess.bind(this,e)))},m.prototype.applyStyles=function(e,t,o){t||(t=this.getName());let n,i,r="_style"+t,s=this._hosts,a=s.length;if(a)if(o)for(n=0;n<a;n++)i=s[n],this.revokeStyles(i,t),i[r]=l(e,i.getElement());else for(n=0;n<a;n++)i=s[n],i[r]||(l(e,i.getElement()),i[r]=!0)},m.prototype.revokeStyles=function(e,t){if(!e||!t)return;let o=e[t="_style"+t];o&&1===o.nodeType&&(o.parentNode.removeChild(o),e[t]=null)};let y=function(e,t){let o="number"==typeof t?e.getRowDataAt(t):e.getRowData(t);return o&&o.ROW_DEF||null},C=function(e){return e},b=function(e){return e?e.ROW_DEF.getRowData():null},v=function(e){if(e){let t=e.ROW_DEF;return t?t.getRowData():e}return null};var w=function(){this._onFormatDialogDataChange=this._onFormatDialogDataChange.bind(this),this._hosts=[]};n.inherits(w,m),w.prototype._formatDialog=null,w.prototype._tfp=null,w.prototype._ccp=null,w.prototype._hmp=null,w.prototype._pcbp=null,w.prototype._fromApi=!0,w.prototype._constSelfColumn="THIS_COLUMN",w.prototype.getName=function(){return"ColumnFormattingPlugin"},m.prototype.hasMultiTableSupport=function(){return!0},w.prototype.initialize=function(e,t){this._hosts.indexOf(e)>=0||(this._hosts.push(e),this._gridConfig=t)},w.prototype.unload=function(e){var t=this._hosts.indexOf(e);t<0||(this._hosts.splice(t,1),this._hosts.length||(this._formatDialog=this._compositeGrid=null,this._tfp=this._ccp=this._hmp=null))},w._empty=function(e){return null},w.prototype._afterInit=function(){Promise.all([this._requestPlugin(this._hosts[0],"TextFormatting",this._gridConfig).catch(w._empty),this._requestPlugin(this._hosts[0],"ConditionalColoring",this._gridConfig).catch(w._empty),this._requestPlugin(this._hosts[0],"HeatMap",this._gridConfig).catch(w._empty),this._requestPlugin(this._hosts[0],"PercentBar",this._gridConfig).catch(w._empty)]).then(function(e){this._tfp=e[0],this._ccp=e[1],this._hmp=e[2],this._pcbp=e[3],this.config(this._gridConfig)}.bind(this)).catch(w._empty)},w.prototype.config=function(e){if(e){var t=e.columns;if(t)for(var o=t.length,n=0;n<o;++n){var i=t[n],r=this._newColumnData(n);!r.field&&i.field&&(r.field=i.field),!r.fieldDataType&&i.fieldDataType&&(r.fieldDataType=i.fieldDataType)}}},w.prototype.getConfigObject=function(e){var t=e||{};return this._tfp&&this._tfp.getConfigObject&&this._tfp.getConfigObject(t),this._ccp&&this._ccp.getConfigObject&&this._ccp.getConfigObject(t),this._hmp&&this._hmp.getConfigObject&&this._hmp.getConfigObject(t),this._pcbp&&this._pcbp.getConfigObject&&this._pcbp.getConfigObject(t),t},w.prototype.getField=w.prototype._getField,w.prototype.getFieldList=function(){for(var e=this.getColumnCount(),t=new Array(e),o=0;o<e;++o)t[o]=this._getField(o);return t},w.prototype.getColumnCount=function(){var e=this._hosts[0];return e?e.getColumnCount():0},w.prototype.openDialog=function(e,t){t=t||{};var o=h.hasComponent("column-format-dialog");this._formatDialog||(o>=3?(this._formatDialog=document.createElement("column-format-dialog"),document.body.appendChild(this._formatDialog),this._formatDialog.addEventListener("confirm",this._onFormatDialogDataChange)):o<2&&(this._formatDialog=document.createElement("tr-grid-format-dialog"),this._formatDialog.addEventListener("data-change",this._onFormatDialogDataChange))),t.supportDisplayStyleOptions||(t.supportDisplayStyleOptions={}),this._pcbp&&null==t.supportDisplayStyleOptions.bar&&(t.supportDisplayStyleOptions.bar=!0),this._hmp&&null==t.supportDisplayStyleOptions.heatmap&&(t.supportDisplayStyleOptions.heatmap=!0),this._ccp&&null==t.supportDisplayStyleOptions.conditionalColor&&(t.supportDisplayStyleOptions.conditionalColor=!0);var n=t.data||this.getColumnFormatOptions(e);this._formatDialog.init?(t.data=n,t.fields=t.fields||this.getFieldList(),this._formatDialog.init(t)):this._formatDialog.data=n,this._formatDialog.colIndex=e,this._formatDialog.show()},w.prototype.getColumnFormatOptions=function(e){var t={};this._tfp&&(t.valueFormatTab=this._tfp.getColumnFormatOptions(e),t.valueFormatTab.formatType||(t.valueFormatTab.formatType=this._getColumnData(e).fieldDataType));var o="general",n={};if(this._hmp&&(this._hmp.getColumnHeatMapOptions(e,n),null!=n.midPoint&&(o="heatmap")),this._ccp&&"heatmap"!=o){var i=this._ccp.getColumnPainter(e);if(i){var r=i.getConditions();if(r){var l,s=i.getColoringType(),a=i.inputField||this._constSelfColumn;if(t.colorTextTab={},i._blinkCondition&&(t.colorTextTab.highlight={field:i._blinkCondition.field,mode:i._blinkCondition.border?"border":"cell"}),1===s)(l=r[0])&&(t.colorTextTab.colorText={field:a});else if(3===s){o="conditionalColor",n.conditions=[],n.field=a;for(var u=r.length,p=0;p<u;++p){l=r[p];var d={};d.condition=l.condition||"",d.expression=l.expression;var c=l.value1;null==c&&(c=""),d.value1=c,null==(c=l.value2)&&(c=""),d.value2=c,d.color=l.color,d.backgroundColor=l.backgroundColor,n.conditions.push(d)}}}}}if(this._pcbp){var h=this._pcbp.getColumnConfigObject(e,n);h.percentBar&&(o="bar",(n=h.percentBar).showValues=!n.textHidden,null!=n.textHidden&&delete n.textHidden)}var f=t.displayStyleTab={};return f[o]=n,f.alignment=this.getColumnAlignment(e),f.mode=o,t.fieldDataType=this._getColumnData(e).fieldDataType,t},w.prototype.setColumnFormatOptions=function(e,t){if(t){var o=this._getField(e);if(this._tfp){var n=t.valueFormatTab;if(n)"percent"===n.formatType&&(n.percentSign=!0),this._tfp.setColumnFormat(e,n)}if(this._ccp){var i=t.colorTextTab;i&&(i.field=o,this._ccp.setColumnColoring(e,i))}var r=t.displayStyleTab;if(r){var l=r.general,s=r.conditionalColor,a=r.heatmap,u=r.bar||r.percentBar,p=null;if(l?p=l.alignment:a?p=a.alignment:s?p=s.alignment:u&&(p=u.alignment),this._ccp&&s){if(this._pcbp&&this._pcbp.setColumnPercentBar(e,null),this._tfp){var d=this._tfp.getFormatter(e);d&&(s.textFormatter=d.format)}a?this._ccp.setColumnColoring(e,{}):(s.conditions.forEach(function(e){"string"==typeof e.expression&&(e.expression=e.expression.replace(this._constSelfColumn,o))}.bind(this)),this._ccp.setColumnColoring(e,s))}this._hmp&&a&&(this._pcbp&&this._pcbp.setColumnPercentBar(e,null),s?this._hmp.setColumnHeatMap(e,null):this._hmp.setColumnHeatMap(e,{field:o,heatmap:a})),this._pcbp&&u&&(null!=u.showValues&&(u.textHidden=!u.showValues),this._hmp&&this._hmp.setColumnHeatMap(e,null),this._ccp&&this._ccp.setColumnColoring(e,{}),this._pcbp.setColumnPercentBar(e,{field:o,percentBar:u})),this.setColumnAlignment(e,p),this._fromApi&&t&&t.fieldDataType&&this.setFieldDataType(e,t.fieldDataType)}}},w.prototype._onFormatDialogDataChange=function(e){var t=e.detail.data,o=this._formatDialog.colIndex;this._fromApi=!1,this.setColumnFormatOptions(o,t),this._fromApi=!0,this.hasListener("formatChanged")&&(t.colIndex=o,t.field=this._getField(o),this._compositeGrid&&this._compositeGrid.getColumnId&&(t.colId=t.columnId=this._compositeGrid.getColumnId(o)),this._dispatch("formatChanged",t))},w.prototype.setColumnAlignment=function(e,t){for(var o=this._hosts.length;--o>=0;)this._hosts[o].setColumnAlignment(e,t)},w.prototype.getColumnAlignment=function(e){var t=this._hosts[0];return t?t.getColumnAlignment(e):"default"},w.prototype.hasHiddenColumn=function(){for(var e=this.getColumnCount(),t=0;t<e;++t)if(this.isColumnHidden(t))return!0;return!1},w.prototype.isColumnHidden=function(e){var t=this._hosts[0];return!!t&&!t.getColumnVisibility(e,0)},w.prototype.hideColumn=function(e,t){for(var o=this._hosts.length,n=0;n<o;++n)this._hosts[n].hideColumn(e,t)},w.prototype.showAllColumns=function(){for(var e=this.getColumnCount(),t=0;t<e;++t)this.hideColumn(t,!1)},w.prototype.setFieldDataType=function(e,t){this._newColumnData(e).fieldDataType=t};!function(e,t){if(!e||!t)return;if(!t.prototype.getName)return;let o=t.prototype.getName().replace(/Plugin$/,"");if(!o)return;let n=e.tr;n||(n=e.tr={});let i=n.grid;i||(i=n.grid={}),i[o+"Plugin"]=t,n[o+"Extension"]=t}(window,w)}]);