!function(e){var t={};function n(r){if(t[r])return t[r].exports;var i=t[r]={i:r,l:!1,exports:{}};return e[r].call(i.exports,i,i.exports,n),i.l=!0,i.exports}n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var i in e)n.d(r,i,function(t){return e[t]}.bind(null,i));return r},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=1)}([function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"c",(function(){return prettifyCss})),__webpack_require__.d(__webpack_exports__,"a",(function(){return injectCss})),__webpack_require__.d(__webpack_exports__,"b",(function(){return nestedObjectToArray})),__webpack_require__.d(__webpack_exports__,"d",(function(){return rgb2Hex}));var Util={post:function(e,t){return Util._post(e,t).then(Util.toJSON)},requestText:function(e,t){return Util._post(e,t,"text/plain").then(Util.toText)},requestByUrlEncoded:function(e,t){return Util._post(e,t,"application/x-www-form-urlencoded").then(Util.toJSON)},toJSON:function(e){return Util._logError(e)?Promise.reject(e):e.json()},toText:function(e){return Util._logError(e)?Promise.reject(e):e.text()},_logError:function(e){return!!(e&&e.status>=300)&&(console.log("Response "+e.status+": "+e.statusText),!0)},_post:function(e,t,n){var r={method:t?"POST":"GET",headers:{"Content-Type":n||"application/json"}};return t&&(r.body="string"==typeof t?t:JSON.stringify(t)),fetch(e,r)}},extendObject=function(e,t,n){if(!e)return null;if(!t||e===t)return e;var r;if(n)for(var i=n.length,o=0;o<i;++o)(r=n[o])&&extendProperty(e,t,r);else for(r in t)extendProperty(e,t,r);return e},cloneObject=function(e,t){return extendObject({},e,t)},arrayToObject=function(e,t){if(!Array.isArray(e))return e;if(!t)return null;var n=e;e={};for(var r=n.length,i=0;i<r;++i){var o=t[i];o&&void 0!==n[i]&&(e[o]=n[i])}return e},extendProperty=function(e,t,n){var r=t[n];if(null!=r){var i=e[n];Array.isArray(i)?e[n]=i.concat(r):Array.isArray(r)&&i?e[n]=r.concat(i):e[n]=r}},extendArrayProperty=function(e,t,n){var r=null;if(n){var i=e[t];r=i?Array.isArray(i)?i:e[t]=[i]:e[t]=[],Array.isArray(n)?n.length&&(n.length>1?Array.prototype.push.apply(r,n):r.push(n[0])):r.push(n)}return r},_bracketExp=new RegExp(/\[[^\[]*\]/g),parseCondition=function(expression){if(!expression)return null;if("string"!=typeof expression)return"function"==typeof expression?expression:null;for(var brackets=expression.match(_bracketExp),map={},fields=[],len=brackets?brackets.length:0,i=len;--i>=0;){var field=brackets[i];map[field]||(map[field]="f["+fields.length+"]",fields.push(field.substring(1,field.length-1)))}expression=expression.replace(_bracketExp,(function(e){return"rowData["+map[e]+"]"}));var finalExp="(function(f, rowData) { return ("+expression+"); })",fn=null;try{fn=eval(finalExp),fn=fn.bind(null,fields)}catch(e){console.log(e.message)}return fn||null},_encloseBracket=function(e){return Array.isArray(e)?"{\n"+e.join("\n")+"\n}":e},_indentBracketContent=function(e){return e.replace(/\n+/g,"\n\t").replace(/\n\t}$/,"\n}")},prettifyCss=function(e){if(e){var t="";if(Array.isArray(e))t=e.map(_encloseBracket).join("\n").replace(/{\s*{/g,"{").replace(/\s+{/g," {");else t="string"==typeof e?e:e+"";if(t)return t.replace(/{[\w\W]*?}/g,_indentBracketContent)}return""},getShadowRoot=function(e){var t;if(e&&(e.shadowRoot?t=e.shadowRoot:e.getRootNode&&(t=e.getRootNode()),t&&t!==document&&t!==e))return t;return null},injectCss=function(e,t){if(!e)return null;var n=document.createElement("style");n.textContent="\n"+e+"\n";var r,i=getShadowRoot(t),o=!0;return i||(o=!1,i=document.head),o&&i.children&&i.children.length&&(r=i.children[0]),r?i.insertBefore(n,r):i.appendChild(n),n},isIE=function(){var e=window.navigator.userAgent;return e.indexOf("MSIE ")>0||e.indexOf("Trident/")>0||e.indexOf("Edge/")>0},isMac=function(){return/Mac/.test(navigator.platform)},isTouchDevice=function(){return!!(navigator.maxTouchPoints&&navigator.maxTouchPoints<256||navigator.msMaxTouchPoints&&navigator.msMaxTouchPoints<256)},nestedObjectToArray=function(e,t){for(var n in t||(t=[]),e){var r=e[n];"object"==typeof r?nestedObjectToArray(r,t):t.push(r)}return t},rgb2Hex=function(e){if(!e||"string"!=typeof e)return"";if("#"===e.charAt(0))return e;var t=e.match(/\d+/g);if(!t||t.length<3)return e;for(var n="#",r=0;r<3;r++){var i=+t[r];i>=16||(n+="0"),n+=i?i.toString(16).toUpperCase():"0"}return n},prepareTSVContent=function(e){if(null==e)return"";var t="string"==typeof e?e:e.toString();return t.length?(t.indexOf("\n")>=0&&(t=t.replace(/[\r\n]/g," ")),t.indexOf("\t")>=0&&(t=t.replace(/\t/g," "))," "!==t.charAt(0)&&" "!==t.charAt(t.length-1)||(t=t.trim()),t):""},_unused_webpack_default_export=Util},function(e,t,n){"use strict";n.r(t);var r={inherits:function(e,t){function n(){}n.prototype=t.prototype,e.prototype=new n,e.prototype.constructor=e,e.base=function(e,n,r){n||(n="constructor");for(var i=arguments.length,o=new Array(i),l=2;l<i;l++)o[l-2]=arguments[l];return t.prototype[n].apply(e,o)}}},i=function(){};i.prototype._events=null,i.prototype._listenerCount=0,i.prototype.addEventListener=function(e,t){if(e&&t){this._events||(this._events={});var n=this._events[e];n?n.indexOf(t)<0&&(n.push(t),++this._listenerCount):(this._events[e]=[t],++this._listenerCount)}},i.prototype.removeEventListener=function(e,t){var n=this._events?this._events[e]:null;if(n){var r=n.indexOf(t);r>=0&&(n.splice(r,1),--this._listenerCount)}},i.prototype.removeAllEventListeners=function(){this._events=null,this._listenerCount=0},i.prototype.hasListener=function(e){if(this._listenerCount){if(e){var t=this._events?this._events[e]:null;return!!t&&t.length>0}return!0}return!1},i.prototype.getListener=function(e,t){if(e){var n=this._events?this._events[e]:null;if(n)return t||(t=0),n[t]||null}return null},i.prototype.addListener=function(e,t){var n=e?e[t]:null;"function"==typeof n&&this.addEventListener(t,n)},i.prototype._prepareEventArguments=function(e,t){return t},i.prototype._dispatch=function(e,t){var n=this._events?this._events[e]:null;if(n){t=this._prepareEventArguments(e,t);for(var r=n.length,i=0;i<r;++i)n[i](t)}};i.preventDefault=function(e){e&&e.preventDefault&&(e.preventDefault(),e.stopPropagation())};var o=function(e,t,n){this.resolve=this.resolve.bind(this),this.reject=this.reject.bind(this),"function"==typeof e&&(this._resolveHandler=e),"function"==typeof t&&(this._rejectHandler=t),null!=n&&(this._ctx=n),this.promise=new Promise(function(e,t){this._resolve=e,this._reject=t}.bind(this))};o.prototype.promise=null,o.prototype._resolve=null,o.prototype._reject=null,o.prototype._resolveHandler=null,o.prototype._rejectHandler=null,o.prototype._ctx=null,o.prototype.resolve=function(e){if(this._resolve){if(this._resolveHandler){var t=this._resolveHandler(e,this._ctx||this);null!=t&&(e=t)}this._resolve(e),this._finally()}},o.prototype.reject=function(e){if(this._reject){if(this._rejectHandler){var t=this._rejectHandler(e,this._ctx||this);null!=t&&(e=t)}this._reject(e),this._finally()}},o.prototype._finally=function(){this._ctx=this._resolveHandler=this._rejectHandler=null,this._resolve=this._reject=null};var l=function(){};r.inherits(l,i),l.prototype._hosts=null,l.prototype._compositeGrid=null,l.prototype._realTimeGrid=null,l.prototype._rowGetter=null,l.prototype._initializedGrid=!1,l.prototype.listen=l.prototype.addEventListener,l.prototype.unlisten=l.prototype.removeEventListener,l.prototype.afterInit=function(e,t,n){var r=null;n&&n.getCoreGrid&&(r=n.getCoreGrid()),r&&(this.getGridApi()||this.setGridWrapper("compositegrid",n),this._compositeGrid&&r.loadPlugin(this,t)),this._initializedGrid||(this._initializedGrid=!0,this._rowGetter=this._realTimeGrid?u:s,this._afterInit())},l.prototype._afterInit=function(){},l.prototype._dispose=function(){this._hosts&&(this._hosts.length||(this._compositeGrid=this._realTimeGrid=null,this._initializedGrid=!1))},l.prototype.hasMultiTableSupport=function(){return!1},l.prototype._prepareEventArguments=function(e,t){return t||(t={}),t.api=this.getGridApi(),t},l.prototype.getName=function(){return"GridPlugin"},l.prototype.initialize=function(e,t){},l.prototype.unload=function(e){this._dispose()},l.prototype.getRelativeGrid=function(e){var t=null;if(e.target){var n=(t=e.target).api;if(n&&n.getCoreGrid)return n.getCoreGrid()}else e.getElement?t=e.getElement():1===e.nodeType&&(t=e);if(t)for(var r=this._hosts.length;--r>=0;){var i=this._hosts[r];if(i.getElement().contains(t))return i}return null},l.prototype.setGridWrapper=function(e,t){e&&("compositegrid"===(e=e.toLowerCase())?this._compositeGrid=t:"realtimegrid"===e&&(this._realTimeGrid=t))},l.prototype.getGridApi=function(e){if(null==e)return this._compositeGrid||this._realTimeGrid;var t="number"==typeof e?this._hosts[e]:e;return t&&t._wrapper||null},l.prototype.getColumnName=function(e){if(this._compositeGrid){var t=this._compositeGrid.getColumnModel(e);if(t)return t.title?t.title:t.field}else{var n=this.getColumnIndex(e),r=this._realTimeGrid.getColumnDefinition(n);if(r)return r.getName()}return""},l.prototype.getColumnIndex=function(e){if("number"==typeof e)return e;if(this._compositeGrid)return this._compositeGrid.getColumnIndex(e);for(var t=this._realTimeGrid,n=t.getColumnCount(),r=0;r<n;++r){var i=t.getColumnDefinition(r);if(i&&i.getId()===e)return r}return-1},l.prototype.getColumnIndices=function(e){if(this._compositeGrid){for(var t,n=this._compositeGrid.getColumnFields(),r=this._compositeGrid.getColumnCount(),i=[],o=0;o<e.length;o++)if("number"==typeof(t=e[o]))t>=0&&t<r&&i.push(t);else{var l=n.indexOf(t);-1!==l&&i.push(l)}return i}return this._realTimeGrid.getColumnIndices(e)},l.prototype.getColumnId=function(e){if("string"==typeof e)return e;if(this._compositeGrid)return this._compositeGrid.getColumnId(e);var t=this._realTimeGrid.getColumnDefinition(e);return t?t.getId():""},l.prototype.getColumnCount=function(){if(this._hosts){var e=this._hosts[0];return e?e.getColumnCount():0}return 0},l.prototype._loadPlugin=function(e,t,n){return e||(e=t.getPlugin(n))||(e=t.loadPlugin(n))&&this._initializedGrid&&(e._initializedGrid=!0),e},l.prototype._requestPlugin=function(e,t,n){return this._initializedGrid?l.requestPlugin(e,t,n,this._compositeGrid,this._realTimeGrid):Promise.reject("Plugin should be requested after the initialization")},l.requestPlugin=function(e,t,n,r,i){var a=null;if(e){var s=null;1===e.nodeType?s=e.api:e.getCoreGrid?s=e:e.getPlugin&&(a=e),s&&(a=s.getCoreGrid(),r||i||(s.getModel?r=s:i=s))}if(!a)return Promise.reject("Cannot find grid element");var u=a.getPlugin(t);if(u)return Promise.resolve(u);var d=new o;return setTimeout(l._onPluginRequested.bind(null,{grid:a,pluginRef:t,compositeGrid:r,realTimeGrid:i,config:n,deferred:d}),10),d.promise},l._onPluginRequested=function(e){var t=e.grid;if(!t.getElement())return e.deferred.reject("Grid has been disposed before the plugin is fully loaded: "+e.pluginRef);var n=t.getPlugin(e.pluginRef);if(n)return e.deferred.resolve(n);var r=!1;return e.pluginRef.beforeInit&&(r=!0,e.pluginRef.beforeInit(t.getElement(),e.config,!0)),(n=t.loadPlugin(e.pluginRef,e.config))?(!r&&n.beforeInit&&(r=!0,n.beforeInit(t.getElement(),e.config)),n.setGridWrapper&&(e.compositeGrid?n.setGridWrapper("compositegrid",e.compositeGrid):e.realTimeGrid&&n.setGridWrapper("realtimegrid",e.realTimeGrid)),n.afterInit&&n.afterInit(),e.deferred.resolve(n)):e.deferred.reject("Unable to load required dependency: "+e.pluginRef)},l.prototype._getPlugin=function(e,t){return null==t&&(t=this._hosts[0]),t?t.getPlugin(e):null},l.prototype._getColumnData=function(e,t){return null==t&&(t=this._hosts[0]),t?t.getColumnData(e):null},l.prototype._getColumnOption=function(e,t,n){var r=this._getColumnData(e,n);return r?r[t]:null},l.prototype._newColumnData=function(e,t){if(null==t&&(t=this._hosts[0]),!t)return{};var n=t.getColumnData(e);return n||(n=t.setColumnData(e,{})),n},l.prototype._getField=function(e){var t=this._compositeGrid||this._realTimeGrid;return t?t.getColumnField(e):""},l.prototype._getRowData=function(e){return this._realTimeGrid&&e?e.ROW_DEF.getRowData():e},l.prototype._getRow=function(e,t){return d(e.getRowDataAt(t))},l.prototype._getData=function(e,t,n){var r=this._getRow(e,t);return r?r[n]:void 0},l.prototype._setData=function(e,t,n,r){if(this._realTimeGrid){var i=e.getRowDataAt(t);i&&i.ROW_DEF.setData(n,r)}else e.setDataAt(t,n,r)},l.prototype._setRowData=function(e,t,n){if(this._realTimeGrid){var r=e.getRowDataAt(t);r&&r.ROW_DEF.setRowData(n)}else e.setRowDataAt(t,n)},l.prototype._setColumnData=function(e,t,n,r){if(r=r||e.getAllRowIds()||[],this._realTimeGrid){for(var i=e.getDataSource(),o=i.freeze(),l=n.length<r.length?n.length:r.length,a=0;a<l;++a){var s=e.getRowData(r[a]);s&&s.ROW_DEF.setData(t,n[a])}i.freeze(o)}else e.setColumnData(t,n,r)},l.prototype._activateColumnRenderer=function(e,t,n){if(null!=e){var r=this._realTimeGrid;r?r.activateColumnRenderer(e,t,n):"function"==typeof n?this._hosts[0].setColumnDataBindingHandler(e,n):this._hosts[0].setColumnDataBindingHandler(e,null)}};var a=function(e,t){var n=t.ROW_DEF.getRowData();return n?n[e]:null},s=function(e){return e},u=function(e){return e?e.ROW_DEF.getRowData():null},d=function(e){if(e){var t=e.ROW_DEF;return t?t.getRowData():e}return null},p=function(e,t){for(var n=t.getAllRowData(),r=n.length,i=new Array(r),o=0;o<r;++o)i[o]=a(e,n[o]);return i},c={create:function(e,t){var n=document.createElement(e);return t&&(n.className=t),n},div:function(e){return c.create("div",e)},text:function(e,t){var n=c.create("span",t);return(e||0===e)&&(n.textContent=e),n},appendChild:function(e,t){if(!e)return null;var n,r;Array.isArray(arguments[1])?(r=arguments[1],n=0):(r=arguments,n=1);for(var i=r.length;n<i;)e.appendChild(r[n]),++n;return e},buildTree:function(e,t){if(!e)return null;for(var n=arguments,r=n.length,i=1;i<r;++i){var o,l=n[i];if(l)Array.isArray(l)?o=c.buildTree.apply(null,l):1===l.nodeType&&(o=l),o&&e.appendChild(o)}return e},removeParent:function(e){if(!e)return null;var t=e.parentNode;return t&&t.removeChild(e),t},setParent:function(e,t){return e?t?(t.appendChild(e),t):c.removeParent(e):null},removeChildren:function(e,t){if(e){var n=e.childNodes.length;for((null==t||t>n)&&(t=n);--t>=0;)e.removeChild(e.lastChild)}},setContent:function(e,t){if(e)if(t||0===t){var n=t.nodeType;1===n||3===n?t!==e.lastChild&&(c.removeChildren(e),e.appendChild(t)):Array.isArray(t)?(c.removeChildren(e),c.appendChild(e,t)):e.textContent=t}else c.removeChildren(e)},toggleAttribute:function(e,t,n){n?e.setAttribute(t,"string"==typeof n?n:""):null==n?e.hasAttribute(t)?e.removeAttribute(t):e.setAttribute(t,""):e.removeAttribute(t)},toggleClass:function(e,t,n){n?e.classList.add(t):null==n?e.classList.contains(t)?e.classList.remove(t):e.classList.add(t):e.classList.remove(t)},addClasses:function(e,t){if(e)for(var n=Array.isArray(t)?t:arguments,r=n.length,i=0;i<r;++i){var o=n[i];o&&"string"==typeof o&&e.classList.add(o)}},removeClasses:function(e,t){if(e)for(var n=Array.isArray(t)?t:arguments,r=n.length,i=0;i<r;++i){var o=n[i];o&&"string"==typeof o&&e.classList.remove(o)}},preventDefault:function(e){e.preventDefault(),e.stopPropagation()},stopPropagation:function(e){e.stopPropagation()},getClientPosition:function(e,t){var n=t||{x:0,y:0};if(e.getBoundingClientRect){var r=e.getBoundingClientRect();n.x=r.left,n.y=r.top}else n.x=e.clientX,n.y=e.clientY;return n},getRelativePosition:function(e,t,n){n=c.getClientPosition(e,n);var r=c.getClientPosition(t);return n.x-=r.x,n.y-=r.y,n},closestElement:function(e,t){for(var n=e;n&&n.classList;){if(n.classList.contains(t))return n;n=n.parentNode}return null},closestTagName:function(e,t){for(var n=e;n&&n.tagName;){if(n.tagName==t)return n;n=n.parentNode}return null}},h=n(0),_={},f=function(e,t){"attributes"==t.type&&"lang"==t.attributeName&&(e.lang=t.target.lang||"en")},g=function(e,t,n){"attributes"===n.type&&(null!=t?n.attributeName===t&&e(n.target.getAttribute(t)):e(n.target))};_._getNewId=function(){return"observer_"+ ++_._id},_._addObserver=function(e,t,n){var r=n;r||(r={}),r.attributes=!0,_._observer.observe(e,r),_._addListener(e,t)},_._onMutationCallback=function(e){for(var t=0;t<e.length;t++)for(var n=e[t],r=_._listeners[n.target._observeId],i=0;i<r.length;i++)r[i](n)},_._addListener=function(e,t){var n=_._listeners;if(n||(n=_._listeners={}),!e._observeId){var r=_._getNewId();e._observeId=r}n[e._observeId]||(n[e._observeId]=[]);var i=n[e._observeId];i.indexOf(t)<0&&i.push(t)},_.addLanguageListener=function(e){e&&(e.lang=document.documentElement.lang||"en",_._addObserver(document.documentElement,f.bind(null,e)))},_.addAttributeListener=function(e,t,n){e&&t&&_._addObserver(e,g.bind(null,t,n))},_._observer=new MutationObserver(_._onMutationCallback),_._listeners={},_._id=0;var m={en:!0,de:!0,ja:!0,zh:!0,"zh-Hant":!0},v={_deferred:null,themeReady:null,_defaultColors:{up:"#39C46E",down:"#F5475B",level:"#C2C2C2",tickUp:"#39C46E",tickDown:"#F5475B",baseGrid:"#1A1A1C",baseText:"#C2C2C2",trackColor:"#FF9933"}};v.themeColors=v._defaultColors,v._components={},v._themeName="",v._elfVersion=0,v._dummyIcon=null,v._iconLoaded=!1,v._profileName=null,v._callbacks=[],v._observed=!1,v._pendingResolve=!1,v._icons={"elf-theme-halo":{rowGrouping:{expander:"down"},sorting:{ascending:"hollow-arrow-up",descending:"hollow-arrow-down",sortable:"sort-up-down"},columnStack:{stack:"map-layers",expand:"right",collapse:"left"}},"elf-theme-solar":{columnStack:{stack:"list",expand:"right",collapse:"left"}}},v._icons["halo-theme"]=v._icons["elf-theme-halo"],v._icons["solar-theme"]=v._icons["elf-theme-solar"],v.getElfVersion=function(){if(!v._elfVersion){var e=0;if(window.EFX_GRID){var t=window.EFX_GRID.version;e=+(t=t.split("."))[0]}else if(window.elf)if(window.elf.version){var n=window.elf.version.match(/\d/);n&&n[0]&&(e=parseInt(n[0],10))}else window.elf.customElements?e=3:window.customElements&&(e=4);else window.Polymer&&(e=1);v._elfVersion=e}return v._elfVersion},v.hasComponent=function(e){var t=v._components[e];if(null==t){t=0;var n=v.getElfVersion();if(e)1===n?document.createElement(e).is===e&&(t=n):n>1&&(window.customElements&&window.customElements.get(e)||document.createElement(e).constructor!==HTMLElement)&&(t=n),v._components[e]=t}return t},v.toLangString=function(e){if(!e)return"";if("zh-hant"===(e=e.toLowerCase()))return"zh-Hant";var t=e.replace(/-.*/,"");return m[t]?t:""},v.hasTheme=function(e){return e===v.getThemeName()},v.getThemeName=function(e){return v._themeName||(v._themeName=v.getCssVariable("--theme-name",document.documentElement)),v._themeName},v.isHaloTheme=function(e){return null==e&&(e=v.getThemeName()),!!e&&e.indexOf("halo")>=0},v.injectIcons=function(e,t){if("object"==typeof e){var n=v.getThemeName();e.themeName=n;var r=v.getElfVersion();e.elfVersion=r;var i=v._icons[n];i&&(e.icons=i)}},v.getIconList=function(){var e=v._icons[v.getThemeName()];return e?Object(h.b)(e):[]},v._onIconPreloaded=function(){if(v._dummyIcon){var e=v._dummyIcon.parentNode;e&&e.removeChild(v._dummyIcon),v._dummyIcon=null}},v.prepareIconPreloading=function(){if(!v._iconLoaded){v._iconLoaded=!0;var e=v.getIconList();if(e.length){setTimeout(v._onIconPreloaded,10);var t=v._dummyIcon=document.createElement("coral-icon");return t.style.transform="scale(0)",document.body.appendChild(t),e}}return null},v.getCssVariable=function(e,t){var n="",r=t||document.body;return window&&"string"==typeof e&&1===r.nodeType&&e.match(/^--/)&&(n=(n=window.getComputedStyle(r).getPropertyValue(e)).replace(/[\"\']/g,"")),n},v.getCssVariables=function(e,t){var n=t||document.body;if(window&&1===n.nodeType){var r=window.getComputedStyle(n);for(var i in e){var o=e[i];o&&o.match(/^--/)&&(e[i]=r.getPropertyValue(o).replace(/\"/g,""))}}return e||null},v.setRTK=function(e){null!=e&&(v._rtk=e)},v.getMovementColorProfile=function(){return document.documentElement.getAttribute("movement-color-profile")},v._addThemeChangedCallback=function(e){var t=v._callbacks;t.indexOf(e)<0&&t.push(e)},v.getThemeColors=function(e){if("function"==typeof e&&v._addThemeChangedCallback(e),v.themeReady)return v.themeReady;var t=v._deferred=new o;v.themeReady=t.promise;var n=v.getMovementColorProfile();if(n)n!==v._profileName?setTimeout(v._profileNameRetrieved,100):v._deferred.resolve(v.themeColors);else{var r={providerName:"Configuration",settingName:"RDE_USER_CURRENT_TICK_COLOR"},i=window?window.JET:null;if(v._rtk&&v._rtk.Settings)v._rtk.Settings.getAsync(r).then(v._loadingProfileSuccess,v._loadingProfileFailure);else if(i&&i.Settings)try{i.Settings.read(v._loadingProfileSuccess,r)}catch(e){v._loadingProfileFailure()}else setTimeout(v._profileNameRetrieved,100)}return t.promise};var y=function(e){if(e&&e!==v._profileName){v._retrieveThemeColors(e),v._pendingResolve&&(v._pendingResolve=!1,v._deferred.resolve(v.themeColors));for(var t=v._callbacks,n=0;n<t.length;n++)t[n]()}};v._loadingProfileSuccess=function(e){e&&document.documentElement.setAttribute("movement-color-profile",e.toLowerCase()),v._observed?v._pendingResolve=!0:v._profileNameRetrieved(e)},v._loadingProfileFailure=function(){v._observed||(v._observed=!0,_.addAttributeListener(document.documentElement,y,"movement-color-profile")),v._deferred.reject("Failed to get movement color profile from settings.")},v._profileNameRetrieved=function(){var e=v.getMovementColorProfile();v._retrieveThemeColors(e),v._observed||(v._observed=!0,_.addAttributeListener(document.documentElement,y,"movement-color-profile")),v._deferred.resolve(v.themeColors)},v._retrieveThemeColors=function(e){v._profileName=e;var t=v.themeColors=v.getCssVariables({primary:"--color-scheme-primary",secondary:"--color-scheme-secondary",tertiary:"--color-scheme-tertiary",complementary:"--color-scheme-complementary",up:"--color-scheme-positive",down:"--color-scheme-negative",level:"--color-scheme-neutral",tickUp:"--color-scheme-tickup",tickDown:"--color-scheme-tickdown"});t.up||(t.up=v._defaultColors.up,t.down=v._defaultColors.down,t.level=v._defaultColors.level,t.tickUp=v._defaultColors.tickUp,t.tickDown=v._defaultColors.tickDown),t.positive=t.up,t.negative=t.down,t.neutral=t.level;var n=document.createElement("table");n.style.visibility="hidden",n.style.position="fixed",n.style.left="0",n.style.top="0",n.style.width="0";var r=n.insertRow(-1),i=r.insertCell(-1);document.body.appendChild(n);var o=window.getComputedStyle(r);t.tableBg=o.backgroundColor;var l=window.getComputedStyle(i);t.tableText=l.color,t.tableBorder=l.borderColor,t.tableText===t.tableBorder&&(i.className="tr-lg",l=window.getComputedStyle(i),t.tableBg=l.backgroundColor,t.tableText=l.color,t.tableBorder=l.borderColor,t.tableText===t.tableBorder&&(t.tableBg=v._defaultColors.baseGrid,t.tableText=v._defaultColors.baseText,t.tableBorder="")),t.tableBg=Object(h.d)(t.tableBg),t.tableText=Object(h.d)(t.tableText),t.tableBorder=Object(h.d)(t.tableBorder),document.body.removeChild(n),t.baseGrid=t.tableBg,t.baseText=t.tableText,t.trackColor=t.primary||v._defaultColors.trackColor};var b={l:"l",c:"c",r:"r",L:"l",C:"c",R:"r"},C=function(e){return e&&b[e.charAt(0)]||""},x=function(e,t){this._topNode=e||c.div(),this._topNode._percentBar=this,this._topNode.classList.add("tr-percent-bar"),this._bar=c.div(),this._track=c.div(),this._track.appendChild(this._bar),this._txt=c.create("span");var n="l";if(t){t.alignment&&(n=t.alignment),null!=t.movementColor&&this.useMovementColor(!!t.movementColor),null!=t.barColor&&this.setBarColor(t.barColor);var r=0;null!=t.textWidth&&(r=1,this.setTextWidth(t.textWidth)),null!=t.textHidden&&(r|=this.hideText(t.textHidden)),null!=t.zeroValueHidden&&(r|=this.hideZeroValue(t.zeroValueHidden)),r&&this.isTextHidden()&&(this._textInDoc=!1,this._topNode.appendChild(this._track))}this.setAlignment(n)};x.prototype._topNode=null,x.prototype._track=null,x.prototype._bar=null,x.prototype._txt=null,x.prototype._textWidth="56px",x.prototype._textHidden=!1,x.prototype._zeroValueHidden=!1,x.prototype._textInDoc=!0,x.prototype._alignment,x.prototype._absValue,x.prototype._maxValue=100,x.prototype._sign=1,x.prototype._dirtySign=!0,x.prototype._invalid=!1,x.prototype._movementColor=!0,x.prototype._barColor="",x.prototype._tooltipEnabled=!0,x._styles=Object(h.c)([".tr-percent-bar",["position: relative;","text-align: left;","overflow: hidden;","white-space: nowrap;"],".tr-percent-bar>div",["position: relative;","display: inline-block;","height: 8px;","vertical-align: middle;"],".tr-percent-bar>div>div ",["position: absolute;","height: 100%;"],".tr-percent-bar>span",["display: inline-block;","vertical-align: middle;","box-sizing: border-box;","padding-left: 4px;","padding-right: 4px;","overflow: hidden;","max-width: 100%;"]]),x.injectCss=function(e){Object(h.a)(this._styles,e)},x.toAlignment=C,x.prototype.getElement=function(){return this._topNode},x.prototype.getValue=function(){return this._absValue*this._sign},x.prototype.getPercent=function(){return this._absValue/this._maxValue*this._sign},x.prototype.isInvalid=function(){return this._invalid},x.prototype._checkInvalidity=function(){var e=this._absValue!=this._absValue||!this._maxValue;return e!==this._invalid&&(this._invalid=e,this._topNode.style.display=e?"none":""),e},x.prototype.setValue=function(e,t,n){var r=this;e&&"number"!=typeof e&&(e=+e),e||0===e?e>=0?(r._absValue=e,r._dirtySign|=1!==r._sign,r._sign=1):(r._absValue=-e,r._dirtySign|=-1!==r._sign,r._sign=-1):r._absValue=NaN,null!=t&&t==t&&(r._maxValue=t>=0?t:-t),r._checkInvalidity()||(r._absValue>r._maxValue&&(r._absValue=r._maxValue),r._updateValue(!0,n))},x.prototype.setMax=function(e){e==e&&(this._maxValue=e>=0?e:-e,this._checkInvalidity()||(this._absValue>this._maxValue&&(this._absValue=this._maxValue),this._updateValue(!0)))},x.prototype.hideZeroValue=function(e){var t=!1!==e;return this._zeroValueHidden!==t&&(this._zeroValueHidden=t,this._alignment&&this._updateTextVisibility()&&this._updateTextWidth(),!0)},x.prototype.setText=function(e){this._invalid||(e||0===e?"string"!=typeof e&&(e+=""):e="",this._txt._prevText!==e&&(this._txt._prevText=e,this._txt.textContent=e,this._tooltipEnabled&&(e?this._topNode.setAttribute("title",e):this._topNode.removeAttribute("title"))))},x.prototype.hideText=function(e){var t=!1!==e;return this._textHidden!==t&&(this._textHidden=t,this._alignment&&this._updateTextVisibility()&&this._updateTextWidth(),!0)},x.prototype.isTextHidden=function(){return!(!this._textHidden&&"0px"!==this._textWidth)||!(!this._zeroValueHidden||this._absValue)},x.prototype._updateTextVisibility=function(){var e=!this.isTextHidden();return this._textInDoc!==e&&(this._textInDoc=e,e?this._reorderElements():c.removeParent(this._txt),!0)},x.prototype._updateTextWidth=function(){return"c"!==this._alignment&&(this._textInDoc?this._track.style.width="calc(100% - "+this._textWidth+")":this._track.style.width="100%",this._txt.style.width=this._textWidth,!0)},x.prototype.setTextWidth=function(e){var t="56px";"number"==typeof e?t=e>8?e+"px":"0px":"string"==typeof e&&e&&(t="0"!==e?e:"0px"),this._textWidth!==t&&(this._textWidth=t,this._alignment&&(this._updateTextVisibility(),this._updateTextWidth()))},x.prototype.setMaxTextLength=x.prototype.setTextWidth,x.prototype.getTextScrollWidth=function(){return this._txt.scrollWidth>this._txt.offsetWidth?this._txt.scrollWidth:NaN},x.prototype.getAlignment=function(){return this._alignment},x.prototype.setAlignment=function(e){e=C(e)||"l",this._alignment!==e&&(this._alignment=e,"c"===e?(this._track.style.width="50%",this._txt.style.width="50%"):(this._updateTextWidth(),this._txt.style.textAlign="right",this._track.style.left="",this._txt.style.transform="",this._bar.style.right="r"===e?"0":""),this._textInDoc&&this._reorderElements(),this._dirtySign=!0,this._updateValue(!1))},x.prototype._reorderElements=function(){"l"!==this._alignment?(this._topNode.appendChild(this._track),this._topNode.appendChild(this._txt)):(this._topNode.appendChild(this._txt),this._topNode.appendChild(this._track))},x.prototype.useMovementColor=function(e){var t=!1!==e;this._movementColor!==t&&(this._movementColor=t,this.updateBarColor())},x.prototype.setTrackColor=function(e){this._track.style.backgroundColor=e||""},x.prototype.setBarColor=function(e){var t=e||"";this._barColor!==t&&(this._barColor=t,this.updateBarColor())},x.prototype.enableTooltip=function(e){this._tooltipEnabled=!1!==e,this._tooltipEnabled||this._topNode.removeAttribute("title")},x.prototype._updateValue=function(e,t){var n=this;if(n._dirtySign&&(n._dirtySign=!1,"c"===n._alignment&&(n._sign>=0?(n._track.style.left="50%",n._bar.style.right="",n._txt.style.transform="translateX(-100%)",n._txt.style.textAlign="right"):(n._track.style.left="",n._bar.style.right="0",n._txt.style.transform="",n._txt.style.textAlign="left")),n._movementColor&&!n._barColor&&n.updateBarColor()),!1!==e){this._zeroValueHidden&&this._updateTextVisibility()&&this._updateTextWidth();var r=100!==n._maxValue?n._absValue/n._maxValue*100:n._absValue;n._bar.style.width=r+"%",null!=t?!1!==t&&n.setText(t):n.setText((r*n._sign*100|0)/100+"%")}},x.prototype.updateBarColor=function(){var e;if(e=this._barColor?this._barColor:this._movementColor?this._sign>=0?v.themeColors.up:v.themeColors.down:v.themeColors.trackColor){var t=this._bar.style;t.backgroundColor!==e&&(t.backgroundColor=e)}};var T=function(){this._onPostSectionBinding=this._onPostSectionBinding.bind(this),this._onColumnAdded=this._onColumnAdded.bind(this),this._onColumnRemoved=this._onColumnRemoved.bind(this),this._requestRowRefresh=this._requestRowRefresh.bind(this),this._renderer=this._renderer.bind(this),this._onThemeLoaded=this._onThemeLoaded.bind(this),this._hosts=[]};r.inherits(T,l),T._runningId=0,T._themeLoaded=!1,T._themeRevision=0,T.prototype._themeLoading=!1,T.prototype._padding=8,T.prototype._percentageLabel=!0,T.prototype._autoFitting=!1,T.prototype._zeroValueHidden=!1,T.prototype._autoTextSizing=!0,T._helper=null,T.prototype.getName=function(){return"PercentBarPlugin"},T.prototype.initialize=function(e,t){this._hosts.indexOf(e)>=0||(this._hosts.push(e),this.config(t,e),e.listen("postSectionDataBinding",this._onPostSectionBinding),1===this._hosts.length&&(e.listen("columnAdded",this._onColumnAdded),e.listen("columnRemoved",this._onColumnRemoved),e.listen("columnAlignmentChanged",this._requestRowRefresh)),T._themeLoaded||this._themeLoading||(this._themeLoading=!0,v.getThemeColors(this._onThemeLoaded).then(this._onThemeLoaded)))},T.prototype._afterInit=function(){for(var e=this.getColumnCount(),t=0;t<e;++t)this._setColumnRenderer(t)},T.prototype.unload=function(e){var t=this._hosts.indexOf(e);t<0||(this._hosts.splice(t,1),e.unlisten("postSectionDataBinding",this._onPostSectionBinding),e.unlisten("columnAdded",this._onColumnAdded),e.unlisten("columnRemoved",this._onColumnRemoved),e.unlisten("columnAlignmentChanged",this._requestRowRefresh),this._hosts.length||c.removeParent(T._helper),this._dispose())},T.prototype.config=function(e){if(e){var t=e.percentBar;if("object"==typeof t){this._autoFitting=!0===t.autoFitting,null!=t.zeroValueHidden&&(this._zeroValueHidden=!!t.zeroValueHidden),this._autoTextSizing=!1!==t.autoTextSizing,this._percentageLabel=!1!==t.percentageLabel;var n=t.padding;"number"==typeof n&&(this._padding=n)}for(var r=e.columns,i=r?r.length:0,o=0;o<i;++o){var l=r[o];this.setColumnPercentBar(o,l)}}},T.prototype.getColumnConfigObject=function(e,t){t||(t={});var n=this._getColumnData(e),r=n?n.percentBar:null;if(!r)return t;var i=t.percentBar={};return r.alignment&&(i.alignment=r.alignment),"string"==typeof r.field&&(i.field=r.field),null!=r.textHidden&&(i.textHidden=r.textHidden),null!=r.textWidth&&(i.textWidth=r.textWidth),null!=r.useMovementColor&&(i.useMovementColor=r.useMovementColor),r.barColor&&(i.barColor=r.barColor),null!=r.padding&&(i.padding=r.padding),null!=r.autoTextSizing&&(i.autoTextSizing=r.autoTextSizing),null!=r.percentageLabel&&(i.percentageLabel=r.percentageLabel),null!=r.autoFitting&&(i.autoFitting=r.autoFitting),t},T.prototype.getConfigObject=function(e){var t=e||{},n=t.columns;n||(n=t.columns=[]);for(var r=this.getColumnCount(),i=0;i<r;++i)n[i]||(n[i]={}),this.getColumnConfigObject(i,n[i]);var o=t.percentBar;return o||(o=t.percentBar={}),o.padding=this._padding,o.autoFitting=this._autoFitting,o.zeroValueHidden=this._zeroValueHidden,o.autoTextSizing=this._autoTextSizing,o.percentageLabel=this._percentageLabel,t},T.prototype.setPercentBarAlignment=function(e,t){var n=this._getColumnPercentBarOptions(e);n&&(t=x.toAlignment(t),n.alignment!==t&&(n.alignment=t,this._requestRowRefresh()))},T.prototype.setColumnPercentBar=function(e,t){var n=t?t.percentBar:null,r=this._newColumnData(e),i=r.percentBar,o=!1;if(n){o=!0;var l=i;if(i=r.percentBar={},l&&l.refId&&(i.refId=l.refId,i.colStats=l.colStats),"object"==typeof n)for(var a in n)i[a]=n[a];null==i.field&&(i.field=t.field?t.field:this._getField(e)),null!=i.alignment&&(i.alignment=x.toAlignment(i.alignment)),null!=i.autoTextSizing&&(i.autoTextSizing=!!i.autoTextSizing),null!=i.autoFitting?i.autoFitting=!!i.autoFitting:i.autoFitting=this._autoFitting,null!=i.zeroValueHidden?i.zeroValueHidden=!!i.zeroValueHidden:i.zeroValueHidden=this._zeroValueHidden,null!=i.percentageLabel?i.percentageLabel=!!i.percentageLabel:i.percentageLabel=this._percentageLabel,i._maxTextWidth=0;var s=i.padding;"number"!=typeof s&&(i.padding=s||null==s?this._padding:0)}else if(i){if(o=!0,i.refId){var u=this._hosts[0],d=u?u.getDataSource():null;d&&d.enableColumnStats(i.field,!1,i.refId),i.refId=null,i.colStats=null}r.percentBar=null}o&&this._initializedGrid&&(this._setColumnRenderer(e),this._requestRowRefresh())},T.prototype._setColumnRenderer=function(e){var t=this._getColumnPercentBarOptions(e);if(t){if(!t.refId){var n=this._hosts[0],r=n?n.getDataSource():null;if(r){t.refId="_pb"+T._runningId++;var i=r.enableColumnStats(t.field,!0,t.refId);this._realTimeGrid&&i.setColumnDataGetter(p),t.colStats=i}}this._activateColumnRenderer(e,"_percentBar",this._renderer)}else this._activateColumnRenderer(e)},T.prototype._getColumnPercentBarOptions=function(e){return this._getColumnOption(e,"percentBar")},T.prototype._getPercentBarAlignment=function(e,t){var n=t.alignment;return n||(x.toAlignment(this._hosts[0].getColumnAlignment(e))||"l")},T.prototype._getAutoTextSizing=function(e,t){return!t.textWidth&&!t.textHidden&&("c"!==this._getPercentBarAlignment(e,t)&&(null!=t.autoTextSizing?t.autoTextSizing:this._autoTextSizing))},T.prototype._onThemeLoaded=function(){T._themeLoaded=!0,T._themeRevision++,this._requestRowRefresh()},T.prototype._onPostSectionBinding=function(e){if(T._themeLoaded)for(var t=e.section,n=e.dataRows,r=t.getColumnCount(),i=e.fromRowIndex,o=e.toRowIndex,l=this._hosts[0].getPlugin("TextFormattingPlugin"),a=e.dataSource,s=0;s<r;++s){var u=this._getColumnPercentBarOptions(s);if(u){var d=u.field,p=u.colStats,c=u.barColor,h=u.useMovementColor,_=null!=u.textHidden&&u.textHidden,f=null!=u.zeroValueHidden&&u.zeroValueHidden,g=p.getMax(),m=l?l.getFormatter(s):null,v=this._getPercentBarAlignment(s,u),y=this._getAutoTextSizing(s,u);u._curAlignment!==v&&(u._curAlignment=v,u._maxTextWidth=0);for(var b=i;b<o;++b){var C=t.getCell(s,b,!1);if(C){var w=C.getContent(),R=w?w._percentBar:null;R||(w=(R=new x).getElement(),null!=h&&(R._themeRevision=T._themeRevision)),y?u._maxTextWidth&&R.setTextWidth(u._maxTextWidth+u.padding):R.setTextWidth(u.textWidth),R.setAlignment(v),R._themeRevision!==T._themeRevision&&(R._themeRevision=T._themeRevision,R.updateBarColor(h)),R.useMovementColor(h),R.setBarColor(c),R.hideText(_),R.hideZeroValue(f);var A=this._getRowData(n[b]),P=A?A[d]:NaN;if(m)if(u.percentageLabel){R.setValue(P,g,!1);var V=R.getPercent();R.setText(m.formatValue(V))}else R.setValue(P,g,m.formatValue(P));else{var S=u.percentageLabel?null:P;R.setValue(P,g,S)}C.setContent(w)}}y&&this._updateTextSize(t,a,s,u.field,g,m)}}},T.prototype._getHelper=function(){var e=T._helper;return e||((e=T._helper=c.div("percent-bar-helper")).style="visibility: hidden; position: fixed; bottom: -50px; left: -50px; white-space: pre;"),e.parentNode||document.body.appendChild(e),e},T.prototype._getTextWidth=function(e){var t=this._getHelper();t.textContent=e;var n=t.clientWidth;return t.removeChild(t.lastChild),n},T.prototype._updateTextSize=function(e,t,n,r,i,o){var l,a=this._getColumnPercentBarOptions(n),s=e.getFirstIndexInView(),u=e.getLastIndexInView(),d=[];for(l=s;l<=u;++l){var p=this._getData(t,l,r);o?p=o.formatValue(p):(p=(p/i*1e4|0)/100,p+="%"),d.push(p)}var c=this._getTextWidth(d.join("\n"));if(a.autoFitting||(c=c>a._maxTextWidth?c:a._maxTextWidth),c!==a._maxTextWidth)for(a._maxTextWidth=c,c+=a.padding,l=s;l<=u;++l){var h=e.getCell(n,l,!1);if(h){var _=h.getContent();_&&_._percentBar&&_._percentBar.setTextWidth(c)}}},T.prototype._renderer=function(e){},T.prototype._onColumnAdded=function(e){e.context&&this.setColumnPercentBar(e.colIndex,e.context)},T.prototype._onColumnRemoved=function(e){var t=e.columnData;if(t&&t.percentBar){var n=t.percentBar;e.sender.getDataSource().enableColumnStats(n.field,!1,n.refId),t.percentBar=null}},T.prototype._requestRowRefresh=function(){for(var e=this._hosts.length;--e>=0;)this._hosts[e].requestRowRefresh()},T.prototype.reloadThemeColors=function(){T._themeLoaded=v.themeReady=null,v.getThemeColors().then(this._onThemeLoaded)};!function(e,t){if(e&&t&&t.prototype.getName){var n=t.prototype.getName().replace(/Plugin$/,"");if(n){var r=e.tr;r||(r=e.tr={});var i=r.grid;i||(i=r.grid={}),i[n+"Plugin"]=t,r[n+"Extension"]=t}}}(window,T)}]);