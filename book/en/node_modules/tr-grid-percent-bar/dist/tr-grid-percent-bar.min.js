!function(t){var e={};function n(r){if(e[r])return e[r].exports;var i=e[r]={i:r,l:!1,exports:{}};return t[r].call(i.exports,i,i.exports,n),i.l=!0,i.exports}n.m=t,n.c=e,n.d=function(t,e,r){n.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:r})},n.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},n.t=function(t,e){if(1&e&&(t=n(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var i in t)n.d(r,i,function(e){return t[e]}.bind(null,i));return r},n.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p="",n(n.s=1)}([function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"c",(function(){return prettifyCss})),__webpack_require__.d(__webpack_exports__,"a",(function(){return injectCss})),__webpack_require__.d(__webpack_exports__,"b",(function(){return nestedObjectToArray})),__webpack_require__.d(__webpack_exports__,"d",(function(){return rgb2Hex}));var Util={post:function(t,e){return Util._post(t,e).then(Util.toJSON)},requestText:function(t,e){return Util._post(t,e,"text/plain").then(Util.toText)},requestByUrlEncoded:function(t,e){return Util._post(t,e,"application/x-www-form-urlencoded").then(Util.toJSON)},toJSON:function(t){return Util._logError(t)?Promise.reject(t):t.json()},toText:function(t){return Util._logError(t)?Promise.reject(t):t.text()},_logError:function(t){return!!(t&&t.status>=300)&&(console.log("Response "+t.status+": "+t.statusText),!0)},_post:function(t,e,n){var r={method:e?"POST":"GET",headers:{"Content-Type":n||"application/json"}};return e&&(r.body="string"==typeof e?e:JSON.stringify(e)),fetch(t,r)}},extendObject=function(t,e,n){if(!t)return null;if(!e||t===e)return t;var r;if(n)for(var i=n.length,o=0;o<i;++o)(r=n[o])&&extendProperty(t,e,r);else for(r in e)extendProperty(t,e,r);return t},cloneObject=function(t,e){return extendObject({},t,e)},arrayToObject=function(t,e){if(!Array.isArray(t))return t;if(!e)return null;var n=t;t={};for(var r=n.length,i=0;i<r;++i){var o=e[i];o&&void 0!==n[i]&&(t[o]=n[i])}return t},extendProperty=function(t,e,n){var r=e[n];if(null!=r){var i=t[n];Array.isArray(i)?t[n]=i.concat(r):Array.isArray(r)&&i?t[n]=r.concat(i):t[n]=r}},extendArrayProperty=function(t,e,n){var r=null;if(n){var i=t[e];r=i?Array.isArray(i)?i:t[e]=[i]:t[e]=[],Array.isArray(n)?n.length&&(n.length>1?Array.prototype.push.apply(r,n):r.push(n[0])):r.push(n)}return r},_bracketExp=new RegExp(/\[[^\[]*\]/g),parseCondition=function(expression){if(!expression)return null;if("string"!=typeof expression)return"function"==typeof expression?expression:null;for(var brackets=expression.match(_bracketExp),map={},fields=[],len=brackets?brackets.length:0,i=len;--i>=0;){var field=brackets[i];map[field]||(map[field]="f["+fields.length+"]",fields.push(field.substring(1,field.length-1)))}expression=expression.replace(_bracketExp,(function(t){return"rowData["+map[t]+"]"}));var finalExp="(function(f, rowData) { return ("+expression+"); })",fn=null;try{fn=eval(finalExp),fn=fn.bind(null,fields)}catch(t){console.log(t.message)}return fn||null},_encloseBracket=function(t){return Array.isArray(t)?"{\n"+t.join("\n")+"\n}":t},_indentBracketContent=function(t){return t.replace(/\n+/g,"\n\t").replace(/\n\t}$/,"\n}")},prettifyCss=function(t){if(t){var e="";if(Array.isArray(t))e=t.map(_encloseBracket).join("\n").replace(/{\s*{/g,"{").replace(/\s+{/g," {");else e="string"==typeof t?t:t+"";if(e)return e.replace(/{[\w\W]*?}/g,_indentBracketContent)}return""},getShadowRoot=function(t){var e;if(t&&(t.shadowRoot?e=t.shadowRoot:t.getRootNode&&(e=t.getRootNode()),e&&e!==document&&e!==t))return e;return null},injectCss=function(t,e){if(!t)return null;var n=document.createElement("style");n.textContent="\n"+t+"\n";var r,i=getShadowRoot(e),o=!0;return i||(o=!1,i=document.head),o&&i.children&&i.children.length&&(r=i.children[0]),r?i.insertBefore(n,r):i.appendChild(n),n},isIE=function(){var t=window.navigator.userAgent;return t.indexOf("MSIE ")>0||t.indexOf("Trident/")>0||t.indexOf("Edge/")>0},isMac=function(){return/Mac/.test(navigator.platform)},isTouchDevice=function(){return!!(navigator.maxTouchPoints&&navigator.maxTouchPoints<256||navigator.msMaxTouchPoints&&navigator.msMaxTouchPoints<256)},nestedObjectToArray=function(t,e){for(var n in e||(e=[]),t){var r=t[n];"object"==typeof r?nestedObjectToArray(r,e):e.push(r)}return e},rgb2Hex=function(t){if(!t||"string"!=typeof t)return"";if("#"===t.charAt(0))return t;var e=t.match(/\d+/g);if(!e||e.length<3)return t;for(var n="#",r=0;r<3;r++){var i=+e[r];i>=16||(n+="0"),n+=i?i.toString(16).toUpperCase():"0"}return n},prepareTSVContent=function(t){if(null==t)return"";var e="string"==typeof t?t:t.toString();return e.length?(e.indexOf("\n")>=0&&(e=e.replace(/[\r\n]/g," ")),e.indexOf("\t")>=0&&(e=e.replace(/\t/g," "))," "!==e.charAt(0)&&" "!==e.charAt(e.length-1)||(e=e.trim()),e):""},_unused_webpack_default_export=Util},function(t,e,n){"use strict";n.r(e);var r={inherits:function(t,e){function n(){}n.prototype=e.prototype,t.prototype=new n,t.prototype.constructor=t,t.base=function(t,n,r){n||(n="constructor");for(var i=arguments.length,o=new Array(i),l=2;l<i;l++)o[l-2]=arguments[l];return e.prototype[n].apply(t,o)}}},i=function(){};i.prototype._events=null,i.prototype._listenerCount=0,i.prototype.addEventListener=function(t,e){if(t&&e){this._events||(this._events={});var n=this._events[t];n?n.indexOf(e)<0&&(n.push(e),++this._listenerCount):(this._events[t]=[e],++this._listenerCount)}},i.prototype.removeEventListener=function(t,e){var n=this._events?this._events[t]:null;if(n){var r=n.indexOf(e);r>=0&&(n.splice(r,1),--this._listenerCount)}},i.prototype.removeAllEventListeners=function(){this._events=null,this._listenerCount=0},i.prototype.hasListener=function(t){if(this._listenerCount){if(t){var e=this._events?this._events[t]:null;return!!e&&e.length>0}return!0}return!1},i.prototype.getListener=function(t,e){if(t){var n=this._events?this._events[t]:null;if(n)return e||(e=0),n[e]||null}return null},i.prototype.addListener=function(t,e){var n=t?t[e]:null;"function"==typeof n&&this.addEventListener(e,n)},i.prototype._prepareEventArguments=function(t,e){return e},i.prototype._dispatch=function(t,e){var n=this._events?this._events[t]:null;if(n){e=this._prepareEventArguments(t,e);for(var r=n.length,i=0;i<r;++i)n[i](e)}};i.preventDefault=function(t){t&&t.preventDefault&&(t.preventDefault(),t.stopPropagation())};var o=function(t,e,n){this.resolve=this.resolve.bind(this),this.reject=this.reject.bind(this),"function"==typeof t&&(this._resolveHandler=t),"function"==typeof e&&(this._rejectHandler=e),null!=n&&(this._ctx=n),this.promise=new Promise(function(t,e){this._resolve=t,this._reject=e}.bind(this))};o.prototype.promise=null,o.prototype._resolve=null,o.prototype._reject=null,o.prototype._resolveHandler=null,o.prototype._rejectHandler=null,o.prototype._ctx=null,o.prototype.resolve=function(t){if(this._resolve){if(this._resolveHandler){var e=this._resolveHandler(t,this._ctx||this);null!=e&&(t=e)}this._resolve(t),this._finally()}},o.prototype.reject=function(t){if(this._reject){if(this._rejectHandler){var e=this._rejectHandler(t,this._ctx||this);null!=e&&(t=e)}this._reject(t),this._finally()}},o.prototype._finally=function(){this._ctx=this._resolveHandler=this._rejectHandler=null,this._resolve=this._reject=null};var l=function(){};r.inherits(l,i),l.prototype._hosts=null,l.prototype._compositeGrid=null,l.prototype._realTimeGrid=null,l.prototype._rowGetter=null,l.prototype._initializedGrid=!1,l.prototype.listen=l.prototype.addEventListener,l.prototype.unlisten=l.prototype.removeEventListener,l.prototype.afterInit=function(t,e,n){var r=null;n&&n.getCoreGrid&&(r=n.getCoreGrid()),r&&(this.getGridApi()||this.setGridWrapper("compositegrid",n),this._compositeGrid&&r.loadPlugin(this,e)),this._initializedGrid||(this._initializedGrid=!0,this._rowGetter=this._realTimeGrid?u:s,this._afterInit())},l.prototype._afterInit=function(){},l.prototype._dispose=function(){this._hosts&&(this._hosts.length||(this._compositeGrid=this._realTimeGrid=null,this._initializedGrid=!1))},l.prototype.hasMultiTableSupport=function(){return!1},l.prototype._prepareEventArguments=function(t,e){return e||(e={}),e.api=this.getGridApi(),e},l.prototype.getName=function(){return"GridPlugin"},l.prototype.initialize=function(t,e){},l.prototype.unload=function(t){this._dispose()},l.prototype.getRelativeGrid=function(t){var e=null;if(t.target){var n=(e=t.target).api;if(n&&n.getCoreGrid)return n.getCoreGrid()}else t.getElement?e=t.getElement():1===t.nodeType&&(e=t);if(e)for(var r=this._hosts.length;--r>=0;){var i=this._hosts[r];if(i.getElement().contains(e))return i}return null},l.prototype.setGridWrapper=function(t,e){t&&("compositegrid"===(t=t.toLowerCase())?this._compositeGrid=e:"realtimegrid"===t&&(this._realTimeGrid=e))},l.prototype.getGridApi=function(t){if(null==t)return this._compositeGrid||this._realTimeGrid;var e="number"==typeof t?this._hosts[t]:t;return e&&e._wrapper||null},l.prototype.getColumnName=function(t){if(this._compositeGrid){var e=this._compositeGrid.getColumnModel(t);if(e)return e.title?e.title:e.field}else{var n=this.getColumnIndex(t),r=this._realTimeGrid.getColumnDefinition(n);if(r)return r.getName()}return""},l.prototype.getColumnIndex=function(t){if("number"==typeof t)return t;if(this._compositeGrid)return this._compositeGrid.getColumnIndex(t);for(var e=this._realTimeGrid,n=e.getColumnCount(),r=0;r<n;++r){var i=e.getColumnDefinition(r);if(i&&i.getId()===t)return r}return-1},l.prototype.getColumnIndices=function(t){if(this._compositeGrid){for(var e=this._compositeGrid.getColumnFields(),n=[],r=0;r<t.length;r++)if("number"==typeof t[r])n.push(t[r]);else{var i=e.indexOf(t[r]);-1!==i&&n.push(i)}return n}return this._realTimeGrid.getColumnIndices(t)},l.prototype.getColumnId=function(t){if("string"==typeof t)return t;if(this._compositeGrid)return this._compositeGrid.getColumnId(t);var e=this._realTimeGrid.getColumnDefinition(t);return e?e.getId():""},l.prototype.getColumnCount=function(){if(this._hosts){var t=this._hosts[0];return t?t.getColumnCount():0}return 0},l.prototype._loadPlugin=function(t,e,n){return t||(t=e.getPlugin(n))||(t=e.loadPlugin(n))&&this._initializedGrid&&(t._initializedGrid=!0),t},l.prototype._requestPlugin=function(t,e,n){return this._initializedGrid?l.requestPlugin(t,e,n,this._compositeGrid,this._realTimeGrid):Promise.reject("Plugin should be requested after the initialization")},l.requestPlugin=function(t,e,n,r,i){var a=null;if(t){var s=null;1===t.nodeType?s=t.api:t.getCoreGrid?s=t:t.getPlugin&&(a=t),s&&(a=s.getCoreGrid(),r||i||(s.getModel?r=s:i=s))}if(!a)return Promise.reject("Cannot find grid element");var u=a.getPlugin(e);if(u)return Promise.resolve(u);var d=new o;return setTimeout(l._onPluginRequested.bind(null,{grid:a,pluginRef:e,compositeGrid:r,realTimeGrid:i,config:n,deferred:d}),10),d.promise},l._onPluginRequested=function(t){var e=t.grid;if(!e.getElement())return t.deferred.reject("Grid has been disposed before the plugin is fully loaded: "+t.pluginRef);var n=e.getPlugin(t.pluginRef);if(n)return t.deferred.resolve(n);var r=!1;return t.pluginRef.beforeInit&&(r=!0,t.pluginRef.beforeInit(e.getElement(),t.config,!0)),(n=e.loadPlugin(t.pluginRef,t.config))?(!r&&n.beforeInit&&(r=!0,n.beforeInit(e.getElement(),t.config)),n.setGridWrapper&&(t.compositeGrid?n.setGridWrapper("compositegrid",t.compositeGrid):t.realTimeGrid&&n.setGridWrapper("realtimegrid",t.realTimeGrid)),n.afterInit&&n.afterInit(),t.deferred.resolve(n)):t.deferred.reject("Unable to load required dependency: "+t.pluginRef)},l.prototype._getPlugin=function(t,e){return null==e&&(e=this._hosts[0]),e?e.getPlugin(t):null},l.prototype._getColumnData=function(t,e){return null==e&&(e=this._hosts[0]),e?e.getColumnData(t):null},l.prototype._getColumnOption=function(t,e,n){var r=this._getColumnData(t,n);return r?r[e]:null},l.prototype._newColumnData=function(t,e){if(null==e&&(e=this._hosts[0]),!e)return{};var n=e.getColumnData(t);return n||(n=e.setColumnData(t,{})),n},l.prototype._getField=function(t){var e=this._compositeGrid||this._realTimeGrid;return e?e.getColumnField(t):""},l.prototype._getRowData=function(t){return this._realTimeGrid&&t?t.ROW_DEF.getRowData():t},l.prototype._getRow=function(t,e){return d(t.getRowDataAt(e))},l.prototype._getData=function(t,e,n){var r=this._getRow(t,e);return r?r[n]:void 0},l.prototype._setData=function(t,e,n,r){if(this._realTimeGrid){var i=t.getRowDataAt(e);i&&i.ROW_DEF.setData(n,r)}else t.setDataAt(e,n,r)},l.prototype._setRowData=function(t,e,n){if(this._realTimeGrid){var r=t.getRowDataAt(e);r&&r.ROW_DEF.setRowData(n)}else t.setRowDataAt(e,n)},l.prototype._setColumnData=function(t,e,n,r){if(r=r||t.getAllRowIds()||[],this._realTimeGrid){for(var i=t.getDataSource(),o=i.freeze(),l=n.length<r.length?n.length:r.length,a=0;a<l;++a){var s=t.getRowData(r[a]);s&&s.ROW_DEF.setData(e,n[a])}i.freeze(o)}else t.setColumnData(e,n,r)},l.prototype._activateColumnRenderer=function(t,e,n){if(null!=t){var r=this._realTimeGrid;r?r.activateColumnRenderer(t,e,n):"function"==typeof n?this._hosts[0].setColumnDataBindingHandler(t,n):this._hosts[0].setColumnDataBindingHandler(t,null)}};var a=function(t,e){var n=e.ROW_DEF.getRowData();return n?n[t]:null},s=function(t){return t},u=function(t){return t?t.ROW_DEF.getRowData():null},d=function(t){if(t){var e=t.ROW_DEF;return e?e.getRowData():t}return null},p=function(t,e){for(var n=e.getAllRowData(),r=n.length,i=new Array(r),o=0;o<r;++o)i[o]=a(t,n[o]);return i},c={create:function(t,e){var n=document.createElement(t);return e&&(n.className=e),n},div:function(t){return c.create("div",t)},text:function(t,e){var n=c.create("span",e);return(t||0===t)&&(n.textContent=t),n},appendChild:function(t,e){if(!t)return null;var n,r;Array.isArray(arguments[1])?(r=arguments[1],n=0):(r=arguments,n=1);for(var i=r.length;n<i;)t.appendChild(r[n]),++n;return t},buildTree:function(t,e){if(!t)return null;for(var n=arguments,r=n.length,i=1;i<r;++i){var o,l=n[i];if(l)Array.isArray(l)?o=c.buildTree.apply(null,l):1===l.nodeType&&(o=l),o&&t.appendChild(o)}return t},removeParent:function(t){if(!t)return null;var e=t.parentNode;return e&&e.removeChild(t),e},setParent:function(t,e){return t?e?(e.appendChild(t),e):c.removeParent(t):null},removeChildren:function(t,e){if(t){var n=t.childNodes.length;for((null==e||e>n)&&(e=n);--e>=0;)t.removeChild(t.lastChild)}},setContent:function(t,e){if(t)if(e||0===e){var n=e.nodeType;1===n||3===n?e!==t.lastChild&&(c.removeChildren(t),t.appendChild(e)):Array.isArray(e)?(c.removeChildren(t),c.appendChild(t,e)):t.textContent=e}else c.removeChildren(t)},toggleAttribute:function(t,e,n){n?t.setAttribute(e,"string"==typeof n?n:""):null==n?t.hasAttribute(e)?t.removeAttribute(e):t.setAttribute(e,""):t.removeAttribute(e)},toggleClass:function(t,e,n){n?t.classList.add(e):null==n?t.classList.contains(e)?t.classList.remove(e):t.classList.add(e):t.classList.remove(e)},addClasses:function(t,e){if(t)for(var n=Array.isArray(e)?e:arguments,r=n.length,i=0;i<r;++i){var o=n[i];o&&"string"==typeof o&&t.classList.add(o)}},removeClasses:function(t,e){if(t)for(var n=Array.isArray(e)?e:arguments,r=n.length,i=0;i<r;++i){var o=n[i];o&&"string"==typeof o&&t.classList.remove(o)}},preventDefault:function(t){t.preventDefault(),t.stopPropagation()},stopPropagation:function(t){t.stopPropagation()},getClientPosition:function(t,e){var n=e||{x:0,y:0};if(t.getBoundingClientRect){var r=t.getBoundingClientRect();n.x=r.left,n.y=r.top}else n.x=t.clientX,n.y=t.clientY;return n},getRelativePosition:function(t,e,n){n=c.getClientPosition(t,n);var r=c.getClientPosition(e);return n.x-=r.x,n.y-=r.y,n},closestElement:function(t,e){for(var n=t;n&&n.classList;){if(n.classList.contains(e))return n;n=n.parentNode}return null},closestTagName:function(t,e){for(var n=t;n&&n.tagName;){if(n.tagName==e)return n;n=n.parentNode}return null}},h=n(0),_={en:!0,de:!0,ja:!0,zh:!0,"zh-Hant":!0},f={_deferred:null,themeReady:null,_defaultColors:{up:"#39C46E",down:"#F5475B",level:"#C2C2C2",tickUp:"#39C46E",tickDown:"#F5475B",baseGrid:"#1A1A1C",baseText:"#C2C2C2",trackColor:"#FF9933"}};f.themeColors=f._defaultColors,f._components={},f._themeName="",f._elfVersion=0,f._dummyIcon=null,f._iconLoaded=!1,f._icons={"elf-theme-halo":{rowGrouping:{expander:"down"},sorting:{ascending:"hollow-arrow-up",descending:"hollow-arrow-down",sortable:"sort-up-down"},columnStack:{stack:"list",expand:"right",collapse:"left"}},"elf-theme-solar":{columnStack:{stack:"list",expand:"right",collapse:"left"}}},f._icons["halo-theme"]=f._icons["elf-theme-halo"],f._icons["solar-theme"]=f._icons["elf-theme-solar"],f.getElfVersion=function(){if(!f._elfVersion){var t=0;if(window.EFX_GRID)t=5;else if(window.elf)if(window.elf.version){var e=window.elf.version.match(/\d/);e&&e[0]&&(t=parseInt(e[0],10))}else window.elf.customElements?t=3:window.customElements&&(t=4);else window.Polymer&&(t=1);f._elfVersion=t}return f._elfVersion},f.hasComponent=function(t){var e=f._components[t];if(null==e){e=0;var n=f.getElfVersion();if(t)1===n?document.createElement(t).is===t&&(e=n):n>1&&(window.customElements&&window.customElements.get(t)||document.createElement(t).constructor!==HTMLElement)&&(e=n),f._components[t]=e}return e},f.toLangString=function(t){if(!t)return"";if("zh-hant"===(t=t.toLowerCase()))return"zh-Hant";var e=t.replace(/-.*/,"");return _[e]?e:""},f.hasTheme=function(t){return t===f.getThemeName()},f.getThemeName=function(t){return f._themeName||(f._themeName=f.getCssVariable("--theme-name",document.documentElement)),f._themeName},f.isHaloTheme=function(t){return null==t&&(t=f.getThemeName()),!!t&&t.indexOf("halo")>=0},f.injectIcons=function(t,e){if("object"==typeof t){var n=f.getThemeName();t.themeName=n;var r=f.getElfVersion();t.elfVersion=r;var i=f._icons[n];i&&(t.icons=i)}},f.getIconList=function(){var t=f._icons[f.getThemeName()];return t?Object(h.b)(t):[]},f._onIconPreloaded=function(){if(f._dummyIcon){var t=f._dummyIcon.parentNode;t&&t.removeChild(f._dummyIcon),f._dummyIcon=null}},f.prepareIconPreloading=function(){if(!f._iconLoaded){f._iconLoaded=!0;var t=f.getIconList();if(t.length){setTimeout(f._onIconPreloaded,10);var e=f._dummyIcon=document.createElement("coral-icon");return e.style.transform="scale(0)",document.body.appendChild(e),t}}return null},f.getCssVariable=function(t,e){var n="",r=e||document.body;return window&&"string"==typeof t&&1===r.nodeType&&t.match(/^--/)&&(n=(n=window.getComputedStyle(r).getPropertyValue(t)).replace(/[\"\']/g,"")),n},f.getCssVariables=function(t,e){var n=e||document.body;if(window&&1===n.nodeType){var r=window.getComputedStyle(n);for(var i in t){var o=t[i];o&&o.match(/^--/)&&(t[i]=r.getPropertyValue(o).replace(/\"/g,""))}}return t||null},f.getThemeColors=function(){if(f.themeReady)return f.themeReady;var t=f._deferred=new o;f.themeReady=t.promise;var e=window?window.JET:null;if(e&&e.Settings)try{e.Settings.read(f._onColorProfile,{providerName:"Configuration",settingName:"RDE_USER_CURRENT_TICK_COLOR"})}catch(e){t.reject("Cannot read JET's settings")}else setTimeout(f._retrieveThemeColors,100);return t.promise},f._onColorProfile=function(t){t&&document.documentElement.setAttribute("movement-color-profile",t.toLowerCase()),f._retrieveThemeColors()},f.getMovementColorProfile=function(){return document.documentElement.getAttribute("movement-color-profile")},f._retrieveThemeColors=function(){var t=f.themeColors=f.getCssVariables({primary:"--color-scheme-primary",secondary:"--color-scheme-secondary",tertiary:"--color-scheme-tertiary",complementary:"--color-scheme-complementary",up:"--color-scheme-positive",down:"--color-scheme-negative",level:"--color-scheme-neutral",tickUp:"--color-scheme-tickup",tickDown:"--color-scheme-tickdown"});t.up||(t.up=f._defaultColors.up,t.down=f._defaultColors.down,t.level=f._defaultColors.level,t.tickUp=f._defaultColors.tickUp,t.tickDown=f._defaultColors.tickDown),t.positive=t.up,t.negative=t.down,t.neutral=t.level;var e=document.createElement("table");e.style.visibility="hidden",e.style.position="fixed",e.style.left="0",e.style.top="0",e.style.width="0";var n=e.insertRow(-1),r=n.insertCell(-1);document.body.appendChild(e);var i=window.getComputedStyle(n);t.tableBg=i.backgroundColor;var o=window.getComputedStyle(r);t.tableText=o.color,t.tableBorder=o.borderColor,t.tableText===t.tableBorder&&(r.className="tr-lg",o=window.getComputedStyle(r),t.tableBg=o.backgroundColor,t.tableText=o.color,t.tableBorder=o.borderColor,t.tableText===t.tableBorder&&(t.tableBg=f._defaultColors.baseGrid,t.tableText=f._defaultColors.baseText,t.tableBorder="")),t.tableBg=Object(h.d)(t.tableBg),t.tableText=Object(h.d)(t.tableText),t.tableBorder=Object(h.d)(t.tableBorder),document.body.removeChild(e),t.baseGrid=t.tableBg,t.baseText=t.tableText,t.trackColor=t.primary||f._defaultColors.trackColor,f._deferred.resolve(t)};var g={l:"l",c:"c",r:"r",L:"l",C:"c",R:"r"},m=function(t){return t&&g[t.charAt(0)]||""},v=function(t,e){this._topNode=t||c.div(),this._topNode._percentBar=this,this._topNode.classList.add("tr-percent-bar"),this._bar=c.div(),this._track=c.div(),this._track.appendChild(this._bar),this._txt=c.create("span");var n="l";if(e){e.alignment&&(n=e.alignment),null!=e.movementColor&&this.useMovementColor(!!e.movementColor),null!=e.barColor&&this.setBarColor(e.barColor);var r=0;null!=e.textWidth&&(r=1,this.setTextWidth(e.textWidth)),null!=e.textHidden&&(r|=this.hideText(e.textHidden)),null!=e.zeroValueHidden&&(r|=this.hideZeroValue(e.zeroValueHidden)),r&&this.isTextHidden()&&(this._textInDoc=!1,this._topNode.appendChild(this._track))}this.setAlignment(n)};v.prototype._topNode=null,v.prototype._track=null,v.prototype._bar=null,v.prototype._txt=null,v.prototype._textWidth="56px",v.prototype._textHidden=!1,v.prototype._zeroValueHidden=!1,v.prototype._textInDoc=!0,v.prototype._alignment,v.prototype._absValue,v.prototype._maxValue=100,v.prototype._sign=1,v.prototype._dirtySign=!0,v.prototype._invalid=!1,v.prototype._movementColor=!0,v.prototype._barColor="",v.prototype._tooltipEnabled=!0,v._styles=Object(h.c)([".tr-percent-bar",["position: relative;","text-align: left;","overflow: hidden;","white-space: nowrap;"],".tr-percent-bar>div",["position: relative;","display: inline-block;","height: 8px;","vertical-align: middle;"],".tr-percent-bar>div>div ",["position: absolute;","height: 100%;"],".tr-percent-bar>span",["display: inline-block;","vertical-align: middle;","box-sizing: border-box;","padding-left: 4px;","padding-right: 4px;","overflow: hidden;","max-width: 100%;"]]),v.injectCss=function(t){Object(h.a)(this._styles,t)},v.toAlignment=m,v.prototype.getElement=function(){return this._topNode},v.prototype.getValue=function(){return this._absValue*this._sign},v.prototype.getPercent=function(){return this._absValue/this._maxValue*this._sign},v.prototype.isInvalid=function(){return this._invalid},v.prototype._checkInvalidity=function(){var t=this._absValue!=this._absValue||!this._maxValue;return t!==this._invalid&&(this._invalid=t,this._topNode.style.display=t?"none":""),t},v.prototype.setValue=function(t,e,n){var r=this;t&&"number"!=typeof t&&(t=+t),t||0===t?t>=0?(r._absValue=t,r._dirtySign|=1!==r._sign,r._sign=1):(r._absValue=-t,r._dirtySign|=-1!==r._sign,r._sign=-1):r._absValue=NaN,null!=e&&e==e&&(r._maxValue=e>=0?e:-e),r._checkInvalidity()||(r._absValue>r._maxValue&&(r._absValue=r._maxValue),r._updateValue(!0,n))},v.prototype.setMax=function(t){t==t&&(this._maxValue=t>=0?t:-t,this._checkInvalidity()||(this._absValue>this._maxValue&&(this._absValue=this._maxValue),this._updateValue(!0)))},v.prototype.hideZeroValue=function(t){var e=!1!==t;return this._zeroValueHidden!==e&&(this._zeroValueHidden=e,this._alignment&&this._updateTextVisibility()&&this._updateTextWidth(),!0)},v.prototype.setText=function(t){this._invalid||(t||0===t?"string"!=typeof t&&(t+=""):t="",this._txt._prevText!==t&&(this._txt._prevText=t,this._txt.textContent=t,this._tooltipEnabled&&(t?this._topNode.setAttribute("title",t):this._topNode.removeAttribute("title"))))},v.prototype.hideText=function(t){var e=!1!==t;return this._textHidden!==e&&(this._textHidden=e,this._alignment&&this._updateTextVisibility()&&this._updateTextWidth(),!0)},v.prototype.isTextHidden=function(){return!(!this._textHidden&&"0px"!==this._textWidth)||!(!this._zeroValueHidden||this._absValue)},v.prototype._updateTextVisibility=function(){var t=!this.isTextHidden();return this._textInDoc!==t&&(this._textInDoc=t,t?this._reorderElements():c.removeParent(this._txt),!0)},v.prototype._updateTextWidth=function(){return"c"!==this._alignment&&(this._textInDoc?this._track.style.width="calc(100% - "+this._textWidth+")":this._track.style.width="100%",this._txt.style.width=this._textWidth,!0)},v.prototype.setTextWidth=function(t){var e="56px";"number"==typeof t?e=t>8?t+"px":"0px":"string"==typeof t&&t&&(e="0"!==t?t:"0px"),this._textWidth!==e&&(this._textWidth=e,this._alignment&&(this._updateTextVisibility(),this._updateTextWidth()))},v.prototype.setMaxTextLength=v.prototype.setTextWidth,v.prototype.getTextScrollWidth=function(){return this._txt.scrollWidth>this._txt.offsetWidth?this._txt.scrollWidth:NaN},v.prototype.getAlignment=function(){return this._alignment},v.prototype.setAlignment=function(t){t=m(t)||"l",this._alignment!==t&&(this._alignment=t,"c"===t?(this._track.style.width="50%",this._txt.style.width="50%"):(this._updateTextWidth(),this._txt.style.textAlign="right",this._track.style.left="",this._txt.style.transform="",this._bar.style.right="r"===t?"0":""),this._textInDoc&&this._reorderElements(),this._dirtySign=!0,this._updateValue(!1))},v.prototype._reorderElements=function(){"l"!==this._alignment?(this._topNode.appendChild(this._track),this._topNode.appendChild(this._txt)):(this._topNode.appendChild(this._txt),this._topNode.appendChild(this._track))},v.prototype.useMovementColor=function(t){var e=!1!==t;this._movementColor!==e&&(this._movementColor=e,this.updateBarColor())},v.prototype.setTrackColor=function(t){this._track.style.backgroundColor=t||""},v.prototype.setBarColor=function(t){var e=t||"";this._barColor!==e&&(this._barColor=e,this.updateBarColor())},v.prototype.enableTooltip=function(t){this._tooltipEnabled=!1!==t,this._tooltipEnabled||this._topNode.removeAttribute("title")},v.prototype._updateValue=function(t,e){var n=this;if(n._dirtySign&&(n._dirtySign=!1,"c"===n._alignment&&(n._sign>=0?(n._track.style.left="50%",n._bar.style.right="",n._txt.style.transform="translateX(-100%)",n._txt.style.textAlign="right"):(n._track.style.left="",n._bar.style.right="0",n._txt.style.transform="",n._txt.style.textAlign="left")),n._movementColor&&!n._barColor&&n.updateBarColor()),!1!==t){this._zeroValueHidden&&this._updateTextVisibility()&&this._updateTextWidth();var r=100!==n._maxValue?n._absValue/n._maxValue*100:n._absValue;n._bar.style.width=r+"%",null!=e?!1!==e&&n.setText(e):n.setText((r*n._sign*100|0)/100+"%")}},v.prototype.updateBarColor=function(){var t;if(t=this._barColor?this._barColor:this._movementColor?this._sign>=0?f.themeColors.up:f.themeColors.down:f.themeColors.trackColor){var e=this._bar.style;e.backgroundColor!==t&&(e.backgroundColor=t)}};var y=function(){this._onPostSectionBinding=this._onPostSectionBinding.bind(this),this._onColumnAdded=this._onColumnAdded.bind(this),this._onColumnRemoved=this._onColumnRemoved.bind(this),this._requestRowRefresh=this._requestRowRefresh.bind(this),this._renderer=this._renderer.bind(this),this._onThemeLoaded=this._onThemeLoaded.bind(this),this._hosts=[]};r.inherits(y,l),y._runningId=0,y._themeLoaded=!1,y._themeRevision=0,y.prototype._themeLoading=!1,y.prototype._padding=8,y.prototype._percentageLabel=!0,y.prototype._autoFitting=!1,y.prototype._zeroValueHidden=!1,y.prototype._autoTextSizing=!0,y._helper=null,y.prototype.getName=function(){return"PercentBarPlugin"},y.prototype.initialize=function(t,e){this._hosts.indexOf(t)>=0||(this._hosts.push(t),this.config(e,t),t.listen("postSectionDataBinding",this._onPostSectionBinding),1===this._hosts.length&&(t.listen("columnAdded",this._onColumnAdded),t.listen("columnRemoved",this._onColumnRemoved),t.listen("columnAlignmentChanged",this._requestRowRefresh)),y._themeLoaded||this._themeLoading||(this._themeLoading=!0,f.getThemeColors().then(this._onThemeLoaded)))},y.prototype._afterInit=function(){for(var t=this.getColumnCount(),e=0;e<t;++e)this._setColumnRenderer(e)},y.prototype.unload=function(t){var e=this._hosts.indexOf(t);e<0||(this._hosts.splice(e,1),t.unlisten("postSectionDataBinding",this._onPostSectionBinding),t.unlisten("columnAdded",this._onColumnAdded),t.unlisten("columnRemoved",this._onColumnRemoved),t.unlisten("columnAlignmentChanged",this._requestRowRefresh),this._hosts.length||c.removeParent(y._helper),this._dispose())},y.prototype.config=function(t){if(t){var e=t.percentBar;if("object"==typeof e){this._autoFitting=!0===e.autoFitting,null!=e.zeroValueHidden&&(this._zeroValueHidden=!!e.zeroValueHidden),this._autoTextSizing=!1!==e.autoTextSizing,this._percentageLabel=!1!==e.percentageLabel;var n=e.padding;"number"==typeof n&&(this._padding=n)}for(var r=t.columns,i=r?r.length:0,o=0;o<i;++o){var l=r[o];this.setColumnPercentBar(o,l)}}},y.prototype.getColumnConfigObject=function(t,e){e||(e={});var n=this._getColumnData(t),r=n?n.percentBar:null;if(!r)return e;var i=e.percentBar={};return r.alignment&&(i.alignment=r.alignment),"string"==typeof r.field&&(i.field=r.field),null!=r.textHidden&&(i.textHidden=r.textHidden),null!=r.textWidth&&(i.textWidth=r.textWidth),null!=r.useMovementColor&&(i.useMovementColor=r.useMovementColor),r.barColor&&(i.barColor=r.barColor),null!=r.padding&&(i.padding=r.padding),null!=r.autoTextSizing&&(i.autoTextSizing=r.autoTextSizing),null!=r.percentageLabel&&(i.percentageLabel=r.percentageLabel),null!=r.autoFitting&&(i.autoFitting=r.autoFitting),e},y.prototype.getConfigObject=function(t){var e=t||{},n=e.columns;n||(n=e.columns=[]);for(var r=this.getColumnCount(),i=0;i<r;++i)n[i]||(n[i]={}),this.getColumnConfigObject(i,n[i]);var o=e.percentBar;return o||(o=e.percentBar={}),o.padding=this._padding,o.autoFitting=this._autoFitting,o.zeroValueHidden=this._zeroValueHidden,o.autoTextSizing=this._autoTextSizing,o.percentageLabel=this._percentageLabel,e},y.prototype.setPercentBarAlignment=function(t,e){var n=this._getColumnPercentBarOptions(t);n&&(e=v.toAlignment(e),n.alignment!==e&&(n.alignment=e,this._requestRowRefresh()))},y.prototype.setColumnPercentBar=function(t,e){var n=e?e.percentBar:null,r=this._newColumnData(t),i=r.percentBar,o=!1;if(n){o=!0;var l=i;if(i=r.percentBar={},l&&l.refId&&(i.refId=l.refId,i.colStats=l.colStats),"object"==typeof n)for(var a in n)i[a]=n[a];null==i.field&&(i.field=e.field?e.field:this._getField(t)),null!=i.alignment&&(i.alignment=v.toAlignment(i.alignment)),null!=i.autoTextSizing&&(i.autoTextSizing=!!i.autoTextSizing),null!=i.autoFitting?i.autoFitting=!!i.autoFitting:i.autoFitting=this._autoFitting,null!=i.zeroValueHidden?i.zeroValueHidden=!!i.zeroValueHidden:i.zeroValueHidden=this._zeroValueHidden,null!=i.percentageLabel?i.percentageLabel=!!i.percentageLabel:i.percentageLabel=this._percentageLabel,i._maxTextWidth=0;var s=i.padding;"number"!=typeof s&&(i.padding=s||null==s?this._padding:0)}else if(i){if(o=!0,i.refId){var u=this._hosts[0],d=u?u.getDataSource():null;d&&d.enableColumnStats(i.field,!1,i.refId),i.refId=null,i.colStats=null}r.percentBar=null}o&&this._initializedGrid&&(this._setColumnRenderer(t),this._requestRowRefresh())},y.prototype._setColumnRenderer=function(t){var e=this._getColumnPercentBarOptions(t);if(e){if(!e.refId){var n=this._hosts[0],r=n?n.getDataSource():null;if(r){e.refId="_pb"+y._runningId++;var i=r.enableColumnStats(e.field,!0,e.refId);this._realTimeGrid&&i.setColumnDataGetter(p),e.colStats=i}}this._activateColumnRenderer(t,"_percentBar",this._renderer)}else this._activateColumnRenderer(t)},y.prototype._getColumnPercentBarOptions=function(t){return this._getColumnOption(t,"percentBar")},y.prototype._getPercentBarAlignment=function(t,e){var n=e.alignment;return n||(v.toAlignment(this._hosts[0].getColumnAlignment(t))||"l")},y.prototype._getAutoTextSizing=function(t,e){return!e.textWidth&&!e.textHidden&&("c"!==this._getPercentBarAlignment(t,e)&&(null!=e.autoTextSizing?e.autoTextSizing:this._autoTextSizing))},y.prototype._onThemeLoaded=function(){y._themeLoaded=!0,y._themeRevision++,this._requestRowRefresh()},y.prototype._onPostSectionBinding=function(t){if(y._themeLoaded)for(var e=t.section,n=t.dataRows,r=e.getColumnCount(),i=t.fromRowIndex,o=t.toRowIndex,l=this._hosts[0].getPlugin("TextFormattingPlugin"),a=t.dataSource,s=0;s<r;++s){var u=this._getColumnPercentBarOptions(s);if(u){var d=u.field,p=u.colStats,c=u.barColor,h=u.useMovementColor,_=null!=u.textHidden&&u.textHidden,f=null!=u.zeroValueHidden&&u.zeroValueHidden,g=p.getMax(),m=l?l.getFormatter(s):null,x=this._getPercentBarAlignment(s,u),C=this._getAutoTextSizing(s,u);u._curAlignment!==x&&(u._curAlignment=x,u._maxTextWidth=0);for(var b=i;b<o;++b){var T=e.getCell(s,b,!1);if(T){var w=T.getContent(),R=w?w._percentBar:null;R||(w=(R=new v).getElement(),null!=h&&(R._themeRevision=y._themeRevision)),C?u._maxTextWidth&&R.setTextWidth(u._maxTextWidth+u.padding):R.setTextWidth(u.textWidth),R.setAlignment(x),R._themeRevision!==y._themeRevision&&(R._themeRevision=y._themeRevision,R.updateBarColor(h)),R.useMovementColor(h),R.setBarColor(c),R.hideText(_),R.hideZeroValue(f);var A=this._getRowData(n[b]),P=A?A[d]:NaN;if(m)if(u.percentageLabel){R.setValue(P,g,!1);var V=R.getPercent();R.setText(m.formatValue(V))}else R.setValue(P,g,m.formatValue(P));else{var S=u.percentageLabel?null:P;R.setValue(P,g,S)}T.setContent(w)}}C&&this._updateTextSize(e,a,s,u.field,g,m)}}},y.prototype._getHelper=function(){var t=y._helper;return t||((t=y._helper=c.div("percent-bar-helper")).style="visibility: hidden; position: fixed; bottom: -50px; left: -50px; white-space: pre;"),t.parentNode||document.body.appendChild(t),t},y.prototype._getTextWidth=function(t){var e=this._getHelper();e.textContent=t;var n=e.clientWidth;return e.removeChild(e.lastChild),n},y.prototype._updateTextSize=function(t,e,n,r,i,o){var l,a=this._getColumnPercentBarOptions(n),s=t.getFirstIndexInView(),u=t.getLastIndexInView(),d=[];for(l=s;l<=u;++l){var p=this._getData(e,l,r);o?p=o.formatValue(p):(p=(p/i*1e4|0)/100,p+="%"),d.push(p)}var c=this._getTextWidth(d.join("\n"));if(a.autoFitting||(c=c>a._maxTextWidth?c:a._maxTextWidth),c!==a._maxTextWidth)for(a._maxTextWidth=c,c+=a.padding,l=s;l<=u;++l){var h=t.getCell(n,l,!1);if(h){var _=h.getContent();_&&_._percentBar&&_._percentBar.setTextWidth(c)}}},y.prototype._renderer=function(t){},y.prototype._onColumnAdded=function(t){t.context&&this.setColumnPercentBar(t.colIndex,t.context)},y.prototype._onColumnRemoved=function(t){var e=t.columnData;if(e&&e.percentBar){var n=e.percentBar;t.sender.getDataSource().enableColumnStats(n.field,!1,n.refId),e.percentBar=null}},y.prototype._requestRowRefresh=function(){for(var t=this._hosts.length;--t>=0;)this._hosts[t].requestRowRefresh()},y.prototype.reloadThemeColors=function(){y._themeLoaded=f.themeReady=null,f.getThemeColors().then(this._onThemeLoaded)};!function(t,e){if(t&&e&&e.prototype.getName){var n=e.prototype.getName().replace(/Plugin$/,"");if(n){var r=t.tr;r||(r=t.tr={});var i=r.grid;i||(i=r.grid={}),i[n+"Plugin"]=e,r[n+"Extension"]=e}}}(window,y)}]);