!function(e){var t={};function n(i){if(t[i])return t[i].exports;var o=t[i]={i:i,l:!1,exports:{}};return e[i].call(o.exports,o,o.exports,n),o.l=!0,o.exports}n.m=e,n.c=t,n.d=function(e,t,i){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:i})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var i=Object.create(null);if(n.r(i),Object.defineProperty(i,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var o in e)n.d(i,o,function(t){return e[t]}.bind(null,o));return i},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=0)}([function(e,t,n){"use strict";n.r(t);var i={inherits:function(e,t){function n(){}n.prototype=t.prototype,e.prototype=new n,e.prototype.constructor=e,e.base=function(e,n,i){n||(n="constructor");for(var o=arguments.length,r=new Array(o),l=2;l<o;l++)r[l-2]=arguments[l];return t.prototype[n].apply(e,r)}}},o=function(){};o.prototype._events=null,o.prototype._listenerCount=0,o.prototype.addEventListener=function(e,t){if(e&&t){this._events||(this._events={});var n=this._events[e];n?n.indexOf(t)<0&&(n.push(t),++this._listenerCount):(this._events[e]=[t],++this._listenerCount)}},o.prototype.removeEventListener=function(e,t){var n=this._events?this._events[e]:null;if(n){var i=n.indexOf(t);i>=0&&(n.splice(i,1),--this._listenerCount)}},o.prototype.removeAllEventListeners=function(){this._events=null,this._listenerCount=0},o.prototype.hasListener=function(e){if(this._listenerCount){if(e){var t=this._events?this._events[e]:null;return!!t&&t.length>0}return!0}return!1},o.prototype.getListener=function(e,t){if(e){var n=this._events?this._events[e]:null;if(n)return t||(t=0),n[t]||null}return null},o.prototype.addListener=function(e,t){var n=e?e[t]:null;"function"==typeof n&&this.addEventListener(t,n)},o.prototype._prepareEventArguments=function(e,t){return t},o.prototype._dispatch=function(e,t){var n=this._events?this._events[e]:null;if(n){t=this._prepareEventArguments(e,t);for(var i=n.length,o=0;o<i;++o)n[o](t)}};o.preventDefault=function(e){e&&e.preventDefault&&(e.preventDefault(),e.stopPropagation())};var r=function(e,t,n){this.resolve=this.resolve.bind(this),this.reject=this.reject.bind(this),"function"==typeof e&&(this._resolveHandler=e),"function"==typeof t&&(this._rejectHandler=t),null!=n&&(this._ctx=n),this.promise=new Promise(function(e,t){this._resolve=e,this._reject=t}.bind(this))};r.prototype.promise=null,r.prototype._resolve=null,r.prototype._reject=null,r.prototype._resolveHandler=null,r.prototype._rejectHandler=null,r.prototype._ctx=null,r.prototype._fulfilled=!1,r.prototype.resolve=function(e){if(this._resolve){if(this._resolveHandler){var t=this._resolveHandler(e,this._ctx||this);null!=t&&(e=t)}this._resolve(e),this._finally()}},r.prototype.reject=function(e){if(this._reject){if(this._rejectHandler){var t=this._rejectHandler(e,this._ctx||this);null!=t&&(e=t)}this._reject(e),this._finally()}},r.prototype.isFulfilled=function(){return this._fulfilled},r.prototype._finally=function(){this._fulfilled=!0,this._ctx=this._resolveHandler=this._rejectHandler=null,this._resolve=this._reject=null};var l=function(e){return Array.isArray(e)?"{\n"+e.join("\n")+"\n}":e},a=function(e){return e.replace(/\n+/g,"\n\t").replace(/\n\t}$/,"\n}")},s=function(e,t){if(!e)return null;var n=document.createElement("style");n.textContent="\n"+e+"\n";var i,o=function(e){var t;if(e&&(e.shadowRoot?t=e.shadowRoot:e.getRootNode&&(t=e.getRootNode()),t&&t!==document&&t!==e))return t;return null}(t),r=!0;return o||(r=!1,o=document.head),r&&o.children&&o.children.length&&(i=o.children[0]),i?o.insertBefore(n,i):o.appendChild(n),n},u=function(e,t){for(var n in t||(t=[]),e){var i=e[n];"object"==typeof i?u(i,t):t.push(i)}return t},d=function(e){if(!e||"string"!=typeof e)return"";if("#"===e.charAt(0))return e;var t=e.match(/\d+/g);if(!t||t.length<3)return e;for(var n="#",i=0;i<3;i++){var o=+t[i];o>=16||(n+="0"),n+=o?o.toString(16).toUpperCase():"0"}return n},p={},h=function(e,t){"attributes"==t.type&&"lang"==t.attributeName&&(e.lang=t.target.lang||"en")},c=function(e,t,n){"attributes"===n.type&&(null!=t?n.attributeName===t&&e(n.target.getAttribute(t)):e(n.target))};p._getNewId=function(){return"observer_"+ ++p._id},p._addObserver=function(e,t,n){var i=n;i||(i={}),i.attributes=!0,p._observer.observe(e,i),p._addListener(e,t)},p._onMutationCallback=function(e){for(var t=0;t<e.length;t++)for(var n=e[t],i=p._listeners[n.target._observeId],o=0;o<i.length;o++)i[o](n)},p._addListener=function(e,t){var n=p._listeners;if(n||(n=p._listeners={}),!e._observeId){var i=p._getNewId();e._observeId=i}n[e._observeId]||(n[e._observeId]=[]);var o=n[e._observeId];o.indexOf(t)<0&&o.push(t)},p.addLanguageListener=function(e){e&&(e.lang=document.documentElement.lang||"en",p._addObserver(document.documentElement,h.bind(null,e)))},p.addAttributeListener=function(e,t,n){e&&t&&p._addObserver(e,c.bind(null,t,n))},p._observer=new MutationObserver(p._onMutationCallback),p._listeners={},p._id=0;var _={en:!0,de:!0,ja:!0,zh:!0,"zh-Hant":!0},f={_deferred:null,themeReady:null,_defaultColors:{up:"#39C46E",down:"#F5475B",level:"#C2C2C2",tickUp:"#39C46E",tickDown:"#F5475B",baseGrid:"#1A1A1C",baseText:"#C2C2C2",trackColor:"#FF9933"}};f.themeColors=f._defaultColors,f._components={},f._themeName="",f._elfVersion=0,f._dummyIcon=null,f._iconLoaded=!1,f._profileName=null,f._callbacks=[],f._observed=!1,f._pendingResolve=!1,f._themeLoaded=!1,f._icons={"elf-theme-halo":{rowGrouping:{expander:"down"},sorting:{ascending:"hollow-arrow-up",descending:"hollow-arrow-down",sortable:"sort-up-down"},columnStack:{stack:"map-layers",expand:"right",collapse:"left"}},"elf-theme-solar":{columnStack:{stack:"list",expand:"right",collapse:"left"}}},f._icons["halo-theme"]=f._icons["elf-theme-halo"],f._icons["solar-theme"]=f._icons["elf-theme-solar"],f.getElfVersion=function(){if(!f._elfVersion){var e=0;if(window.EFX_GRID){var t=window.EFX_GRID.version;e=+(t=t.split("."))[0]}else if(window.elf)if(window.elf.version){var n=window.elf.version.match(/\d/);n&&n[0]&&(e=parseInt(n[0],10))}else window.elf.customElements?e=3:window.customElements&&(e=4);else window.Polymer&&(e=1);f._elfVersion=e}return f._elfVersion},f.hasComponent=function(e){var t=f._components[e];if(null==t){t=0;var n=f.getElfVersion();if(e)1===n?document.createElement(e).is===e&&(t=n):n>1&&(window.customElements&&window.customElements.get(e)||document.createElement(e).constructor!==HTMLElement)&&(t=n),f._components[e]=t}return t},f.toLangString=function(e){if(!e)return"";if("zh-hant"===(e=e.toLowerCase()))return"zh-Hant";var t=e.replace(/-.*/,"");return _[t]?t:""},f.hasTheme=function(e){return e===f.getThemeName()},f.getThemeName=function(e){return f._themeName||(f._themeName=f.getCssVariable("--theme-name",document.documentElement)),f._themeName},f.setThemeName=function(e){f._themeName=e},f.isThemeLoaded=function(){return f._themeLoaded},f.getColors=function(){return f.themeColors},f.isHaloTheme=function(e){return null==e&&(e=f.getThemeName()),!!e&&e.indexOf("halo")>=0},f.injectIcons=function(e,t){if("object"==typeof e){var n=f.getThemeName();e.themeName=n;var i=f.getElfVersion();e.elfVersion=i;var o=f._icons[n];o&&(e.icons=o)}},f.getIconList=function(){var e=f._icons[f.getThemeName()];return e?u(e):[]},f._onIconPreloaded=function(){if(f._dummyIcon){var e=f._dummyIcon.parentNode;e&&e.removeChild(f._dummyIcon),f._dummyIcon=null}},f.prepareIconPreloading=function(){if(!f._iconLoaded){f._iconLoaded=!0;var e=f.getIconList();if(e.length){setTimeout(f._onIconPreloaded,10);var t=f._dummyIcon=document.createElement("coral-icon");return t.style.transform="scale(0)",document.body.appendChild(t),e}}return null},f.getCssVariable=function(e,t){var n="",i=t||document.body;return window&&"string"==typeof e&&1===i.nodeType&&e.match(/^--/)&&(n=(n=window.getComputedStyle(i).getPropertyValue(e)).replace(/[\"\']/g,"")),n},f.getCssVariables=function(e,t){var n=t||document.body;if(window&&1===n.nodeType){var i=window.getComputedStyle(n);for(var o in e){var r=e[o];r&&r.match(/^--/)&&(e[o]=i.getPropertyValue(r).replace(/\"/g,""))}}return e||null},f.setRTK=function(e){null!=e&&(f._rtk=e)},f.getMovementColorProfile=function(){return document.documentElement.getAttribute("movement-color-profile")},f._addThemeChangedCallback=function(e){var t=f._callbacks;t.indexOf(e)<0&&t.push(e)},f.reloadThemeColors=function(){return f._deferred&&f._deferred.isFulfilled()?(f._profileName="",f._themeLoaded=!1,f.themeReady=null,f.getThemeColors()):f.themeReady},f.getThemeColors=function(e){if("function"==typeof e&&f._addThemeChangedCallback(e),f.themeReady)return f.themeReady;var t=f._deferred=new r;f.themeReady=t.promise;var n=f.getMovementColorProfile();if(n)n!==f._profileName?setTimeout(f._profileNameRetrieved,100):f._deferred.resolve(f.themeColors);else{var i={providerName:"Configuration",settingName:"RDE_USER_CURRENT_TICK_COLOR"},o=window?window.JET:null;if(f._themeLoaded=!1,f._rtk&&f._rtk.Settings)f._rtk.Settings.getAsync(i).then(f._loadingProfileSuccess).catch(f._loadingProfileFailure);else if(o&&o.Settings)try{o.Settings.read(f._loadingProfileSuccess,i)}catch(e){f._loadingProfileFailure()}else setTimeout(f._profileNameRetrieved,100)}return t.promise};var m=function(e){if(e!==f._profileName){f._retrieveThemeColors(e),f._pendingResolve&&(f._pendingResolve=!1,f._deferred.resolve(f.themeColors));for(var t=f._callbacks,n=0;n<t.length;n++)t[n]()}};f._loadingProfileSuccess=function(e){e&&document.documentElement.setAttribute("movement-color-profile",e.toLowerCase()),f._observed?f._pendingResolve=!0:f._profileNameRetrieved(e)},f._loadingProfileFailure=function(){f._retrieveThemeColors(),f._observed||(f._observed=!0,p.addAttributeListener(document.documentElement,m,"movement-color-profile")),f._deferred.reject("Failed to get movement color profile from settings.")},f._profileNameRetrieved=function(){var e=f.getMovementColorProfile();f._retrieveThemeColors(e),f._observed||(f._observed=!0,p.addAttributeListener(document.documentElement,m,"movement-color-profile")),f._deferred.resolve(f.themeColors)},f._retrieveThemeColors=function(e){f._themeLoaded=!0,f._profileName=e;var t=f.themeColors=f.getCssVariables({primary:"--color-scheme-primary",secondary:"--color-scheme-secondary",tertiary:"--color-scheme-tertiary",complementary:"--color-scheme-complementary",up:"--color-scheme-positive",down:"--color-scheme-negative",level:"--color-scheme-neutral",tickUp:"--color-scheme-tickup",tickDown:"--color-scheme-tickdown"});t.up||(t.up=f._defaultColors.up,t.down=f._defaultColors.down,t.level=f._defaultColors.level,t.tickUp=f._defaultColors.tickUp,t.tickDown=f._defaultColors.tickDown),t.positive=t.up,t.negative=t.down,t.neutral=t.level;var n=document.createElement("table");n.style.visibility="hidden",n.style.position="fixed",n.style.left="0",n.style.top="0",n.style.width="0";var i=n.insertRow(-1),o=i.insertCell(-1);document.body.appendChild(n);var r=window.getComputedStyle(i);t.tableBg=r.backgroundColor;var l=window.getComputedStyle(o);t.tableText=l.color,t.tableBorder=l.borderColor,t.tableText===t.tableBorder&&(o.className="tr-lg",l=window.getComputedStyle(o),t.tableBg=l.backgroundColor,t.tableText=l.color,t.tableBorder=l.borderColor,t.tableText===t.tableBorder&&(t.tableBg=f._defaultColors.baseGrid,t.tableText=f._defaultColors.baseText,t.tableBorder="")),t.tableBg=d(t.tableBg),t.tableText=d(t.tableText),t.tableBorder=d(t.tableBorder),document.body.removeChild(n),t.baseGrid=t.tableBg,t.baseText=t.tableText,t.trackColor=t.primary||f._defaultColors.trackColor};var g=function(){};i.inherits(g,o),g.prototype._hosts=null,g.prototype._compositeGrid=null,g.prototype._realTimeGrid=null,g.prototype._rowGetter=null,g.prototype._initializedGrid=!1,g.prototype.listen=g.prototype.addEventListener,g.prototype.unlisten=g.prototype.removeEventListener,g.prototype.afterInit=function(e,t,n){var i=null;n&&n.getCoreGrid&&(i=n.getCoreGrid()),i&&(this.getGridApi()||this.setGridWrapper("compositegrid",n),this._compositeGrid&&i.loadPlugin(this,t)),this._initializedGrid||(this._initializedGrid=!0,this._rowGetter=this._realTimeGrid?T:x,this._afterInit())},g.prototype._afterInit=function(){},g.prototype._dispose=function(){this._hosts&&(this._hosts.length||(this._compositeGrid=this._realTimeGrid=null,this._initializedGrid=!1))},g.prototype.hasMultiTableSupport=function(){return!1},g.prototype._prepareEventArguments=function(e,t){return t||(t={}),t.api=this.getGridApi(),t},g.prototype.getName=function(){return"GridPlugin"},g.prototype.initialize=function(e,t){},g.prototype.unload=function(e){this._dispose()},g.prototype.getRelativeGrid=function(e){var t=null;if(e.target){var n=(t=e.target).api;if(n&&n.getCoreGrid)return n.getCoreGrid()}else e.getElement?t=e.getElement():1===e.nodeType&&(t=e);if(t)for(var i=this._hosts.length;--i>=0;){var o=this._hosts[i];if(o.getElement().contains(t))return o}return null},g.prototype.setGridWrapper=function(e,t){e&&("compositegrid"===(e=e.toLowerCase())?this._compositeGrid=t:"realtimegrid"===e&&(this._realTimeGrid=t))},g.prototype.getGridApi=function(e){if(null==e)return this._compositeGrid||this._realTimeGrid;var t="number"==typeof e?this._hosts[e]:e;return t&&t._wrapper||null},g.prototype.getColumnName=function(e){if(this._compositeGrid){var t=this._compositeGrid.getColumnModel(e);if(t)return t.title?t.title:t.field}else{var n=this.getColumnIndex(e),i=this._realTimeGrid.getColumnDefinition(n);if(i)return i.getName()}return""},g.prototype.getColumnIndex=function(e){if("number"==typeof e)return e;if(this._compositeGrid){var t=this._compositeGrid.getColumnFields().indexOf(e);return t>-1?t:this._compositeGrid.getColumnIndex(e)}return this._realTimeGrid.getColumnIndex(e)},g.prototype.getColumnIndices=function(e){var t=this.getGridApi();if(t.getColumnIndices)return t.getColumnIndices(e);if(this._compositeGrid){for(var n,i=this._compositeGrid.getColumnFields(),o=this._compositeGrid.getColumnCount(),r=[],l=0;l<e.length;l++)if("number"==typeof(n=e[l]))n>=0&&n<o&&r.push(n);else{var a=i.indexOf(n);-1!==a&&r.push(a)}return r}return this._realTimeGrid.getColumnIndices(e)},g.prototype.getColumnId=function(e){if("string"==typeof e)return e;var t=this.getColumnCount();if(e<0||e>=t)return"";if(this._compositeGrid)return this._compositeGrid.getColumnId(e);var n=this._realTimeGrid.getColumnDefinition(e);return n?n.getId():""},g.prototype.getColumnIds=function(){return this._hosts&&this._hosts.length?this._hosts[0].getColumnIds():[]},g.prototype.getColumnField=function(e){return this._hosts&&this._hosts.length?this._hosts[0].getColumnField(e):""},g.prototype.getColumnFields=function(){return this._hosts&&this._hosts.length?this._hosts[0].getColumnFields():[]},g.prototype.getColumnCount=function(){if(this._hosts){var e=this._hosts[0];return e?e.getColumnCount():0}return 0},g.prototype._moveColumnById=function(e,t){var n=this._hosts,i=n?n.length:0;if(i){for(var o=0,r=0;r<i;++r)o|=n[r].moveColumnById(e,t);return!!o}return!1},g.prototype._reorderColumns=function(e,t){var n=this._hosts,i=n?n.length:0;if(i){for(var o=0,r=0;r<i;++r)o|=n[r].reorderColumns(e,t);return!!o}return!1},g.prototype._loadPlugin=function(e,t,n){return e||(e=t.getPlugin(n))||(e=t.loadPlugin(n))&&this._initializedGrid&&(e._initializedGrid=!0),e},g.prototype._requestPlugin=function(e,t,n){return this._initializedGrid?g.requestPlugin(e,t,n,this._compositeGrid,this._realTimeGrid):Promise.reject("Plugin should be requested after the initialization")},g.requestPlugin=function(e,t,n,i,o){var l=null;if(e){var a=null;1===e.nodeType?a=e.api:e.getCoreGrid?a=e:e.getPlugin&&(l=e),a&&(l=a.getCoreGrid(),i||o||(a.getModel?i=a:o=a))}if(!l)return Promise.reject("Cannot find grid element");var s=l.getPlugin(t);if(s)return Promise.resolve(s);var u=new r;return setTimeout(g._onPluginRequested.bind(null,{grid:l,pluginRef:t,compositeGrid:i,realTimeGrid:o,config:n,deferred:u}),10),u.promise},g._onPluginRequested=function(e){var t=e.grid;if(!t.getElement())return e.deferred.reject("Grid has been disposed before the plugin is fully loaded: "+e.pluginRef);var n=t.getPlugin(e.pluginRef);if(n)return e.deferred.resolve(n);var i=!1;return e.pluginRef.beforeInit&&(i=!0,e.pluginRef.beforeInit(t.getElement(),e.config,!0)),(n=t.loadPlugin(e.pluginRef,e.config))?(!i&&n.beforeInit&&(i=!0,n.beforeInit(t.getElement(),e.config)),n.setGridWrapper&&(e.compositeGrid?n.setGridWrapper("compositegrid",e.compositeGrid):e.realTimeGrid&&n.setGridWrapper("realtimegrid",e.realTimeGrid)),n.afterInit&&n.afterInit(),e.deferred.resolve(n)):e.deferred.reject("Unable to load required dependency: "+e.pluginRef)},g.prototype._getPlugin=function(e,t){return null==t&&(t=this._hosts[0]),t?t.getPlugin(e):null},g.prototype._getColumnData=function(e,t){return null==t&&(t=this._hosts[0]),t?t.getColumnData(e):null},g.prototype._getColumnOption=function(e,t,n){var i=this._getColumnData(e,n);return i?i[t]:null},g.prototype._newColumnData=function(e,t){if(null==t&&(t=this._hosts[0]),!t)return{};var n=t.getColumnData(e);return n||(n=t.setColumnData(e,{})),n},g.prototype._getField=function(e){var t=this._compositeGrid||this._realTimeGrid;return t?t.getColumnField(e):""},g.prototype._getRowData=function(e){return this._realTimeGrid&&e?e.ROW_DEF.getRowData():e},g.prototype._getRow=function(e,t){return w(e.getRowDataAt(t))},g.prototype._getData=function(e,t,n){var i=this._getRow(e,t);return i?i[n]:void 0},g.prototype._setData=function(e,t,n,i){if(this._realTimeGrid){var o=C(e,t);o&&o.setData(n,i)}else"number"==typeof t?e.setDataAt(t,n,i):e.setData(t,n,i)},g.prototype._setRowData=function(e,t,n){if(this._realTimeGrid){var i=C(e,t);i&&i.setRowData(n)}else"number"==typeof t?e.setRowDataAt(t,n):e.setRowData(t,n)},g.prototype._setStaticData=function(e,t,n,i){if(this._realTimeGrid){var o=C(e,t);o&&o.setStaticData(n,i)}else this._setData(e,t,n,i)},g.prototype._setColumnData=function(e,t,n,i){if(t){var o=Array.isArray(i)?i:e.getAllRowIds(!0),r=o?o.length:0;if(r)if(1!==r){var l=Array.isArray(n)?n:o.map((function(){return n}));if(this._realTimeGrid){for(var a=0;a<r;++a){var s=e.getRowData(o[a]);if(s){var u=s.ROW_DEF;u&&(u.getRowData()[t]=l[a])}}e.dispatchGlobalChange||(e=e.getDataSource()),e&&e.dispatchGlobalChange&&e.dispatchGlobalChange()}else e.setColumnData(t,l,o)}else this._setData(e,o[0],t,Array.isArray(n)?n[0]:n)}},g.prototype._activateColumnRenderer=function(e,t,n){if(null!=e){var i=this._realTimeGrid;i?i.activateColumnRenderer(e,t,n):"function"==typeof n?this._hosts[0].setColumnDataBindingHandler(e,n):this._hosts[0].setColumnDataBindingHandler(e,null)}};var v=function(){},y={left:37,right:39,up:38,down:40,backspace:8,tab:9,enter:13,esc:27,escape:27,space:32,pageup:33,pagedown:34,del:46,delete:46};g.prototype._mockMouseEvent=function(e,t,n){null==e&&(e=0),null==t&&(t=0);var i=n||{};if(i.preventDefault=v,i.stopPropagation=v,e>=0&&t>=0){var o=this._activeGrid||this._hosts[0],r=o?o.getCell(i.sectionType||"content",e,t):null;i.target=r?r.getElement():null}return i},g.prototype._mockKeyboardEvent=function(e,t){var n=t||{};if(n.preventDefault=v,n.stopPropagation=v,"string"==typeof e){var i=y[e.toLowerCase()]||0;e=i||e.charCodeAt(0)}return n.keyCode=e,n},g._staticStyles={},g._themeLoaders={},g._themeLoadSuccess=function(e,t){var n=this.getName(),i=g._staticStyles[n]=e(t);this.applyStyles(i,n)},g.prototype.applyStaticStyles=function(e){var t=this.getName(),n=g._staticStyles[t];n?this.applyStyles(n,t):e&&(g._themeLoaders[t]||(g._themeLoaders[t]=f.getThemeColors()),g._themeLoaders[t].then(g._themeLoadSuccess.bind(this,e)))},g.prototype.applyStyles=function(e,t,n){t||(t=this.getName());var i,o,r="_style"+t,l=this._hosts,a=l.length;if(a)if(n)for(i=0;i<a;i++)o=l[i],this.revokeStyles(o,t),o[r]=s(e,o.getElement());else for(i=0;i<a;i++)(o=l[i])[r]||(s(e,o.getElement()),o[r]=!0)},g.prototype.revokeStyles=function(e,t){if(e&&t){var n=e[t="_style"+t];n&&1===n.nodeType&&(n.parentNode.removeChild(n),e[t]=null)}};var C=function(e,t){var n="number"==typeof t?e.getRowDataAt(t):e.getRowData(t);return n&&n.ROW_DEF||null},b=function(e,t){var n=t.ROW_DEF.getRowData();return n?n[e]:null},x=function(e){return e},T=function(e){return e?e.ROW_DEF.getRowData():null},w=function(e){if(e){var t=e.ROW_DEF;return t?t.getRowData():e}return null},R=function(e,t){for(var n=t.getAllRowData(),i=n.length,o=new Array(i),r=0;r<i;++r)o[r]=b(e,n[r]);return o},A={create:function(e,t){var n=document.createElement(e);return t&&(n.className=t),n},div:function(e){return A.create("div",e)},text:function(e,t){var n=A.create("span",t);return(e||0===e)&&(n.textContent=e),n},appendChild:function(e,t){if(!e)return null;var n,i;Array.isArray(arguments[1])?(i=arguments[1],n=0):(i=arguments,n=1);for(var o=i.length;n<o;)e.appendChild(i[n]),++n;return e},buildTree:function(e,t){if(!e)return null;for(var n=arguments,i=n.length,o=1;o<i;++o){var r,l=n[o];if(l)Array.isArray(l)?r=A.buildTree.apply(null,l):1===l.nodeType&&(r=l),r&&e.appendChild(r)}return e},removeParent:function(e){if(!e)return null;var t=e.parentNode;return t&&t.removeChild(e),t},setParent:function(e,t){return e?t?(t.appendChild(e),t):A.removeParent(e):null},removeChildren:function(e,t){if(e){var n=e.childNodes.length;for((null==t||t>n)&&(t=n);--t>=0;)e.removeChild(e.lastChild)}},setContent:function(e,t){if(e)if(t||0===t){var n=t.nodeType;1===n||3===n?t!==e.lastChild&&(A.removeChildren(e),e.appendChild(t)):Array.isArray(t)?(A.removeChildren(e),A.appendChild(e,t)):e.textContent=t}else A.removeChildren(e)},toggleAttribute:function(e,t,n){n?e.setAttribute(t,"string"==typeof n?n:""):null==n?e.hasAttribute(t)?e.removeAttribute(t):e.setAttribute(t,""):e.removeAttribute(t)},toggleClass:function(e,t,n){n?e.classList.add(t):null==n?e.classList.contains(t)?e.classList.remove(t):e.classList.add(t):e.classList.remove(t)},addClasses:function(e,t){if(e)for(var n=Array.isArray(t)?t:arguments,i=n.length,o=0;o<i;++o){var r=n[o];r&&"string"==typeof r&&e.classList.add(r)}},removeClasses:function(e,t){if(e)for(var n=Array.isArray(t)?t:arguments,i=n.length,o=0;o<i;++o){var r=n[o];r&&"string"==typeof r&&e.classList.remove(r)}},preventDefault:function(e){e.preventDefault(),e.stopPropagation()},stopPropagation:function(e){e.stopPropagation()},getClientPosition:function(e,t){var n=t||{x:0,y:0};if(e.getBoundingClientRect){var i=e.getBoundingClientRect();n.x=i.left,n.y=i.top}else n.x=e.clientX,n.y=e.clientY;return n},getRelativePosition:function(e,t,n){n=A.getClientPosition(e,n);var i=A.getClientPosition(t);return n.x-=i.x,n.y-=i.y,n},closestElement:function(e,t){for(var n=e;n;){if(n.classList&&n.classList.contains(t))return n;n=n.parentNode||n.host}return null},closestTagName:function(e,t){for(var n=e;n;){if(n.tagName&&n.tagName==t)return n;n=n.parentNode||n.host}return null}},V={l:"l",c:"c",r:"r",L:"l",C:"c",R:"r"},S=function(e){return e&&V[e.charAt(0)]||""},P=function(e,t){this._topNode=e||A.div(),this._topNode._percentBar=this,this._topNode.classList.add("tr-percent-bar"),this._bar=A.div(),this._track=A.div(),this._track.appendChild(this._bar),this._txt=A.create("span");var n="l";if(t){t.alignment&&(n=t.alignment),null!=t.movementColor&&this.useMovementColor(!!t.movementColor),null!=t.barColor&&this.setBarColor(t.barColor);var i=0;null!=t.textWidth&&(i=1,this.setTextWidth(t.textWidth)),null!=t.textHidden&&(i|=this.hideText(t.textHidden)),null!=t.zeroValueHidden&&(i|=this.hideZeroValue(t.zeroValueHidden)),i&&this.isTextHidden()&&(this._textInDoc=!1,this._topNode.appendChild(this._track))}this.setAlignment(n)};P.prototype._topNode=null,P.prototype._track=null,P.prototype._bar=null,P.prototype._txt=null,P.prototype._textWidth="56px",P.prototype._textHidden=!1,P.prototype._zeroValueHidden=!1,P.prototype._textInDoc=!0,P.prototype._alignment,P.prototype._absValue,P.prototype._maxValue=100,P.prototype._sign=1,P.prototype._dirtySign=!0,P.prototype._invalid=!1,P.prototype._movementColor=!0,P.prototype._barColor="",P.prototype._tooltipEnabled=!0,P._styles=function(e){if(e){var t="";if(Array.isArray(e))t=e.map(l).join("\n").replace(/{\s*{/g,"{").replace(/\s+{/g," {");else t="string"==typeof e?e:e+"";if(t)return t.replace(/{[\w\W]*?}/g,a)}return""}([".tr-percent-bar",["position: relative;","text-align: left;","overflow: hidden;","white-space: nowrap;"],".tr-percent-bar>div",["position: relative;","display: inline-block;","height: 8px;","vertical-align: middle;"],".tr-percent-bar>div>div ",["position: absolute;","height: 100%;"],".tr-percent-bar>span",["display: inline-block;","vertical-align: middle;","box-sizing: border-box;","padding-left: 4px;","padding-right: 4px;","overflow: hidden;","max-width: 100%;"]]),P.injectCss=function(e){s(this._styles,e)},P.toAlignment=S,P.prototype.getElement=function(){return this._topNode},P.prototype.getValue=function(){return this._absValue*this._sign},P.prototype.getPercent=function(){return this._absValue/this._maxValue*this._sign},P.prototype.isInvalid=function(){return this._invalid},P.prototype._checkInvalidity=function(){var e=this._absValue!=this._absValue||!this._maxValue;return e!==this._invalid&&(this._invalid=e,this._topNode.style.display=e?"none":""),e},P.prototype.setValue=function(e,t,n){var i=this;e&&"number"!=typeof e&&(e=+e),e||0===e?e>=0?(i._absValue=e,i._dirtySign|=1!==i._sign,i._sign=1):(i._absValue=-e,i._dirtySign|=-1!==i._sign,i._sign=-1):i._absValue=NaN,null!=t&&t==t&&(i._maxValue=t>=0?t:-t),i._checkInvalidity()||(i._absValue>i._maxValue&&(i._absValue=i._maxValue),i._updateValue(!0,n))},P.prototype.setMax=function(e){e==e&&(this._maxValue=e>=0?e:-e,this._checkInvalidity()||(this._absValue>this._maxValue&&(this._absValue=this._maxValue),this._updateValue(!0)))},P.prototype.hideZeroValue=function(e){var t=!1!==e;return this._zeroValueHidden!==t&&(this._zeroValueHidden=t,this._alignment&&this._updateTextVisibility()&&this._updateTextWidth(),!0)},P.prototype.setText=function(e){this._invalid||(e||0===e?"string"!=typeof e&&(e+=""):e="",this._txt._prevText!==e&&(this._txt._prevText=e,this._txt.textContent=e,this._tooltipEnabled&&(e?this._topNode.setAttribute("title",e):this._topNode.removeAttribute("title"))))},P.prototype.hideText=function(e){var t=!1!==e;return this._textHidden!==t&&(this._textHidden=t,this._alignment&&this._updateTextVisibility()&&this._updateTextWidth(),!0)},P.prototype.isTextHidden=function(){return!(!this._textHidden&&"0px"!==this._textWidth)||!(!this._zeroValueHidden||this._absValue)},P.prototype._updateTextVisibility=function(){var e=!this.isTextHidden();return this._textInDoc!==e&&(this._textInDoc=e,e?this._reorderElements():A.removeParent(this._txt),!0)},P.prototype._updateTextWidth=function(){return"c"!==this._alignment&&(this._textInDoc?this._track.style.width="calc(100% - "+this._textWidth+")":this._track.style.width="100%",this._txt.style.width=this._textWidth,!0)},P.prototype.setTextWidth=function(e){var t="56px";"number"==typeof e?t=e>8?e+"px":"0px":"string"==typeof e&&e&&(t="0"!==e?e:"0px"),this._textWidth!==t&&(this._textWidth=t,this._alignment&&(this._updateTextVisibility(),this._updateTextWidth()))},P.prototype.setMaxTextLength=P.prototype.setTextWidth,P.prototype.getTextScrollWidth=function(){return this._txt.scrollWidth>this._txt.offsetWidth?this._txt.scrollWidth:NaN},P.prototype.getAlignment=function(){return this._alignment},P.prototype.setAlignment=function(e){e=S(e)||"l",this._alignment!==e&&(this._alignment=e,"c"===e?(this._track.style.width="50%",this._txt.style.width="50%"):(this._updateTextWidth(),this._txt.style.textAlign="right",this._track.style.left="",this._txt.style.transform="",this._bar.style.right="r"===e?"0":""),this._textInDoc&&this._reorderElements(),this._dirtySign=!0,this._updateValue(!1))},P.prototype._reorderElements=function(){"l"!==this._alignment?(this._topNode.appendChild(this._track),this._topNode.appendChild(this._txt)):(this._topNode.appendChild(this._txt),this._topNode.appendChild(this._track))},P.prototype.useMovementColor=function(e){var t=!1!==e;this._movementColor!==t&&(this._movementColor=t,this.updateBarColor())},P.prototype.setTrackColor=function(e){this._track.style.backgroundColor=e||""},P.prototype.setBarColor=function(e){var t=e||"";this._barColor!==t&&(this._barColor=t,this.updateBarColor())},P.prototype.enableTooltip=function(e){this._tooltipEnabled=!1!==e,this._tooltipEnabled||this._topNode.removeAttribute("title")},P.prototype._updateValue=function(e,t){var n=this;if(n._dirtySign&&(n._dirtySign=!1,"c"===n._alignment&&(n._sign>=0?(n._track.style.left="50%",n._bar.style.right="",n._txt.style.transform="translateX(-100%)",n._txt.style.textAlign="right"):(n._track.style.left="",n._bar.style.right="0",n._txt.style.transform="",n._txt.style.textAlign="left")),n._movementColor&&!n._barColor&&n.updateBarColor()),!1!==e){this._zeroValueHidden&&this._updateTextVisibility()&&this._updateTextWidth();var i=100!==n._maxValue?n._absValue/n._maxValue*100:n._absValue;n._bar.style.width=i+"%",null!=t?!1!==t&&n.setText(t):n.setText((i*n._sign*100|0)/100+"%")}},P.prototype.updateBarColor=function(){var e;if(e=this._barColor?this._barColor:this._movementColor?this._sign>=0?f.themeColors.up:f.themeColors.down:f.themeColors.trackColor){var t=this._bar.style;t.backgroundColor!==e&&(t.backgroundColor=e)}};var G=function(){this._onPostSectionBinding=this._onPostSectionBinding.bind(this),this._onColumnAdded=this._onColumnAdded.bind(this),this._onColumnRemoved=this._onColumnRemoved.bind(this),this._requestRowRefresh=this._requestRowRefresh.bind(this),this._renderer=this._renderer.bind(this),this._onThemeLoaded=this._onThemeLoaded.bind(this),this._hosts=[]};i.inherits(G,g),G._runningId=0,G._themeRevision=0,G.prototype._themeLoading=!1,G.prototype._padding=8,G.prototype._percentageLabel=!0,G.prototype._autoFitting=!1,G.prototype._zeroValueHidden=!1,G.prototype._autoTextSizing=!0,G._helper=null,G.prototype.getName=function(){return"PercentBarPlugin"},G.prototype.initialize=function(e,t){this._hosts.indexOf(e)>=0||(this._hosts.push(e),this.config(t,e),e.listen("postSectionDataBinding",this._onPostSectionBinding),1===this._hosts.length&&(e.listen("columnAdded",this._onColumnAdded),e.listen("columnRemoved",this._onColumnRemoved),e.listen("columnAlignmentChanged",this._requestRowRefresh)),this._themeLoading||(this._themeLoading=!0,f.getThemeColors(this._onThemeLoaded).then(this._onThemeLoaded).catch(this._onThemeLoaded)))},G.prototype._afterInit=function(){for(var e=this.getColumnCount(),t=0;t<e;++t)this._setColumnRenderer(t)},G.prototype.unload=function(e){var t=this._hosts.indexOf(e);t<0||(this._hosts.splice(t,1),e.unlisten("postSectionDataBinding",this._onPostSectionBinding),e.unlisten("columnAdded",this._onColumnAdded),e.unlisten("columnRemoved",this._onColumnRemoved),e.unlisten("columnAlignmentChanged",this._requestRowRefresh),this._hosts.length||A.removeParent(G._helper),this._dispose())},G.prototype.config=function(e){if(e){var t=e.percentBar;if("object"==typeof t){this._autoFitting=!0===t.autoFitting,null!=t.zeroValueHidden&&(this._zeroValueHidden=!!t.zeroValueHidden),this._autoTextSizing=!1!==t.autoTextSizing,this._percentageLabel=!1!==t.percentageLabel;var n=t.padding;"number"==typeof n&&(this._padding=n)}for(var i=e.columns,o=i?i.length:0,r=0;r<o;++r){var l=i[r];this.setColumnPercentBar(r,l)}}},G.prototype.getColumnConfigObject=function(e,t){t||(t={});var n=this._getColumnData(e),i=n?n.percentBar:null;if(!i)return t;var o=t.percentBar={};return i.alignment&&(o.alignment=i.alignment),"string"==typeof i.field&&(o.field=i.field),null!=i.textHidden&&(o.textHidden=i.textHidden),null!=i.textWidth&&(o.textWidth=i.textWidth),null!=i.useMovementColor&&(o.useMovementColor=i.useMovementColor),i.barColor&&(o.barColor=i.barColor),null!=i.padding&&(o.padding=i.padding),null!=i.autoTextSizing&&(o.autoTextSizing=i.autoTextSizing),null!=i.percentageLabel&&(o.percentageLabel=i.percentageLabel),null!=i.autoFitting&&(o.autoFitting=i.autoFitting),null!=i.zeroValueHidden&&(o.zeroValueHidden=i.zeroValueHidden),t},G.prototype.getConfigObject=function(e){var t=e||{},n=t.columns;n||(n=t.columns=[]);for(var i=this.getColumnCount(),o=0;o<i;++o)n[o]||(n[o]={}),this.getColumnConfigObject(o,n[o]);var r=t.percentBar;return r||(r=t.percentBar={}),r.padding=this._padding,r.autoFitting=this._autoFitting,r.zeroValueHidden=this._zeroValueHidden,r.autoTextSizing=this._autoTextSizing,r.percentageLabel=this._percentageLabel,t},G.prototype.setPercentBarAlignment=function(e,t){var n=this._getColumnPercentBarOptions(e);n&&(t=P.toAlignment(t),n.alignment!==t&&(n.alignment=t,this._requestRowRefresh()))},G.prototype.setColumnPercentBar=function(e,t){var n=t?t.percentBar:null,i=this._newColumnData(e),o=i.percentBar,r=!1;if(n){r=!0;var l=o;if(o=i.percentBar={},l&&l.refId&&(o.refId=l.refId,o.colStats=l.colStats),"object"==typeof n)for(var a in n)o[a]=n[a];null==o.field&&(o.field=t.field?t.field:this._getField(e)),null!=o.alignment&&(o.alignment=P.toAlignment(o.alignment)),null!=o.autoTextSizing&&(o.autoTextSizing=!!o.autoTextSizing),null!=o.autoFitting?o.autoFitting=!!o.autoFitting:o.autoFitting=this._autoFitting,null!=o.zeroValueHidden?o.zeroValueHidden=!!o.zeroValueHidden:o.zeroValueHidden=this._zeroValueHidden,null!=o.percentageLabel?o.percentageLabel=!!o.percentageLabel:o.percentageLabel=this._percentageLabel,o._maxTextWidth=0;var s=o.padding;"number"!=typeof s&&(o.padding=s||null==s?this._padding:0)}else if(o){if(r=!0,o.refId){var u=this._hosts[0],d=u?u.getDataSource():null;d&&d.enableColumnStats(o.field,!1,o.refId),o.refId=null,o.colStats=null}i.percentBar=null}r&&this._initializedGrid&&(this._setColumnRenderer(e),this._requestRowRefresh())},G.prototype._setColumnRenderer=function(e){var t=this._getColumnPercentBarOptions(e);if(t){if(!t.refId){var n=this._hosts[0],i=n?n.getDataSource():null;if(i){t.refId="_pb"+G._runningId++;var o=i.enableColumnStats(t.field,!0,t.refId);this._realTimeGrid&&o.setColumnDataGetter(R),t.colStats=o}}this._activateColumnRenderer(e,"_percentBar",this._renderer)}else this._activateColumnRenderer(e)},G.prototype._getColumnPercentBarOptions=function(e){return this._getColumnOption(e,"percentBar")},G.prototype._getPercentBarAlignment=function(e,t){var n=t.alignment;return n||(P.toAlignment(this._hosts[0].getColumnAlignment(e))||"l")},G.prototype._getAutoTextSizing=function(e,t){return!t.textWidth&&!t.textHidden&&("c"!==this._getPercentBarAlignment(e,t)&&(null!=t.autoTextSizing?t.autoTextSizing:this._autoTextSizing))},G.prototype._onThemeLoaded=function(){G._themeRevision++,this._requestRowRefresh()},G.prototype._onPostSectionBinding=function(e){if(f.isThemeLoaded())for(var t=e.section,n=e.dataRows,i=t.getColumnCount(),o=e.fromRowIndex,r=e.toRowIndex,l=this._hosts[0].getPlugin("TextFormattingPlugin"),a=e.dataSource,s=0;s<i;++s){var u=this._getColumnPercentBarOptions(s);if(u){var d=u.field,p=u.colStats,h=u.barColor,c=u.useMovementColor,_=null!=u.textHidden&&u.textHidden,m=null!=u.zeroValueHidden&&u.zeroValueHidden,g=p.getMax(),v=l?l.getFormatter(s):null,y=this._getPercentBarAlignment(s,u),C=this._getAutoTextSizing(s,u);u._curAlignment!==y&&(u._curAlignment=y,u._maxTextWidth=0);for(var b=o;b<r;++b){var x=t.getCell(s,b,!1);if(x){var T=x.getContent(),w=T?T._percentBar:null;w||(T=(w=new P).getElement(),null!=c&&(w._themeRevision=G._themeRevision)),C?u._maxTextWidth&&w.setTextWidth(u._maxTextWidth+u.padding):w.setTextWidth(u.textWidth),w.setAlignment(y),w._themeRevision!==G._themeRevision&&(w._themeRevision=G._themeRevision,w.updateBarColor(c)),w.useMovementColor(c),w.setBarColor(h),w.hideText(_),w.hideZeroValue(m);var R=this._getRowData(n[b]),A=R?R[d]:NaN;if(v)if(u.percentageLabel){w.setValue(A,g,!1);var V=w.getPercent();w.setText(v.formatValue(V))}else w.setValue(A,g,v.formatValue(A));else{var S=u.percentageLabel?null:A;w.setValue(A,g,S)}x.setContent(T)}}C&&this._updateTextSize(t,a,s,u.field,g,v)}}},G.prototype._getHelper=function(){var e=G._helper;return e||((e=G._helper=A.div("percent-bar-helper")).style="visibility: hidden; position: fixed; bottom: -50px; left: -50px; white-space: pre;"),e.parentNode||document.body.appendChild(e),e},G.prototype._getTextWidth=function(e){var t=this._getHelper();t.textContent=e;var n=t.clientWidth;return t.removeChild(t.lastChild),n},G.prototype._updateTextSize=function(e,t,n,i,o,r){var l,a=this._getColumnPercentBarOptions(n),s=e.getFirstIndexInView(),u=e.getLastIndexInView(),d=[];for(l=s;l<=u;++l){var p=this._getData(t,l,i);r?p=r.formatValue(p):(p=(p/o*1e4|0)/100,p+="%"),d.push(p)}var h=this._getTextWidth(d.join("\n"));if(a.autoFitting||(h=h>a._maxTextWidth?h:a._maxTextWidth),h!==a._maxTextWidth)for(a._maxTextWidth=h,h+=a.padding,l=s;l<=u;++l){var c=e.getCell(n,l,!1);if(c){var _=c.getContent();_&&_._percentBar&&_._percentBar.setTextWidth(h)}}},G.prototype._renderer=function(e){},G.prototype._onColumnAdded=function(e){e.context&&this.setColumnPercentBar(e.colIndex,e.context)},G.prototype._onColumnRemoved=function(e){var t=e.columnData;if(t&&t.percentBar){var n=t.percentBar;e.sender.getDataSource().enableColumnStats(n.field,!1,n.refId),t.percentBar=null}},G.prototype._requestRowRefresh=function(){for(var e=this._hosts.length;--e>=0;)this._hosts[e].requestRowRefresh()},G.prototype.reloadThemeColors=function(){return f.reloadThemeColors().then(this._onThemeLoaded).catch(this._onThemeLoaded)};!function(e,t){if(e&&t&&t.prototype.getName){var n=t.prototype.getName().replace(/Plugin$/,"");if(n){var i=e.tr;i||(i=e.tr={});var o=i.grid;o||(o=i.grid={}),o[n+"Plugin"]=t,i[n+"Extension"]=t}}}(window,G)}]);