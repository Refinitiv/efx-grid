!function(t){var e={};function r(n){if(e[n])return e[n].exports;var i=e[n]={i:n,l:!1,exports:{}};return t[n].call(i.exports,i,i.exports,r),i.l=!0,i.exports}r.m=t,r.c=e,r.d=function(t,e,n){r.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:n})},r.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},r.t=function(t,e){if(1&e&&(t=r(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(r.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var i in t)r.d(n,i,function(e){return t[e]}.bind(null,i));return n},r.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return r.d(e,"a",e),e},r.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},r.p="",r(r.s=0)}([function(t,e,r){"use strict";r.r(e);var n={inherits:function(t,e){function r(){}r.prototype=e.prototype,t.prototype=new r,t.prototype.constructor=t,t.base=function(t,r,n){r||(r="constructor");for(var i=arguments.length,o=new Array(i),s=2;s<i;s++)o[s-2]=arguments[s];return e.prototype[r].apply(t,o)}}},i=function(){};i.prototype._events=null,i.prototype._listenerCount=0,i.prototype.addEventListener=function(t,e){if(t&&e){this._events||(this._events={});var r=this._events[t];r?r.indexOf(e)<0&&(r.push(e),++this._listenerCount):(this._events[t]=[e],++this._listenerCount)}},i.prototype.removeEventListener=function(t,e){var r=this._events?this._events[t]:null;if(r){var n=r.indexOf(e);n>=0&&(r.splice(n,1),--this._listenerCount)}},i.prototype.removeAllEventListeners=function(){this._events=null,this._listenerCount=0},i.prototype.hasListener=function(t){if(this._listenerCount){if(t){var e=this._events?this._events[t]:null;return!!e&&e.length>0}return!0}return!1},i.prototype.getListener=function(t,e){if(t){var r=this._events?this._events[t]:null;if(r)return e||(e=0),r[e]||null}return null},i.prototype.addListener=function(t,e){var r=t?t[e]:null;"function"==typeof r&&this.addEventListener(e,r)},i.prototype._prepareEventArguments=function(t,e){return e},i.prototype._dispatch=function(t,e){var r=this._events?this._events[t]:null;if(r){e=this._prepareEventArguments(t,e);for(var n=r.length,i=0;i<n;++i)r[i](e)}};i.preventDefault=function(t){t&&t.preventDefault&&(t.preventDefault(),t.stopPropagation())};var o=function(t,e,r){this.resolve=this.resolve.bind(this),this.reject=this.reject.bind(this),"function"==typeof t&&(this._resolveHandler=t),"function"==typeof e&&(this._rejectHandler=e),null!=r&&(this._ctx=r),this.promise=new Promise(function(t,e){this._resolve=t,this._reject=e}.bind(this))};o.prototype.promise=null,o.prototype._resolve=null,o.prototype._reject=null,o.prototype._resolveHandler=null,o.prototype._rejectHandler=null,o.prototype._ctx=null,o.prototype._fulfilled=!1,o.prototype.resolve=function(t){if(this._resolve){if(this._resolveHandler){var e=this._resolveHandler(t,this._ctx||this);null!=e&&(t=e)}this._resolve(t),this._finally()}},o.prototype.reject=function(t){if(this._reject){if(this._rejectHandler){var e=this._rejectHandler(t,this._ctx||this);null!=e&&(t=e)}this._reject(t),this._finally()}},o.prototype.isFulfilled=function(){return this._fulfilled},o.prototype._finally=function(){this._fulfilled=!0,this._ctx=this._resolveHandler=this._rejectHandler=null,this._resolve=this._reject=null};var s=function(){};n.inherits(s,i),s.prototype._hosts=null,s.prototype._compositeGrid=null,s.prototype._realTimeGrid=null,s.prototype._rowGetter=null,s.prototype._initializedGrid=!1,s.prototype.listen=s.prototype.addEventListener,s.prototype.unlisten=s.prototype.removeEventListener,s.prototype.afterInit=function(t,e,r){var n=null;r&&r.getCoreGrid&&(n=r.getCoreGrid()),n&&(this.getGridApi()||this.setGridWrapper("compositegrid",r),this._compositeGrid&&n.loadPlugin(this,e)),this._initializedGrid||(this._initializedGrid=!0,this._rowGetter=this._realTimeGrid?p:l,this._afterInit())},s.prototype._afterInit=function(){},s.prototype._dispose=function(){this._hosts&&(this._hosts.length||(this._compositeGrid=this._realTimeGrid=null,this._initializedGrid=!1))},s.prototype.hasMultiTableSupport=function(){return!1},s.prototype._prepareEventArguments=function(t,e){return e||(e={}),e.api=this.getGridApi(),e},s.prototype.getName=function(){return"GridPlugin"},s.prototype.initialize=function(t,e){},s.prototype.unload=function(t){this._dispose()},s.prototype.getRelativeGrid=function(t){var e=null;if(t.target){var r=(e=t.target).api;if(r&&r.getCoreGrid)return r.getCoreGrid()}else t.getElement?e=t.getElement():1===t.nodeType&&(e=t);if(e)for(var n=this._hosts.length;--n>=0;){var i=this._hosts[n];if(i.getElement().contains(e))return i}return null},s.prototype.setGridWrapper=function(t,e){t&&("compositegrid"===(t=t.toLowerCase())?this._compositeGrid=e:"realtimegrid"===t&&(this._realTimeGrid=e))},s.prototype.getGridApi=function(t){if(null==t)return this._compositeGrid||this._realTimeGrid;var e="number"==typeof t?this._hosts[t]:t;return e&&e._wrapper||null},s.prototype.getColumnName=function(t){if(this._compositeGrid){var e=this._compositeGrid.getColumnModel(t);if(e)return e.title?e.title:e.field}else{var r=this.getColumnIndex(t),n=this._realTimeGrid.getColumnDefinition(r);if(n)return n.getName()}return""},s.prototype.getColumnIndex=function(t){if("number"==typeof t)return t;if(this._compositeGrid){var e=this._compositeGrid.getColumnFields().indexOf(t);return e>-1?e:this._compositeGrid.getColumnIndex(t)}return this._realTimeGrid.getColumnIndex(t)},s.prototype.getColumnIndices=function(t){if(this._compositeGrid){for(var e,r=this._compositeGrid.getColumnFields(),n=this._compositeGrid.getColumnCount(),i=[],o=0;o<t.length;o++)if("number"==typeof(e=t[o]))e>=0&&e<n&&i.push(e);else{var s=r.indexOf(e);-1!==s&&i.push(s)}return i}return this._realTimeGrid.getColumnIndices(t)},s.prototype.getColumnId=function(t){if("string"==typeof t)return t;var e=this.getColumnCount();if(t<0||t>=e)return"";if(this._compositeGrid)return this._compositeGrid.getColumnId(t);var r=this._realTimeGrid.getColumnDefinition(t);return r?r.getId():""},s.prototype.getColumnIds=function(){return this._hosts&&this._hosts.length?this._hosts[0].getColumnIds():[]},s.prototype.getColumnField=function(t){return this._hosts&&this._hosts.length?this._hosts[0].getColumnField(t):""},s.prototype.getColumnFields=function(){return this._hosts&&this._hosts.length?this._hosts[0].getColumnFields():[]},s.prototype.getColumnCount=function(){if(this._hosts){var t=this._hosts[0];return t?t.getColumnCount():0}return 0},s.prototype._moveColumnById=function(t,e){var r=this._hosts,n=r?r.length:0;if(n){for(var i=0,o=0;o<n;++o)i|=r[o].moveColumnById(t,e);return!!i}return!1},s.prototype._reorderColumns=function(t,e){var r=this._hosts,n=r?r.length:0;if(n){for(var i=0,o=0;o<n;++o)i|=r[o].reorderColumns(t,e);return!!i}return!1},s.prototype._loadPlugin=function(t,e,r){return t||(t=e.getPlugin(r))||(t=e.loadPlugin(r))&&this._initializedGrid&&(t._initializedGrid=!0),t},s.prototype._requestPlugin=function(t,e,r){return this._initializedGrid?s.requestPlugin(t,e,r,this._compositeGrid,this._realTimeGrid):Promise.reject("Plugin should be requested after the initialization")},s.requestPlugin=function(t,e,r,n,i){var u=null;if(t){var l=null;1===t.nodeType?l=t.api:t.getCoreGrid?l=t:t.getPlugin&&(u=t),l&&(u=l.getCoreGrid(),n||i||(l.getModel?n=l:i=l))}if(!u)return Promise.reject("Cannot find grid element");var p=u.getPlugin(e);if(p)return Promise.resolve(p);var a=new o;return setTimeout(s._onPluginRequested.bind(null,{grid:u,pluginRef:e,compositeGrid:n,realTimeGrid:i,config:r,deferred:a}),10),a.promise},s._onPluginRequested=function(t){var e=t.grid;if(!e.getElement())return t.deferred.reject("Grid has been disposed before the plugin is fully loaded: "+t.pluginRef);var r=e.getPlugin(t.pluginRef);if(r)return t.deferred.resolve(r);var n=!1;return t.pluginRef.beforeInit&&(n=!0,t.pluginRef.beforeInit(e.getElement(),t.config,!0)),(r=e.loadPlugin(t.pluginRef,t.config))?(!n&&r.beforeInit&&(n=!0,r.beforeInit(e.getElement(),t.config)),r.setGridWrapper&&(t.compositeGrid?r.setGridWrapper("compositegrid",t.compositeGrid):t.realTimeGrid&&r.setGridWrapper("realtimegrid",t.realTimeGrid)),r.afterInit&&r.afterInit(),t.deferred.resolve(r)):t.deferred.reject("Unable to load required dependency: "+t.pluginRef)},s.prototype._getPlugin=function(t,e){return null==e&&(e=this._hosts[0]),e?e.getPlugin(t):null},s.prototype._getColumnData=function(t,e){return null==e&&(e=this._hosts[0]),e?e.getColumnData(t):null},s.prototype._getColumnOption=function(t,e,r){var n=this._getColumnData(t,r);return n?n[e]:null},s.prototype._newColumnData=function(t,e){if(null==e&&(e=this._hosts[0]),!e)return{};var r=e.getColumnData(t);return r||(r=e.setColumnData(t,{})),r},s.prototype._getField=function(t){var e=this._compositeGrid||this._realTimeGrid;return e?e.getColumnField(t):""},s.prototype._getRowData=function(t){return this._realTimeGrid&&t?t.ROW_DEF.getRowData():t},s.prototype._getRow=function(t,e){return a(t.getRowDataAt(e))},s.prototype._getData=function(t,e,r){var n=this._getRow(t,e);return n?n[r]:void 0},s.prototype._setData=function(t,e,r,n){if(this._realTimeGrid){var i=u(t,e);i&&i.setData(r,n)}else"number"==typeof e?t.setDataAt(e,r,n):t.setData(e,r,n)},s.prototype._setRowData=function(t,e,r){if(this._realTimeGrid){var n=u(t,e);n&&n.setRowData(r)}else"number"==typeof e?t.setRowDataAt(e,r):t.setRowData(e,r)},s.prototype._setStaticData=function(t,e,r,n){if(this._realTimeGrid){var i=u(t,e);i&&i.setStaticData(r,n)}else this._setData(t,e,r,n)},s.prototype._setColumnData=function(t,e,r,n){if(e){var i=Array.isArray(n)?n:t.getAllRowIds(!0),o=i?i.length:0;if(o)if(1!==o){var s=Array.isArray(r)?r:i.map((function(){return r}));if(this._realTimeGrid){for(var u=0;u<o;++u){var l=t.getRowData(i[u]);if(l){var p=l.ROW_DEF;p&&(p.getRowData()[e]=s[u])}}t.dispatchGlobalChange||(t=t.getDataSource()),t&&t.dispatchGlobalChange&&t.dispatchGlobalChange()}else t.setColumnData(e,s,i)}else this._setData(t,i[0],this._selectionField,Array.isArray(r)?r[0]:r)}},s.prototype._activateColumnRenderer=function(t,e,r){if(null!=t){var n=this._realTimeGrid;n?n.activateColumnRenderer(t,e,r):"function"==typeof r?this._hosts[0].setColumnDataBindingHandler(t,r):this._hosts[0].setColumnDataBindingHandler(t,null)}};var u=function(t,e){var r="number"==typeof e?t.getRowDataAt(e):t.getRowData(e);return r&&r.ROW_DEF||null},l=function(t){return t},p=function(t){return t?t.ROW_DEF.getRowData():null},a=function(t){if(t){var e=t.ROW_DEF;return e?e.getRowData():t}return null},h={inherits:function(t,e){function r(){}r.prototype=e.prototype,t.prototype=new r,t.prototype.constructor=t,t.base=function(t,r,n){r||(r="constructor");for(var i=arguments.length,o=new Array(i),s=2;s<i;s++)o[s-2]=arguments[s];return e.prototype[r].apply(t,o)}}},d=function(t,e){return function(t,e,r){if(!t)return null;if(!e||t===e)return t;var n;if(r)for(var i=r.length,o=0;o<i;++o)(n=r[o])&&f(t,e,n);else for(n in e)f(t,e,n);return t}({},t,e)},f=function(t,e,r){var n=e[r];if(null!=n){var i=t[r];Array.isArray(i)?t[r]=i.concat(n):Array.isArray(n)&&i?t[r]=n.concat(i):t[r]=n}},g=function(t){return Array.isArray(t)?"{\n"+t.join("\n")+"\n}":t},_=function(t){return t.replace(/\n+/g,"\n\t").replace(/\n\t}$/,"\n}")},c=function(t,e){if(!t)return null;var r=document.createElement("style");r.textContent="\n"+t+"\n";var n,i=function(t){var e;if(t&&(t.shadowRoot?e=t.shadowRoot:t.getRootNode&&(e=t.getRootNode()),e&&e!==document&&e!==t))return e;return null}(e),o=!0;return i||(o=!1,i=document.head),o&&i.children&&i.children.length&&(n=i.children[0]),n?i.insertBefore(r,n):i.appendChild(r),r},m=function(){};m.prototype._events=null,m.prototype._listenerCount=0,m.prototype.addEventListener=function(t,e){if(t&&e){this._events||(this._events={});var r=this._events[t];r?r.indexOf(e)<0&&(r.push(e),++this._listenerCount):(this._events[t]=[e],++this._listenerCount)}},m.prototype.removeEventListener=function(t,e){var r=this._events?this._events[t]:null;if(r){var n=r.indexOf(e);n>=0&&(r.splice(n,1),--this._listenerCount)}},m.prototype.removeAllEventListeners=function(){this._events=null,this._listenerCount=0},m.prototype.hasListener=function(t){if(this._listenerCount){if(t){var e=this._events?this._events[t]:null;return!!e&&e.length>0}return!0}return!1},m.prototype.getListener=function(t,e){if(t){var r=this._events?this._events[t]:null;if(r)return e||(e=0),r[e]||null}return null},m.prototype.addListener=function(t,e){var r=t?t[e]:null;"function"==typeof r&&this.addEventListener(e,r)},m.prototype._prepareEventArguments=function(t,e){return e},m.prototype._dispatch=function(t,e){var r=this._events?this._events[t]:null;if(r){e=this._prepareEventArguments(t,e);for(var n=r.length,i=0;i<n;++i)r[i](e)}};m.preventDefault=function(t){t&&t.preventDefault&&(t.preventDefault(),t.stopPropagation())};var v=function(t,e,r){this.resolve=this.resolve.bind(this),this.reject=this.reject.bind(this),"function"==typeof t&&(this._resolveHandler=t),"function"==typeof e&&(this._rejectHandler=e),null!=r&&(this._ctx=r),this.promise=new Promise(function(t,e){this._resolve=t,this._reject=e}.bind(this))};v.prototype.promise=null,v.prototype._resolve=null,v.prototype._reject=null,v.prototype._resolveHandler=null,v.prototype._rejectHandler=null,v.prototype._ctx=null,v.prototype._fulfilled=!1,v.prototype.resolve=function(t){if(this._resolve){if(this._resolveHandler){var e=this._resolveHandler(t,this._ctx||this);null!=e&&(t=e)}this._resolve(t),this._finally()}},v.prototype.reject=function(t){if(this._reject){if(this._rejectHandler){var e=this._rejectHandler(t,this._ctx||this);null!=e&&(t=e)}this._reject(t),this._finally()}},v.prototype.isFulfilled=function(){return this._fulfilled},v.prototype._finally=function(){this._fulfilled=!0,this._ctx=this._resolveHandler=this._rejectHandler=null,this._resolve=this._reject=null};var y=function(){};h.inherits(y,m),y.prototype._hosts=null,y.prototype._compositeGrid=null,y.prototype._realTimeGrid=null,y.prototype._rowGetter=null,y.prototype._initializedGrid=!1,y.prototype.listen=y.prototype.addEventListener,y.prototype.unlisten=y.prototype.removeEventListener,y.prototype.afterInit=function(t,e,r){var n=null;r&&r.getCoreGrid&&(n=r.getCoreGrid()),n&&(this.getGridApi()||this.setGridWrapper("compositegrid",r),this._compositeGrid&&n.loadPlugin(this,e)),this._initializedGrid||(this._initializedGrid=!0,this._rowGetter=this._realTimeGrid?I:G,this._afterInit())},y.prototype._afterInit=function(){},y.prototype._dispose=function(){this._hosts&&(this._hosts.length||(this._compositeGrid=this._realTimeGrid=null,this._initializedGrid=!1))},y.prototype.hasMultiTableSupport=function(){return!1},y.prototype._prepareEventArguments=function(t,e){return e||(e={}),e.api=this.getGridApi(),e},y.prototype.getName=function(){return"GridPlugin"},y.prototype.initialize=function(t,e){},y.prototype.unload=function(t){this._dispose()},y.prototype.getRelativeGrid=function(t){var e=null;if(t.target){var r=(e=t.target).api;if(r&&r.getCoreGrid)return r.getCoreGrid()}else t.getElement?e=t.getElement():1===t.nodeType&&(e=t);if(e)for(var n=this._hosts.length;--n>=0;){var i=this._hosts[n];if(i.getElement().contains(e))return i}return null},y.prototype.setGridWrapper=function(t,e){t&&("compositegrid"===(t=t.toLowerCase())?this._compositeGrid=e:"realtimegrid"===t&&(this._realTimeGrid=e))},y.prototype.getGridApi=function(t){if(null==t)return this._compositeGrid||this._realTimeGrid;var e="number"==typeof t?this._hosts[t]:t;return e&&e._wrapper||null},y.prototype.getColumnName=function(t){if(this._compositeGrid){var e=this._compositeGrid.getColumnModel(t);if(e)return e.title?e.title:e.field}else{var r=this.getColumnIndex(t),n=this._realTimeGrid.getColumnDefinition(r);if(n)return n.getName()}return""},y.prototype.getColumnIndex=function(t){if("number"==typeof t)return t;if(this._compositeGrid){var e=this._compositeGrid.getColumnFields().indexOf(t);return e>-1?e:this._compositeGrid.getColumnIndex(t)}return this._realTimeGrid.getColumnIndex(t)},y.prototype.getColumnIndices=function(t){if(this._compositeGrid){for(var e,r=this._compositeGrid.getColumnFields(),n=this._compositeGrid.getColumnCount(),i=[],o=0;o<t.length;o++)if("number"==typeof(e=t[o]))e>=0&&e<n&&i.push(e);else{var s=r.indexOf(e);-1!==s&&i.push(s)}return i}return this._realTimeGrid.getColumnIndices(t)},y.prototype.getColumnId=function(t){if("string"==typeof t)return t;var e=this.getColumnCount();if(t<0||t>=e)return"";if(this._compositeGrid)return this._compositeGrid.getColumnId(t);var r=this._realTimeGrid.getColumnDefinition(t);return r?r.getId():""},y.prototype.getColumnIds=function(){return this._hosts&&this._hosts.length?this._hosts[0].getColumnIds():[]},y.prototype.getColumnField=function(t){return this._hosts&&this._hosts.length?this._hosts[0].getColumnField(t):""},y.prototype.getColumnFields=function(){return this._hosts&&this._hosts.length?this._hosts[0].getColumnFields():[]},y.prototype.getColumnCount=function(){if(this._hosts){var t=this._hosts[0];return t?t.getColumnCount():0}return 0},y.prototype._moveColumnById=function(t,e){var r=this._hosts,n=r?r.length:0;if(n){for(var i=0,o=0;o<n;++o)i|=r[o].moveColumnById(t,e);return!!i}return!1},y.prototype._reorderColumns=function(t,e){var r=this._hosts,n=r?r.length:0;if(n){for(var i=0,o=0;o<n;++o)i|=r[o].reorderColumns(t,e);return!!i}return!1},y.prototype._loadPlugin=function(t,e,r){return t||(t=e.getPlugin(r))||(t=e.loadPlugin(r))&&this._initializedGrid&&(t._initializedGrid=!0),t},y.prototype._requestPlugin=function(t,e,r){return this._initializedGrid?y.requestPlugin(t,e,r,this._compositeGrid,this._realTimeGrid):Promise.reject("Plugin should be requested after the initialization")},y.requestPlugin=function(t,e,r,n,i){var o=null;if(t){var s=null;1===t.nodeType?s=t.api:t.getCoreGrid?s=t:t.getPlugin&&(o=t),s&&(o=s.getCoreGrid(),n||i||(s.getModel?n=s:i=s))}if(!o)return Promise.reject("Cannot find grid element");var u=o.getPlugin(e);if(u)return Promise.resolve(u);var l=new v;return setTimeout(y._onPluginRequested.bind(null,{grid:o,pluginRef:e,compositeGrid:n,realTimeGrid:i,config:r,deferred:l}),10),l.promise},y._onPluginRequested=function(t){var e=t.grid;if(!e.getElement())return t.deferred.reject("Grid has been disposed before the plugin is fully loaded: "+t.pluginRef);var r=e.getPlugin(t.pluginRef);if(r)return t.deferred.resolve(r);var n=!1;return t.pluginRef.beforeInit&&(n=!0,t.pluginRef.beforeInit(e.getElement(),t.config,!0)),(r=e.loadPlugin(t.pluginRef,t.config))?(!n&&r.beforeInit&&(n=!0,r.beforeInit(e.getElement(),t.config)),r.setGridWrapper&&(t.compositeGrid?r.setGridWrapper("compositegrid",t.compositeGrid):t.realTimeGrid&&r.setGridWrapper("realtimegrid",t.realTimeGrid)),r.afterInit&&r.afterInit(),t.deferred.resolve(r)):t.deferred.reject("Unable to load required dependency: "+t.pluginRef)},y.prototype._getPlugin=function(t,e){return null==e&&(e=this._hosts[0]),e?e.getPlugin(t):null},y.prototype._getColumnData=function(t,e){return null==e&&(e=this._hosts[0]),e?e.getColumnData(t):null},y.prototype._getColumnOption=function(t,e,r){var n=this._getColumnData(t,r);return n?n[e]:null},y.prototype._newColumnData=function(t,e){if(null==e&&(e=this._hosts[0]),!e)return{};var r=e.getColumnData(t);return r||(r=e.setColumnData(t,{})),r},y.prototype._getField=function(t){var e=this._compositeGrid||this._realTimeGrid;return e?e.getColumnField(t):""},y.prototype._getRowData=function(t){return this._realTimeGrid&&t?t.ROW_DEF.getRowData():t},y.prototype._getRow=function(t,e){return D(t.getRowDataAt(e))},y.prototype._getData=function(t,e,r){var n=this._getRow(t,e);return n?n[r]:void 0},y.prototype._setData=function(t,e,r,n){if(this._realTimeGrid){var i=C(t,e);i&&i.setData(r,n)}else"number"==typeof e?t.setDataAt(e,r,n):t.setData(e,r,n)},y.prototype._setRowData=function(t,e,r){if(this._realTimeGrid){var n=C(t,e);n&&n.setRowData(r)}else"number"==typeof e?t.setRowDataAt(e,r):t.setRowData(e,r)},y.prototype._setStaticData=function(t,e,r,n){if(this._realTimeGrid){var i=C(t,e);i&&i.setStaticData(r,n)}else this._setData(t,e,r,n)},y.prototype._setColumnData=function(t,e,r,n){if(e){var i=Array.isArray(n)?n:t.getAllRowIds(!0),o=i?i.length:0;if(o)if(1!==o){var s=Array.isArray(r)?r:i.map((function(){return r}));if(this._realTimeGrid){for(var u=0;u<o;++u){var l=t.getRowData(i[u]);if(l){var p=l.ROW_DEF;p&&(p.getRowData()[e]=s[u])}}t.dispatchGlobalChange||(t=t.getDataSource()),t&&t.dispatchGlobalChange&&t.dispatchGlobalChange()}else t.setColumnData(e,s,i)}else this._setData(t,i[0],this._selectionField,Array.isArray(r)?r[0]:r)}},y.prototype._activateColumnRenderer=function(t,e,r){if(null!=t){var n=this._realTimeGrid;n?n.activateColumnRenderer(t,e,r):"function"==typeof r?this._hosts[0].setColumnDataBindingHandler(t,r):this._hosts[0].setColumnDataBindingHandler(t,null)}};var C=function(t,e){var r="number"==typeof e?t.getRowDataAt(e):t.getRowData(e);return r&&r.ROW_DEF||null},G=function(t){return t},I=function(t){return t?t.ROW_DEF.getRowData():null},D=function(t){if(t){var e=t.ROW_DEF;return e?e.getRowData():t}return null},P=function(){this._groupMap={},this._childToParent={}};P.prototype._groupMap,P.prototype._childToParent,P.getGroupId=function(t){return t&&t.id||""},P.calcTreeDepth=function(t,e){for(var r=-1,n=e;n;){if(++r>15){console.log("WARNING: Infinite loop detected during column group creation");break}n=t[n.parentId]}return r},P.getLeafDescendants=function(t,e){var r=t[e];if(!r)return null;for(var n=[],i=[r],o=0,s={};o<i.length;){s[(r=i[o++]).id]=!0;for(var u=r.children,l=u.length,p=0;p<l;++p){var a=u[p];(r=t[a])?s[r.id]||i.push(r):n.push(a)}}return n},P._cloneObject=function(t){var e=d(t);return Array.isArray(e.children)?e.children=e.children:e.children=[],e},P._cloneGroupMap=function(t){var e={};for(var r in t){var n=t[r],i=P._cloneObject(n);i.children=n.children.slice(),e[r]=i}return e},P._toGroupDefinition=function(t,e){var r=null;return t&&(r=Array.isArray(t)?{children:t}:P._cloneObject(t),e&&(r.id||(r.name=e),r.id=e)),r},P.prototype.toString=function(){var t=this._groupMap,e=[];for(var r in e.push("=== groupDefs ==="),t){var n=t[r];e.push(r+": "+JSON.stringify(n,["id","parentId","children"]))}return e.push("=== childToParent ==="),e.push(JSON.stringify(this._childToParent,null,2)),e.push(""),e.join("\n")},P.prototype.getGroup=function(t){return t&&this._groupMap[t]||null},P.prototype.getDefinition=P.prototype.getGroup,P.prototype.getGroups=function(){var t=[],e=this._groupMap;for(var r in e)t.push(e[r]);return t},P.prototype.getGroupIds=function(){return Object.keys(this._groupMap)},P.prototype.getGroupMap=function(){return this._groupMap},P.prototype.cloneGroupMap=function(){return P._cloneGroupMap(this._groupMap)},P.prototype.getGroupChildren=function(t){var e=this._groupMap[t];return e?e.children:null},P.prototype.getLeafDescendants=function(t){return P.getLeafDescendants(this._groupMap,t)},P.prototype.getGroupLevel=function(t){return P.calcTreeDepth(this._groupMap,this._groupMap[t])},P.prototype.getRootGroup=function(t){if(!t)return null;var e=this._groupMap,r=e[t]||null;if(r)for(;r.parentId;){var n=e[r.parentId];if(!n)break;r=n}return r},P.prototype.getParentGroup=function(t){return this.getGroup(this._childToParent[t])},P.prototype.getParentIds=function(t){if(t&&"string"==typeof t){var e=this._childToParent[t];if(e){for(var r=[e],n=this._groupMap[e];n&&n.parentId;)(n=this._groupMap[n.parentId])&&r.push(n.id);return r}}return null},P.prototype.getParentId=function(t,e){var r=this._childToParent[t];if(null!=e)for(var n=this.getGroupLevel(r);n>e&&r;)r=this._childToParent[r],n--;return r||""},P.prototype.removeAllGroups=function(){for(var t in this._groupMap)return this._groupMap={},this._childToParent={},!0;return!1},P.prototype.setGroups=function(t){var e,r=this._groupMap={},n=this._childToParent={},i=t?t.length:0,o="";for(e=0;e<i;e++){var s=t[e];(o=s.id)&&(r[o]=s)}var u=Object.keys(r);for(i=u.length,e=0;e<i;++e)for(var l=r[o=u[e]].children,p=l.length,a=0;a<p;a++)n[l[a]]=o;for(e=0;e<i;++e){var h=n[o=u[e]];h&&(r[o].parentId=h)}},P.prototype.addGroup=function(t){var e=P.getGroupId(t);return e?this.setGroup(e,t):e},P.prototype.removeGroup=function(t){return!!this._groupMap[t]&&(this.removeAllChildren(t),this.unsetParent(t),delete this._groupMap[t],!0)},P.prototype.setGroup=function(t,e){if(!t)return"";if(e){var r=P._toGroupDefinition(e,t);this._ungroupChildren(r.children),this._groupMap[t]&&this.removeAllChildren(t);var n=this._childToParent[t];n&&(r.parentId=n.id),this._groupMap[t]=r;for(var i=r.children,o=i.length,s=0;s<o;++s){var u=i[s];this._childToParent[u]=t;var l=this._groupMap[u];l&&(l.parentId=t)}}else if(!this.removeGroup(t))return"";return t},P.prototype._ungroupChildren=function(t){if(Array.isArray(t))for(var e=t.length,r=0;r<e;++r)this.unsetParent(t[r])},P.prototype.hasGroupChild=function(t,e){var r=this._groupMap[t];if(e&&r){var n=r.children;if(n)return n.indexOf(e)>=0}return!1},P.prototype.addGroupChild=function(t,e,r){var n=this._groupMap[t];if(e&&n){var i=n.children;if(i&&i.indexOf(e)<0){this.unsetParent(e),this._childToParent[e]=t;var o=this._groupMap[e];return o&&(o.parentId=t),null!=r&&r>=0?i.splice(r,0,e):i.push(e),!0}}return!1},P.prototype.removeGroupChild=function(t,e){return null==e?this.unsetParent(t):!!this.hasGroupChild(t,e)&&this.unsetParent(e)},P.prototype.unsetParent=function(t){var e=this._childToParent[t];if(!e)return!1;this._childToParent[t]="";var r=this._groupMap[t];r&&(r.parentId="");var n=this._groupMap[e];if(n){var i=n.children;if(i.length){var o=i.indexOf(t);o>=0&&i.splice(o,1)}}return!0},P.prototype.removeAllChildren=function(t){var e=this._groupMap[t];if(e){var r=e.children,n=r.length;if(n){e.children=[];for(var i=0;i<n;++i){var o=r[i];this._childToParent[o]&&(this._childToParent[o]="");var s=this._groupMap[o];s&&(s.parentId="")}return!0}}return!1},P.prototype.setGroupChildren=function(t,e){var r=this._groupMap[t];if(r){if(Array.isArray(e)){var n=e.slice();this._ungroupChildren(n),this.removeAllChildren(t),r.children=n;for(var i=r.id,o=n.length,s=0;s<o;++s){var u=n[s];this._childToParent[u]=i;var l=this._groupMap[u];l&&(l.parentId=i)}return!0}if(!e&&r.children.length)return this.removeAllChildren(t),!0}return!1},P.prototype.getGroupName=function(t){var e=this._groupMap[t];return e&&e.name||""},P.prototype.setGroupName=function(t,e){var r=this._groupMap[t];return!(!r||r.name===e)&&(r.name=e,!0)};var b=function(t){var e=this;e._hosts=[],e._onColumnChanged=e._onColumnChanged.bind(e),e._onColumnAdded=e._onColumnAdded.bind(e),e._onColumnMoved=e._onColumnMoved.bind(e),e._onColumnRemoved=e._onColumnRemoved.bind(e),e._requestApplyAddChildGroup=e._requestApplyAddChildGroup.bind(this),e._onPostSectionRender=e._onPostSectionRender.bind(e),e._onBeforeColumnBoundUpdate=e._onBeforeColumnBoundUpdate.bind(e),e._onPinningChanged=e._onPinningChanged.bind(this),e._groupDefs=new P,t&&e.config({columnGrouping:t})};h.inherits(b,y),b.prototype._groupDefs,b.prototype._visibleGroupMap,b.prototype._maxDepth=0,b.prototype._restructuring=!1,b.prototype._rerenderTimerId=0,b.prototype._addingTimerId=0,b.prototype._addingEvents=null,b.prototype._legacyColumnGroups=null,b.prototype._inPinning=!1,b._ascSortLogic=function(t,e){return t-e},b._getTooltip=function(t){var e=t.tooltip,r=t.title||t.name;if(null!=e){if("string"==typeof e)return e;if(!0===e)return r;if(!1===e)return""}return r},b._hasGroupId=function(t){return!(!t||!t.id)},b._toGroupDefinition=function(t,e){var r=null;return t&&(r=Array.isArray(t)?{children:t}:b._cloneObject(t),e&&(r.id||(r.name=e),r.id=e)),r},b._cloneObject=function(t){var e=d(t);return Array.isArray(e.children)?e.children=e.children:e.children=[],e},b._flattenGroupDefs=function(t){for(var e=t?t.length:0,r=0;r<e;r++)b._recursivelyFlatten(t[r],t)},b._recursivelyFlatten=function(t,e){if(t&&t.children)for(var r,n,i=t.children,o=0;o<i.length;o++)"string"!=typeof(r=i[o])&&(n=r.id)&&(i[o]=n,e.indexOf(r)<0&&e.push(r),b._recursivelyFlatten(r,e))},b.prototype.getName=function(){return"ColumnGroupingPlugin"},b.prototype.hasMultiTableSupport=function(){return!0},b.prototype.initialize=function(t,e){this._hosts.indexOf(t)>=0||(this._hosts.push(t),"function"==typeof t.setColumnGrouping&&t.setColumnGrouping(this._groupDefs),this._addingEvents||(this._addingEvents=[]),1===this._hosts.length&&(t.listen("columnAdded",this._onColumnAdded),t.listen("columnMoved",this._onColumnMoved),t.listen("columnRemoved",this._onColumnRemoved),t.listen("columnVisibilityChanged",this._onColumnChanged),t.listen("postSectionRender",this._onPostSectionRender),t.listen("beforeColumnBoundUpdate",this._onBeforeColumnBoundUpdate),t.listen("pinningChanged",this._onPinningChanged)),this.config(e),this._legacyColumnGroups=null,this._initializedGrid&&t.getSection("title")&&this._applyGrouping(),b._styles||(b._styles=function(t){if(t){var e="";if(Array.isArray(t))e=t.map(g).join("\n").replace(/{\s*{/g,"{").replace(/\s+{/g," {");else e="string"==typeof t?t:t+"";if(e)return e.replace(/{[\w\W]*?}/g,_)}return""}([".tr-grid .title .column .cell:not(:last-child)",["box-shadow: none;"]])),t._columnGroupingStyles||(t._columnGroupingStyles=!0,c(b._styles,t.getElement())))},b.prototype.beforeProcessOption=function(t,e){if("columnGroups"===t)return this._legacyColumnGroups=e,!1},b.prototype._afterInit=function(){this._applyGrouping()},b.prototype.unload=function(t){var e=this._hosts.indexOf(t);e<0||(this._hosts.splice(e,1),"function"==typeof t.setColumnGrouping&&t.setColumnGrouping(null),t.unlisten("columnAdded",this._onColumnChanged),t.unlisten("columnMoved",this._onColumnMoved),t.unlisten("columnRemoved",this._onColumnRemoved),t.unlisten("postSectionRender",this._onPostSectionRender),t.unlisten("beforeColumnBoundUpdate",this._onBeforeColumnBoundUpdate),t.unlisten("pinningChanged",this._onPinningChanged),this._hosts.length||(this._rerenderTimerId&&(clearTimeout(this._rerenderTimerId),this._rerenderTimerId=0),this._addingTimerId&&(clearTimeout(this._addingTimerId),this._addingTimerId=0,this._addingEvents.length=0)),this._dispose())},b.prototype.config=function(t){if(t){var e=t.columnGrouping,r=null;Array.isArray(e)&&(r=(r=e.filter(b._hasGroupId)).map(b._cloneObject));var n=t.columns;n&&(r=this._migrateLegacyStructure(r,n)),r&&(b._flattenGroupDefs(r),this._groupDefs.setGroups(r))}},b.prototype.getConfigObject=function(t){var e=t||{},r=this.getGroupDefinitions();return r.length&&(e.columnGrouping=r),e},b._mapParentToChildren=function(t,e,r){if(e&&r){var n=t[e];return n||(n=t[e]=[]),n.push(r),!0}return!1},b.prototype._migrateLegacyStructure=function(t,e){var r=this._legacyColumnGroups;if(!r||!this._compositeGrid)return t;t||(t=[]);for(var n=e.length,i={},o=0;o<n;++o){var s=e[o];s&&b._mapParentToChildren(i,s.columnGroup,s.id)}var u,l,p=r.length;for(u=0;u<p;++u)(l=r[u])&&b._mapParentToChildren(i,l.parent,l.id);for(u=0;u<p;++u)if((l=b._cloneObject(r[u]))&&l.id){var a=i[l.id];l.children=a||[],l.formatter&&l.formatter.render&&(l.legacyRender=l.formatter.render,delete l.formatter),t.push(l)}return t.filter(b._hasGroupId)},b.prototype._freezeColumn=function(t,e){this._inPinning=!0;for(var r=this._hosts,n=0;n<r.length;n++)r[n].freezeColumn(t,e);this._inPinning=!1},b.prototype._applyPinning=function(){var t,e,r,n=this.getColumnCount(),i=this.getColumnIds(),o=this._hosts[0].getFrozenColumnCount()-1,s=this._hosts[0].getFirstPinnedRightIndex(),u=!1;for(t=n;t>o;t--)if(e=this._groupDefs.getParentId(i[t]),(r=this._visibleGroupMap[e])&&r.leftPinned){o=t,u=!0;break}for(t=o;t<s;t++)if(e=this._groupDefs.getParentId(i[t]),(r=this._visibleGroupMap[e])&&r.rightPinned){s=t,u=!0;break}if(u){var l=n-s;this._freezeColumn(o,l)}},b.prototype._applyGrouping=function(){if(this._rerenderTimerId=0,!this._restructuring){var t,e,r,n,i,o;this._restructuring=!0,this._evaluateGroupStructure(),this._applyPinning();var s=this._maxDepth+1,u=this._hosts.length;for(t=u;--t>=0;)if(i=this._hosts[t].getSection("title")){for(i.setRowCount(s),i.clearCellSpans(),o=i.getColumnCount(),e=0;e<o;e++)for(r=0;r<s;r++)(n=i.getCell(e,r,!1))&&(n.removeClass("no-sort"),n.removeAttribute("group-id"));this._spanGroupVertically(i),this._spanGroupHorizontally(i)}for(this._restructuring=!1,t=u;--t>=0;){var l=this._hosts[t].getSectionSettings("title");l&&l.rerender()}}},b.prototype._evaluateGroupStructure=function(){var t=this._visibleGroupMap=this._groupDefs.cloneGroupMap();this._verifySingleChild(t),this._verifyColumnPinning(t);var e=this._maxDepth=-1;for(var r in t){var n=t[r],i=n.parentId;i&&(t[i]||(n.parentId=""));var o=P.calcTreeDepth(t,n);n.onRow=o,o>e&&(e=o)}this._maxDepth=e+1},b.prototype._setGroupPinning=function(t,e){if(t&&!t.leftPinned&&!t.rightPinned){"left"===e?t.leftPinned=!0:t.rightPinned=!0;for(var r=t.children,n=0;n<r.length;n++){var i=r[n],o=this._visibleGroupMap[i];o&&this._setGroupPinning(o,e)}}},b.prototype._verifyColumnPinning=function(t){var e,r,n,i,o=this._hosts[0],s=o.getFrozenColumnCount()-1,u=o.getFirstPinnedRightIndex(),l=this.getColumnCount(),p=this._groupDefs,a=this._visibleGroupMap;if(s>=0)for(e=s;e>=0;e--)i=this.getColumnId(e),(r=p.getParentId(i))&&a[r]&&(n=p.getRootGroup(r))&&this._setGroupPinning(a[n.id],"left");if(u<l)for(e=u;e<l;e++)i=this.getColumnId(e),(r=p.getParentId(i))&&a[r]&&(n=p.getRootGroup(r))&&this._setGroupPinning(a[n.id],"right")},b.prototype._verifySingleChild=function(t){if(this.getGridApi()){var e,r,n=this._hosts[0],i=this.getColumnCount(),o={};for(e=0;e<i;e++){var s=this.getColumnId(e);s&&n.isColumnVisible(e)&&(o[s]=1)}var u=Object.keys(t),l=u.length;for(e=0;e<l;e++)o[u[e]]=1;for(var p=!0;p;)for(p=!1,e=0;e<l;e++){var a=u[e],h=t[a];if(h){var d=h.children,f=d.length,g=[];for(r=0;r<f;r++){var _=d[r];o[_]&&g.push(_)}g.length<2?(delete t[a],o[a]=0,p=!0):h.children=g}}}},b.prototype._requestApplyGrouping=function(){this._rerenderTimerId||(this._rerenderTimerId=setTimeout(this._applyGrouping.bind(this),10))},b.prototype._applyNearestGrouping=function(t){if(!(null==t||t<0)){var e=this.getColumnId(t),r=t-1,n=t+1,i=this.getGroupIds(r),o=this.getGroupIds(n),s=i?i.length:0,u=o?o.length:0,l=this._groupDefs.getParentId(e);if(l){var p=this._groupDefs.getGroupChildren(l),a=p?p.length:0;if(a<=1)return;if(s&&i[0]===l)return;if(u&&o[0]===l)return;if(this._groupDefs.unsetParent(e)&&1===(a=(p=this._groupDefs.getGroupChildren(l))?p.length:0)){var h=this._groupDefs.getParentId(l);h&&this._groupDefs.addGroupChild(h,p[0])}}if(s&&u)for(var d=0;d<s;d++){var f=i[d],g=o.indexOf(f);if(g>=0){this._groupDefs.addGroupChild(o[g],e);break}}}},b.prototype._spanGroupVertically=function(t){var e=this.getGridApi();if(e)for(var r=this._hosts[0],n=this._maxDepth+1,i=e.getColumnCount(),o=0;o<i;o++){var s=n,u=this._getVisibleParentGroup(this.getColumnId(o));if(u)s=n-(u.onRow+1);r.isColumnVisible(o)&&s>1&&t.setCellRowSpan(o,n-s,s)}},b.prototype._spanGroupHorizontally=function(t){var e,r,n,i,o,s,u=t,l=this._visibleGroupMap;for(var p in l){for(r=[],e=l[p],i=P.getLeafDescendants(l,p),s=0;s<i.length;s++)(o=this._getColumnIndexById(i[s]))>-1&&r.push(o);if(r.sort(b._ascSortLogic),(n=r.length)>0){var a=r[0],h=r[n-1];u.setCellColSpan(a,e.onRow,h-a+1),e.colIndex=a}}},b.prototype.renderGroups=function(){for(var t=this._hosts.length,e=this._visibleGroupMap,r=0;r<t;++r){var n=this._hosts[r].getSection("title");if(n)for(var i in e)this._renderGroup(e[i],n)}},b.prototype._renderGroup=function(t,e){var r=t.colIndex;if(null!=r){var n=t.onRow,i=e.getCell(r,n);if(i&&(i.setStyle("text-align",t.alignment||""),i.setTooltip(b._getTooltip(t)),i.setContent(t.name||t.title),i.addClass("no-sort"),i.setAttribute("group-id",t.id),t.legacyRender&&t.legacyRender(r,i,t),t.render)){var o={};o.cell=i,o.colIndex=r,o.groupNode=t,t.render(o)}}},b.prototype._onPostSectionRender=function(t){"title"!==t.sectionType||this._restructuring||this.renderGroups()},b.prototype._requestApplyAddChildGroup=function(t){var e=t.context;(e?e.parent:null)&&(this._addingEvents.push(t),this._addingTimerId||(this._addingTimerId=setTimeout(this._applyTimeSeries.bind(this,t),10)))},b.prototype._applyTimeSeries=function(t){this._addingTimerId=0;var e=this._addingEvents;if(this._addingEvents=[],e.length>0){for(var r,n=[],i=0;i<e.length;i++){var o=e[i];if(r=o.context.parent){var s=o.colIndex,u=this.getColumnId(s);n.push(u)}}if(r){var l=r.getName(),p="timeSerieGroup_"+r.getId();if(this._groupDefs.getGroup(p))for(i=0;i<n.length;i++)this._groupDefs.addGroupChild(p,n[i]);else this.addGroup({id:p,title:l,children:n})}}this._requestApplyGrouping()},b.prototype._onColumnAdded=function(t){var e=t.batches;e&&e.reset||(this._requestApplyAddChildGroup(t),this._applyNearestGrouping(t.colIndex)),this._requestApplyGrouping()},b.prototype._onColumnChanged=function(){this._requestApplyGrouping()},b.prototype._onColumnMoved=function(t){var e=t.batches;e&&e.move||this._applyNearestGrouping(t.toColIndex),this._requestApplyGrouping()},b.prototype._onColumnRemoved=function(t){var e=t.batches;if(e&&e.reset)this._requestApplyGrouping();else{var r=t.colId;r&&this._groupDefs.unsetParent(r)&&this._requestApplyGrouping()}},b.prototype._onPinningChanged=function(t){if(!this._inPinning){var e=this._visibleGroupMap;for(var r in e){var n=e[r];n.leftPinned=!1,n.rightPinned=!1}this._verifyColumnPinning(),this._applyPinning()}},b.prototype._onBeforeColumnBoundUpdate=function(t){var e,r,n,i,o=t.selectedColumns,s=[],u={};for(e=0;e<o.length;e++)if(r=this.getColumnId(o[e])){if(!(i=this._groupDefs.getParentId(r))){n=r;break}u[i]=this._groupDefs.getGroup(i),s.push(r)}if(n)t.topBoundRowIndex=0;else{var l,p,a,h,d,f,g,_=this._maxDepth,c={};for(i in u)c[(p=this._groupDefs.getRootGroup(i)).id]=p,(l=u[i].onRow+1)<_&&(_=l);var m=c;for(e=0;e<_;e++)for(i in f=m,m={},f){if(p=f[i],d=!0,(h=this._groupDefs.getLeafDescendants(i)).length<=s.length){for(a=0;a<h.length;a++)if(s.indexOf(h[a])<0){d=!1;break}if(d)return void(t.topBoundRowIndex=e)}for(g=p.children,a=0;a<g.length;a++){var v=g[a];(p=this._groupDefs.getGroup(v))&&(m[v]=p)}}t.topBoundRowIndex=_}},b.prototype.addColumnToGroup=function(t,e,r){if(t){var n=this.getColumnCount();if(null!=r)this._groupDefs.getGroup(e)&&this._groupDefs.addGroupChild(e,t.id),n=r;this._realTimeGrid?this._realTimeGrid.insertColumn(t,n):this._compositeGrid&&this._compositeGrid.insertColumn(n,t),null==r&&this.setColumnParent(t.id||destColIndex,e)}},b.prototype.addGroup=function(t){return b._hasGroupId(t)?this.setGroupDefinition(t.id,t):""},b.prototype.addColumnGrouping=b.prototype.addGroup,b.prototype.removeGroup=function(t){return!!this._groupDefs.removeGroup(t)&&(this._applyGrouping(),!0)},b.prototype.getGroupDefinition=function(t){var e=this._getAvaliableChildren(t);if(e.length>1){var r=this._groupDefs.getGroup(t);return(r=b._cloneObject(r)).children=e,r}return null},b.prototype.getGroupDefinitions=function(){var t=[],e=this._groupDefs.getGroupMap();for(var r in e){var n=this.getGroupDefinition(r);n&&(delete n.parentId,t.push(n))}return t},b.prototype.setGroupDefinition=function(t,e){if(this._groupDefs.setGroup(t,e)){var r=this._groupDefs.getGroup(t);if(r){var n=this._hosts[0].getValidColumnList(r.children).map(b.getObjectId);n.length>1&&this.reorderColumns(n,n[0])}return this._applyGrouping(),t}return""},b.prototype.setGroupDefinitions=function(t){t=Array.isArray(t)?(t=t.filter(b._hasGroupId)).map(b._cloneObject):null,b._flattenGroupDefs(t),this._groupDefs.setGroups(t),this._applyGrouping()},b.prototype.setGroupChildren=function(t,e){return!!this._groupDefs.setGroupChildren(t,e)&&(this._applyGrouping(),!0)},b.prototype.setGroupName=function(t,e){if(this._groupDefs.setGroupName(t,e)){var r=this._visibleGroupMap[t];if(r){r.name=e;for(var n=this._hosts.length,i=0;i<n;++i){var o=this._hosts[i].getSection("title");o&&this._renderGroup(r,o)}}}},b.prototype._getAvaliableChildren=function(t){var e=this._groupDefs.getGroupChildren(t),r=e?e.length:0,n=[];if(r){n=this._hosts[0].getValidColumnList(e).map(b.getObjectId);for(var i=this._groupDefs.getGroupMap(),o=0;o<r;o++){var s=e[o];i[s]&&n.push(s)}}return n},b.prototype.getGroupChildren=function(t){var e=this._getAvaliableChildren(t);return e.length>1?e:null},b.prototype.getChildColumnIndices=function(t){var e=this._hosts[0],r=this._groupDefs.getLeafDescendants(t);return r?e.getValidColumnList(r).map(b.getObjectIndex):null},b.prototype.getGroupIds=function(t){if(null==t)return null;var e="number"==typeof t?this.getColumnId(t):t;return this._groupDefs.getParentIds(e)},b.prototype.getMaxGroupLevel=function(){return this._maxDepth},b.prototype.getGroupLevel=function(t){var e=this._visibleGroupMap[t];return e?e.onRow:-1},b.prototype._getColumnIndexById=function(t){if(this.getGridApi()&&t)for(var e=this._hosts[0],r=e.getColumnCount(),n=0;n<r;n++)if(this.getColumnId(n)===t&&e.isColumnVisible(n))return n;return-1},b.prototype._getVisibleParentGroup=function(t){return this._visibleGroupMap[this._groupDefs.getParentId(t)]||null},b.prototype.getCellInfo=function(t){var e=this.getGridApi(),r=t.grid||this.getRelativeGrid(t);if(!e||!r)return null;var n=r.getCellInfo(t);if(!n)return t;if(!n.cell){var i=n.section.getCell(n.colIndex,n.rowIndex);n.cell=i}var o=this.getColumnId(n.colIndex),s=this._groupDefs.getParentId(o,"title"==n.sectionType?n.rowIndex:null);if(!s)return n.columnId=o,n;var u=this._groupDefs.getGroup(s);if(u){var l="title"==n.sectionType&&n.rowIndex==this.getGroupLevel(s);l?(n.groupId=u.id,n.groupName=u.name||"",n.children=u.children):n.columnId=o,n.parent=l?u.parentId||null:u.id}return n},b.prototype.moveColumnIntoGroup=function(t,e,r){var n=this.getColumnIndex(t);if(-1!=n){var i=this._groupDefs.getGroup(r);if(i){var o=this.getChildColumnIndices(r),s=-1,u=-1;o&&o.length?(s=o[0],u=o[o.length-1]):(s=0,u=this.getColumnCount()),e<s?(e=s)>n&&(e-=1):e>u&&(e=u)<n&&(e+=1);for(var l=0;l<i.children.length;l++){var p=this.getChildColumnIndices(i.children[l]);if(p&&p.length){var a=p[0],h=p[p.length-1];e>n&&(a-=1),e<n&&(h+=1),e>a&&e<h&&(e=h)}}for(var d=this.getColumnId(n),f=this._hosts.length;--f>=0;){this._hosts[f].moveColumn(n,e)}d&&this._groupDefs.addGroupChild(r,d)&&this._applyGrouping()}else for(var g=this._hosts.length;--g>=0;){this._hosts[g].moveColumn(n,e)}}},b.prototype.setColumnParent=function(t,e){return e?this.addGroupChild(e,t):this.unsetParent(t)},b.prototype.addGroupChild=function(t,e){if(!this._groupDefs.getGroup(t))return!1;var r="";if("string"==typeof e)if(this._groupDefs.getGroup(e)){if(this._groupDefs.addGroupChild(t,e))return this._applyGrouping(),!0}else r=e;else r=this.getColumnId(e);if(!r)return!1;var n=this.getChildColumnIndices(t);return!!this._groupDefs.addGroupChild(t,r)&&(n&&n.length&&this.moveColumnById(r,n[n.length-1]+1)||this._applyGrouping(),!0)},b.prototype.removeGroupChild=function(t,e){if(!this._groupDefs.getGroup(t))return!1;var r="";if("string"==typeof e)if(this._groupDefs.getGroup(e)){if(this._groupDefs.unsetParent(e))return this._applyGrouping(),!0}else r=e;else r=this.getColumnId(e);if(!r)return!1;var n=t;0!==this._visibleGroupMap[t].onRow&&(n=this._groupDefs.getParentId(t,0));var i=this.getChildColumnIndices(n);return!!this._groupDefs.removeGroupChild(t,r)&&(i&&i.length>1&&this.moveColumnById(r,i[i.length-1]+1)||this._applyGrouping(),!0)},b.prototype.unsetParent=function(t){var e="string"==typeof t?t:this.getColumnId(t),r=this._groupDefs.getParentId(e);return!!r&&this.removeGroupChild(r,e)},b.prototype.getValidDestinationIndex=function(t,e){var r=null;(this._groupDefs.getGroup(t)||this.getColumnIndex(t)>-1)&&(r=this._getVisibleParentGroup(t));var n=-1,i=-1,o="string"==typeof e?this.getColumnIndex(e):e;if(r){var s=this.getChildColumnIndices(r.id);s&&s.length&&(n=s[0],i=s[s.length-1]),o<n&&-1!=o?o=this.getColumnId(n):(o>i||-1==o)&&(o=this.getColumnId(i+1));for(var u=this.getGroupChildren(r.id),l=0;l<u.length;l++){var p=u[l],a=this.getChildColumnIndices(p);if(a&&a.length&&(n=a[0],i=a[a.length-1],o>n&&o<=i)){o=i+1;break}}}else{var h=[],d=this.getColumnId(o),f=this._getVisibleParentGroup(d);f&&(f.parentId&&(f=this._groupDefs.getRootGroup(f.id)),h=this.getChildColumnIndices(f.id)),h&&h.length&&(n=h[0],i=h[h.length-1],o>n&&o<=i&&(o=i+1))}return o},b.prototype.moveGroup=function(t,e){var r,n=[];if(r=this._groupDefs.getGroup(t))for(var i=this.getChildColumnIndices(r.id),o=0;o<i.length;o++){var s=i[o],u=this.getColumnId(s);n.push(u)}else{if(!(this.getColumnIndex(t)>-1))return;n.push(t)}var l=this.getValidDestinationIndex(t,e),p=this.getColumnId(l);this.reorderColumns(n,p)},b.prototype.reorderColumns=function(t,e){return this._reorderColumns(t,e)},b.prototype.moveColumnById=function(t,e){return this._moveColumnById(t,e)},b.prototype.pinGroup=function(t,e){if(t){var r=this._visibleGroupMap[t];if(r){var n,i=this._hosts[0],o=i.getFrozenColumnCount()-1,s=i.getPinnedRightColumnCount(),u=this.getColumnCount(),l=this.getChildColumnIndices(t).length;if("right"===e){if(r.rightPinned)return;r.leftPinned&&(this.unpinGroup(t),o=i.getFrozenColumnCount()-1),r.rightPinned=!0,n=u-s,s+=l}else{if(r.leftPinned)return;r.rightPinned&&(this.unpinGroup(t),s=i.getPinnedRightColumnCount()),r.leftPinned=!0,n=-1===o?0:o+1,o+=l}this.moveGroup(t,n),this._freezeColumn(o,s)}}},b.prototype.unpinGroup=function(t,e){if(t){var r=this._visibleGroupMap[t];if(r&&(r.leftPinned||r.rightPinned)){var n=this._hosts[0],i=n.getFrozenColumnCount(),o=n.getPinnedRightColumnCount(),s=this.getColumnCount()-o,u=this.getChildColumnIndices(t).length,l=null;if(null!=e){var p=this.getColumnIndex(e);l=this.getColumnId(p)}r.leftPinned?(r.leftPinned=!1,this.moveGroup(t,i),this._freezeColumn(i-(1+u))):r.rightPinned&&(r.rightPinned=!1,this.moveGroup(t,s),this._freezeColumn(i-1,o-u)),null!=l&&this.moveGroup(t,l)}}},b.getObjectIndex=function(t){return t.index},b.getObjectId=function(t){return t.id};!function(t,e){if(t&&e&&e.prototype.getName){var r=e.prototype.getName().replace(/Plugin$/,"");if(r){var n=t.tr;n||(n=t.tr={});var i=n.grid;i||(i=n.grid={}),i[r+"Plugin"]=e,n[r+"Extension"]=e}}}(window,b)}]);