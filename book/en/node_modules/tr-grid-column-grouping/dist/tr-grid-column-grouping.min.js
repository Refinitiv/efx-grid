!function(t){var e={};function r(n){if(e[n])return e[n].exports;var i=e[n]={i:n,l:!1,exports:{}};return t[n].call(i.exports,i,i.exports,r),i.l=!0,i.exports}r.m=t,r.c=e,r.d=function(t,e,n){r.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:n})},r.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},r.t=function(t,e){if(1&e&&(t=r(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(r.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var i in t)r.d(n,i,function(e){return t[e]}.bind(null,i));return n},r.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return r.d(e,"a",e),e},r.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},r.p="",r(r.s=1)}([function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"a",(function(){return cloneObject})),__webpack_require__.d(__webpack_exports__,"c",(function(){return prettifyCss})),__webpack_require__.d(__webpack_exports__,"b",(function(){return injectCss}));var Util={post:function(t,e){return Util._post(t,e).then(Util.toJSON)},requestText:function(t,e){return Util._post(t,e,"text/plain").then(Util.toText)},requestByUrlEncoded:function(t,e){return Util._post(t,e,"application/x-www-form-urlencoded").then(Util.toJSON)},toJSON:function(t){return Util._logError(t)?Promise.reject(t):t.json()},toText:function(t){return Util._logError(t)?Promise.reject(t):t.text()},_logError:function(t){return!!(t&&t.status>=300)&&(console.log("Response "+t.status+": "+t.statusText),!0)},_post:function(t,e,r){var n={method:e?"POST":"GET",headers:{"Content-Type":r||"application/json"}};return e&&(n.body="string"==typeof e?e:JSON.stringify(e)),fetch(t,n)}},extendObject=function(t,e,r){if(!t)return null;if(!e||t===e)return t;var n;if(r)for(var i=r.length,o=0;o<i;++o)(n=r[o])&&extendProperty(t,e,n);else for(n in e)extendProperty(t,e,n);return t},cloneObject=function(t,e){return extendObject({},t,e)},arrayToObject=function(t,e){if(!Array.isArray(t))return t;if(!e)return null;var r=t;t={};for(var n=r.length,i=0;i<n;++i){var o=e[i];o&&void 0!==r[i]&&(t[o]=r[i])}return t},extendProperty=function(t,e,r){var n=e[r];if(null!=n){var i=t[r];Array.isArray(i)?t[r]=i.concat(n):Array.isArray(n)&&i?t[r]=n.concat(i):t[r]=n}},extendArrayProperty=function(t,e,r){var n=null;if(r){var i=t[e];n=i?Array.isArray(i)?i:t[e]=[i]:t[e]=[],Array.isArray(r)?r.length&&(r.length>1?Array.prototype.push.apply(n,r):n.push(r[0])):n.push(r)}return n},_bracketExp=new RegExp(/\[[^\[]*\]/g),parseCondition=function(expression){if(!expression)return null;if("string"!=typeof expression)return"function"==typeof expression?expression:null;for(var brackets=expression.match(_bracketExp),map={},fields=[],len=brackets?brackets.length:0,i=len;--i>=0;){var field=brackets[i];map[field]||(map[field]="f["+fields.length+"]",fields.push(field.substring(1,field.length-1)))}expression=expression.replace(_bracketExp,(function(t){return"rowData["+map[t]+"]"}));var finalExp="(function(f, rowData) { return ("+expression+"); })",fn=null;try{fn=eval(finalExp),fn=fn.bind(null,fields)}catch(t){console.log(t.message)}return fn||null},_encloseBracket=function(t){return Array.isArray(t)?"{\n"+t.join("\n")+"\n}":t},_indentBracketContent=function(t){return t.replace(/\n+/g,"\n\t").replace(/\n\t}$/,"\n}")},prettifyCss=function(t){if(t){var e="";if(Array.isArray(t))e=t.map(_encloseBracket).join("\n").replace(/{\s*{/g,"{").replace(/\s+{/g," {");else e="string"==typeof t?t:t+"";if(e)return e.replace(/{[\w\W]*?}/g,_indentBracketContent)}return""},getShadowRoot=function(t){var e;if(t&&(t.shadowRoot?e=t.shadowRoot:t.getRootNode&&(e=t.getRootNode()),e&&e!==document&&e!==t))return e;return null},injectCss=function(t,e){if(!t)return null;var r=document.createElement("style");r.textContent="\n"+t+"\n";var n,i=getShadowRoot(e),o=!0;return i||(o=!1,i=document.head),o&&i.children&&i.children.length&&(n=i.children[0]),n?i.insertBefore(r,n):i.appendChild(r),r},isIE=function(){var t=window.navigator.userAgent;return t.indexOf("MSIE ")>0||t.indexOf("Trident/")>0||t.indexOf("Edge/")>0},isMac=function(){return/Mac/.test(navigator.platform)},isTouchDevice=function(){return!!(navigator.maxTouchPoints&&navigator.maxTouchPoints<256||navigator.msMaxTouchPoints&&navigator.msMaxTouchPoints<256)},nestedObjectToArray=function(t,e){for(var r in e||(e=[]),t){var n=t[r];"object"==typeof n?nestedObjectToArray(n,e):e.push(n)}return e},rgb2Hex=function(t){if(!t||"string"!=typeof t)return"";if("#"===t.charAt(0))return t;var e=t.match(/\d+/g);if(!e||e.length<3)return t;for(var r="#",n=0;n<3;n++){var i=+e[n];i>=16||(r+="0"),r+=i?i.toString(16).toUpperCase():"0"}return r},prepareTSVContent=function(t){if(null==t)return"";var e="string"==typeof t?t:t.toString();return e.length?(e.indexOf("\n")>=0&&(e=e.replace(/[\r\n]/g," ")),e.indexOf("\t")>=0&&(e=e.replace(/\t/g," "))," "!==e.charAt(0)&&" "!==e.charAt(e.length-1)||(e=e.trim()),e):""},_unused_webpack_default_export=Util},function(t,e,r){"use strict";r.r(e);var n={inherits:function(t,e){function r(){}r.prototype=e.prototype,t.prototype=new r,t.prototype.constructor=t,t.base=function(t,r,n){r||(r="constructor");for(var i=arguments.length,o=new Array(i),u=2;u<i;u++)o[u-2]=arguments[u];return e.prototype[r].apply(t,o)}}},i=function(){};i.prototype._events=null,i.prototype._listenerCount=0,i.prototype.addEventListener=function(t,e){if(t&&e){this._events||(this._events={});var r=this._events[t];r?r.indexOf(e)<0&&(r.push(e),++this._listenerCount):(this._events[t]=[e],++this._listenerCount)}},i.prototype.removeEventListener=function(t,e){var r=this._events?this._events[t]:null;if(r){var n=r.indexOf(e);n>=0&&(r.splice(n,1),--this._listenerCount)}},i.prototype.removeAllEventListeners=function(){this._events=null,this._listenerCount=0},i.prototype.hasListener=function(t){if(this._listenerCount){if(t){var e=this._events?this._events[t]:null;return!!e&&e.length>0}return!0}return!1},i.prototype.getListener=function(t,e){if(t){var r=this._events?this._events[t]:null;if(r)return e||(e=0),r[e]||null}return null},i.prototype.addListener=function(t,e){var r=t?t[e]:null;"function"==typeof r&&this.addEventListener(e,r)},i.prototype._prepareEventArguments=function(t,e){return e},i.prototype._dispatch=function(t,e){var r=this._events?this._events[t]:null;if(r){e=this._prepareEventArguments(t,e);for(var n=r.length,i=0;i<n;++i)r[i](e)}};i.preventDefault=function(t){t&&t.preventDefault&&(t.preventDefault(),t.stopPropagation())};var o=function(t,e,r){this.resolve=this.resolve.bind(this),this.reject=this.reject.bind(this),"function"==typeof t&&(this._resolveHandler=t),"function"==typeof e&&(this._rejectHandler=e),null!=r&&(this._ctx=r),this.promise=new Promise(function(t,e){this._resolve=t,this._reject=e}.bind(this))};o.prototype.promise=null,o.prototype._resolve=null,o.prototype._reject=null,o.prototype._resolveHandler=null,o.prototype._rejectHandler=null,o.prototype._ctx=null,o.prototype._fulfilled=!1,o.prototype.resolve=function(t){if(this._resolve){if(this._resolveHandler){var e=this._resolveHandler(t,this._ctx||this);null!=e&&(t=e)}this._resolve(t),this._finally()}},o.prototype.reject=function(t){if(this._reject){if(this._rejectHandler){var e=this._rejectHandler(t,this._ctx||this);null!=e&&(t=e)}this._reject(t),this._finally()}},o.prototype.isFulfilled=function(){return this._fulfilled},o.prototype._finally=function(){this._fulfilled=!0,this._ctx=this._resolveHandler=this._rejectHandler=null,this._resolve=this._reject=null};var u=function(){};n.inherits(u,i),u.prototype._hosts=null,u.prototype._compositeGrid=null,u.prototype._realTimeGrid=null,u.prototype._rowGetter=null,u.prototype._initializedGrid=!1,u.prototype.listen=u.prototype.addEventListener,u.prototype.unlisten=u.prototype.removeEventListener,u.prototype.afterInit=function(t,e,r){var n=null;r&&r.getCoreGrid&&(n=r.getCoreGrid()),n&&(this.getGridApi()||this.setGridWrapper("compositegrid",r),this._compositeGrid&&n.loadPlugin(this,e)),this._initializedGrid||(this._initializedGrid=!0,this._rowGetter=this._realTimeGrid?l:s,this._afterInit())},u.prototype._afterInit=function(){},u.prototype._dispose=function(){this._hosts&&(this._hosts.length||(this._compositeGrid=this._realTimeGrid=null,this._initializedGrid=!1))},u.prototype.hasMultiTableSupport=function(){return!1},u.prototype._prepareEventArguments=function(t,e){return e||(e={}),e.api=this.getGridApi(),e},u.prototype.getName=function(){return"GridPlugin"},u.prototype.initialize=function(t,e){},u.prototype.unload=function(t){this._dispose()},u.prototype.getRelativeGrid=function(t){var e=null;if(t.target){var r=(e=t.target).api;if(r&&r.getCoreGrid)return r.getCoreGrid()}else t.getElement?e=t.getElement():1===t.nodeType&&(e=t);if(e)for(var n=this._hosts.length;--n>=0;){var i=this._hosts[n];if(i.getElement().contains(e))return i}return null},u.prototype.setGridWrapper=function(t,e){t&&("compositegrid"===(t=t.toLowerCase())?this._compositeGrid=e:"realtimegrid"===t&&(this._realTimeGrid=e))},u.prototype.getGridApi=function(t){if(null==t)return this._compositeGrid||this._realTimeGrid;var e="number"==typeof t?this._hosts[t]:t;return e&&e._wrapper||null},u.prototype.getColumnName=function(t){if(this._compositeGrid){var e=this._compositeGrid.getColumnModel(t);if(e)return e.title?e.title:e.field}else{var r=this.getColumnIndex(t),n=this._realTimeGrid.getColumnDefinition(r);if(n)return n.getName()}return""},u.prototype.getColumnIndex=function(t){if("number"==typeof t)return t;if(this._compositeGrid){var e=this._compositeGrid.getColumnFields().indexOf(t);return e>-1?e:this._compositeGrid.getColumnIndex(t)}return this._realTimeGrid.getColumnIndex(t)},u.prototype.getColumnIndices=function(t){if(this._compositeGrid){for(var e,r=this._compositeGrid.getColumnFields(),n=this._compositeGrid.getColumnCount(),i=[],o=0;o<t.length;o++)if("number"==typeof(e=t[o]))e>=0&&e<n&&i.push(e);else{var u=r.indexOf(e);-1!==u&&i.push(u)}return i}return this._realTimeGrid.getColumnIndices(t)},u.prototype.getColumnId=function(t){if("string"==typeof t)return t;if(this._compositeGrid)return this._compositeGrid.getColumnId(t);var e=this._realTimeGrid.getColumnDefinition(t);return e?e.getId():""},u.prototype.getColumnCount=function(){if(this._hosts){var t=this._hosts[0];return t?t.getColumnCount():0}return 0},u.prototype._loadPlugin=function(t,e,r){return t||(t=e.getPlugin(r))||(t=e.loadPlugin(r))&&this._initializedGrid&&(t._initializedGrid=!0),t},u.prototype._requestPlugin=function(t,e,r){return this._initializedGrid?u.requestPlugin(t,e,r,this._compositeGrid,this._realTimeGrid):Promise.reject("Plugin should be requested after the initialization")},u.requestPlugin=function(t,e,r,n,i){var s=null;if(t){var l=null;1===t.nodeType?l=t.api:t.getCoreGrid?l=t:t.getPlugin&&(s=t),l&&(s=l.getCoreGrid(),n||i||(l.getModel?n=l:i=l))}if(!s)return Promise.reject("Cannot find grid element");var p=s.getPlugin(e);if(p)return Promise.resolve(p);var a=new o;return setTimeout(u._onPluginRequested.bind(null,{grid:s,pluginRef:e,compositeGrid:n,realTimeGrid:i,config:r,deferred:a}),10),a.promise},u._onPluginRequested=function(t){var e=t.grid;if(!e.getElement())return t.deferred.reject("Grid has been disposed before the plugin is fully loaded: "+t.pluginRef);var r=e.getPlugin(t.pluginRef);if(r)return t.deferred.resolve(r);var n=!1;return t.pluginRef.beforeInit&&(n=!0,t.pluginRef.beforeInit(e.getElement(),t.config,!0)),(r=e.loadPlugin(t.pluginRef,t.config))?(!n&&r.beforeInit&&(n=!0,r.beforeInit(e.getElement(),t.config)),r.setGridWrapper&&(t.compositeGrid?r.setGridWrapper("compositegrid",t.compositeGrid):t.realTimeGrid&&r.setGridWrapper("realtimegrid",t.realTimeGrid)),r.afterInit&&r.afterInit(),t.deferred.resolve(r)):t.deferred.reject("Unable to load required dependency: "+t.pluginRef)},u.prototype._getPlugin=function(t,e){return null==e&&(e=this._hosts[0]),e?e.getPlugin(t):null},u.prototype._getColumnData=function(t,e){return null==e&&(e=this._hosts[0]),e?e.getColumnData(t):null},u.prototype._getColumnOption=function(t,e,r){var n=this._getColumnData(t,r);return n?n[e]:null},u.prototype._newColumnData=function(t,e){if(null==e&&(e=this._hosts[0]),!e)return{};var r=e.getColumnData(t);return r||(r=e.setColumnData(t,{})),r},u.prototype._getField=function(t){var e=this._compositeGrid||this._realTimeGrid;return e?e.getColumnField(t):""},u.prototype._getRowData=function(t){return this._realTimeGrid&&t?t.ROW_DEF.getRowData():t},u.prototype._getRow=function(t,e){return p(t.getRowDataAt(e))},u.prototype._getData=function(t,e,r){var n=this._getRow(t,e);return n?n[r]:void 0},u.prototype._setData=function(t,e,r,n){if(this._realTimeGrid){var i=t.getRowDataAt(e);i&&i.ROW_DEF.setData(r,n)}else t.setDataAt(e,r,n)},u.prototype._setRowData=function(t,e,r){if(this._realTimeGrid){var n=t.getRowDataAt(e);n&&n.ROW_DEF.setRowData(r)}else t.setRowDataAt(e,r)},u.prototype._setStaticData=function(t,e,r,n){if(this._realTimeGrid){var i=t.getRowDataAt(e);i&&i.ROW_DEF.setStaticData(r,n)}else t.setDataAt(e,r,n)},u.prototype._setColumnData=function(t,e,r,n){if(n=n||t.getAllRowIds()||[],this._realTimeGrid){for(var i=t.getDataSource(),o=i.freeze(),u=r.length<n.length?r.length:n.length,s=0;s<u;++s){var l=t.getRowData(n[s]);l&&l.ROW_DEF.setData(e,r[s])}i.freeze(o)}else t.setColumnData(e,r,n)},u.prototype._activateColumnRenderer=function(t,e,r){if(null!=t){var n=this._realTimeGrid;n?n.activateColumnRenderer(t,e,r):"function"==typeof r?this._hosts[0].setColumnDataBindingHandler(t,r):this._hosts[0].setColumnDataBindingHandler(t,null)}};var s=function(t){return t},l=function(t){return t?t.ROW_DEF.getRowData():null},p=function(t){if(t){var e=t.ROW_DEF;return e?e.getRowData():t}return null},a={inherits:function(t,e){function r(){}r.prototype=e.prototype,t.prototype=new r,t.prototype.constructor=t,t.base=function(t,r,n){r||(r="constructor");for(var i=arguments.length,o=new Array(i),u=2;u<i;u++)o[u-2]=arguments[u];return e.prototype[r].apply(t,o)}}},d=r(0),h=function(){};h.prototype._events=null,h.prototype._listenerCount=0,h.prototype.addEventListener=function(t,e){if(t&&e){this._events||(this._events={});var r=this._events[t];r?r.indexOf(e)<0&&(r.push(e),++this._listenerCount):(this._events[t]=[e],++this._listenerCount)}},h.prototype.removeEventListener=function(t,e){var r=this._events?this._events[t]:null;if(r){var n=r.indexOf(e);n>=0&&(r.splice(n,1),--this._listenerCount)}},h.prototype.removeAllEventListeners=function(){this._events=null,this._listenerCount=0},h.prototype.hasListener=function(t){if(this._listenerCount){if(t){var e=this._events?this._events[t]:null;return!!e&&e.length>0}return!0}return!1},h.prototype.getListener=function(t,e){if(t){var r=this._events?this._events[t]:null;if(r)return e||(e=0),r[e]||null}return null},h.prototype.addListener=function(t,e){var r=t?t[e]:null;"function"==typeof r&&this.addEventListener(e,r)},h.prototype._prepareEventArguments=function(t,e){return e},h.prototype._dispatch=function(t,e){var r=this._events?this._events[t]:null;if(r){e=this._prepareEventArguments(t,e);for(var n=r.length,i=0;i<n;++i)r[i](e)}};h.preventDefault=function(t){t&&t.preventDefault&&(t.preventDefault(),t.stopPropagation())};var f=function(t,e,r){this.resolve=this.resolve.bind(this),this.reject=this.reject.bind(this),"function"==typeof t&&(this._resolveHandler=t),"function"==typeof e&&(this._rejectHandler=e),null!=r&&(this._ctx=r),this.promise=new Promise(function(t,e){this._resolve=t,this._reject=e}.bind(this))};f.prototype.promise=null,f.prototype._resolve=null,f.prototype._reject=null,f.prototype._resolveHandler=null,f.prototype._rejectHandler=null,f.prototype._ctx=null,f.prototype._fulfilled=!1,f.prototype.resolve=function(t){if(this._resolve){if(this._resolveHandler){var e=this._resolveHandler(t,this._ctx||this);null!=e&&(t=e)}this._resolve(t),this._finally()}},f.prototype.reject=function(t){if(this._reject){if(this._rejectHandler){var e=this._rejectHandler(t,this._ctx||this);null!=e&&(t=e)}this._reject(t),this._finally()}},f.prototype.isFulfilled=function(){return this._fulfilled},f.prototype._finally=function(){this._fulfilled=!0,this._ctx=this._resolveHandler=this._rejectHandler=null,this._resolve=this._reject=null};var g=function(){};a.inherits(g,h),g.prototype._hosts=null,g.prototype._compositeGrid=null,g.prototype._realTimeGrid=null,g.prototype._rowGetter=null,g.prototype._initializedGrid=!1,g.prototype.listen=g.prototype.addEventListener,g.prototype.unlisten=g.prototype.removeEventListener,g.prototype.afterInit=function(t,e,r){var n=null;r&&r.getCoreGrid&&(n=r.getCoreGrid()),n&&(this.getGridApi()||this.setGridWrapper("compositegrid",r),this._compositeGrid&&n.loadPlugin(this,e)),this._initializedGrid||(this._initializedGrid=!0,this._rowGetter=this._realTimeGrid?_:c,this._afterInit())},g.prototype._afterInit=function(){},g.prototype._dispose=function(){this._hosts&&(this._hosts.length||(this._compositeGrid=this._realTimeGrid=null,this._initializedGrid=!1))},g.prototype.hasMultiTableSupport=function(){return!1},g.prototype._prepareEventArguments=function(t,e){return e||(e={}),e.api=this.getGridApi(),e},g.prototype.getName=function(){return"GridPlugin"},g.prototype.initialize=function(t,e){},g.prototype.unload=function(t){this._dispose()},g.prototype.getRelativeGrid=function(t){var e=null;if(t.target){var r=(e=t.target).api;if(r&&r.getCoreGrid)return r.getCoreGrid()}else t.getElement?e=t.getElement():1===t.nodeType&&(e=t);if(e)for(var n=this._hosts.length;--n>=0;){var i=this._hosts[n];if(i.getElement().contains(e))return i}return null},g.prototype.setGridWrapper=function(t,e){t&&("compositegrid"===(t=t.toLowerCase())?this._compositeGrid=e:"realtimegrid"===t&&(this._realTimeGrid=e))},g.prototype.getGridApi=function(t){if(null==t)return this._compositeGrid||this._realTimeGrid;var e="number"==typeof t?this._hosts[t]:t;return e&&e._wrapper||null},g.prototype.getColumnName=function(t){if(this._compositeGrid){var e=this._compositeGrid.getColumnModel(t);if(e)return e.title?e.title:e.field}else{var r=this.getColumnIndex(t),n=this._realTimeGrid.getColumnDefinition(r);if(n)return n.getName()}return""},g.prototype.getColumnIndex=function(t){if("number"==typeof t)return t;if(this._compositeGrid){var e=this._compositeGrid.getColumnFields().indexOf(t);return e>-1?e:this._compositeGrid.getColumnIndex(t)}return this._realTimeGrid.getColumnIndex(t)},g.prototype.getColumnIndices=function(t){if(this._compositeGrid){for(var e,r=this._compositeGrid.getColumnFields(),n=this._compositeGrid.getColumnCount(),i=[],o=0;o<t.length;o++)if("number"==typeof(e=t[o]))e>=0&&e<n&&i.push(e);else{var u=r.indexOf(e);-1!==u&&i.push(u)}return i}return this._realTimeGrid.getColumnIndices(t)},g.prototype.getColumnId=function(t){if("string"==typeof t)return t;if(this._compositeGrid)return this._compositeGrid.getColumnId(t);var e=this._realTimeGrid.getColumnDefinition(t);return e?e.getId():""},g.prototype.getColumnCount=function(){if(this._hosts){var t=this._hosts[0];return t?t.getColumnCount():0}return 0},g.prototype._loadPlugin=function(t,e,r){return t||(t=e.getPlugin(r))||(t=e.loadPlugin(r))&&this._initializedGrid&&(t._initializedGrid=!0),t},g.prototype._requestPlugin=function(t,e,r){return this._initializedGrid?g.requestPlugin(t,e,r,this._compositeGrid,this._realTimeGrid):Promise.reject("Plugin should be requested after the initialization")},g.requestPlugin=function(t,e,r,n,i){var o=null;if(t){var u=null;1===t.nodeType?u=t.api:t.getCoreGrid?u=t:t.getPlugin&&(o=t),u&&(o=u.getCoreGrid(),n||i||(u.getModel?n=u:i=u))}if(!o)return Promise.reject("Cannot find grid element");var s=o.getPlugin(e);if(s)return Promise.resolve(s);var l=new f;return setTimeout(g._onPluginRequested.bind(null,{grid:o,pluginRef:e,compositeGrid:n,realTimeGrid:i,config:r,deferred:l}),10),l.promise},g._onPluginRequested=function(t){var e=t.grid;if(!e.getElement())return t.deferred.reject("Grid has been disposed before the plugin is fully loaded: "+t.pluginRef);var r=e.getPlugin(t.pluginRef);if(r)return t.deferred.resolve(r);var n=!1;return t.pluginRef.beforeInit&&(n=!0,t.pluginRef.beforeInit(e.getElement(),t.config,!0)),(r=e.loadPlugin(t.pluginRef,t.config))?(!n&&r.beforeInit&&(n=!0,r.beforeInit(e.getElement(),t.config)),r.setGridWrapper&&(t.compositeGrid?r.setGridWrapper("compositegrid",t.compositeGrid):t.realTimeGrid&&r.setGridWrapper("realtimegrid",t.realTimeGrid)),r.afterInit&&r.afterInit(),t.deferred.resolve(r)):t.deferred.reject("Unable to load required dependency: "+t.pluginRef)},g.prototype._getPlugin=function(t,e){return null==e&&(e=this._hosts[0]),e?e.getPlugin(t):null},g.prototype._getColumnData=function(t,e){return null==e&&(e=this._hosts[0]),e?e.getColumnData(t):null},g.prototype._getColumnOption=function(t,e,r){var n=this._getColumnData(t,r);return n?n[e]:null},g.prototype._newColumnData=function(t,e){if(null==e&&(e=this._hosts[0]),!e)return{};var r=e.getColumnData(t);return r||(r=e.setColumnData(t,{})),r},g.prototype._getField=function(t){var e=this._compositeGrid||this._realTimeGrid;return e?e.getColumnField(t):""},g.prototype._getRowData=function(t){return this._realTimeGrid&&t?t.ROW_DEF.getRowData():t},g.prototype._getRow=function(t,e){return v(t.getRowDataAt(e))},g.prototype._getData=function(t,e,r){var n=this._getRow(t,e);return n?n[r]:void 0},g.prototype._setData=function(t,e,r,n){if(this._realTimeGrid){var i=t.getRowDataAt(e);i&&i.ROW_DEF.setData(r,n)}else t.setDataAt(e,r,n)},g.prototype._setRowData=function(t,e,r){if(this._realTimeGrid){var n=t.getRowDataAt(e);n&&n.ROW_DEF.setRowData(r)}else t.setRowDataAt(e,r)},g.prototype._setStaticData=function(t,e,r,n){if(this._realTimeGrid){var i=t.getRowDataAt(e);i&&i.ROW_DEF.setStaticData(r,n)}else t.setDataAt(e,r,n)},g.prototype._setColumnData=function(t,e,r,n){if(n=n||t.getAllRowIds()||[],this._realTimeGrid){for(var i=t.getDataSource(),o=i.freeze(),u=r.length<n.length?r.length:n.length,s=0;s<u;++s){var l=t.getRowData(n[s]);l&&l.ROW_DEF.setData(e,r[s])}i.freeze(o)}else t.setColumnData(e,r,n)},g.prototype._activateColumnRenderer=function(t,e,r){if(null!=t){var n=this._realTimeGrid;n?n.activateColumnRenderer(t,e,r):"function"==typeof r?this._hosts[0].setColumnDataBindingHandler(t,r):this._hosts[0].setColumnDataBindingHandler(t,null)}};var c=function(t){return t},_=function(t){return t?t.ROW_DEF.getRowData():null},v=function(t){if(t){var e=t.ROW_DEF;return e?e.getRowData():t}return null},m=function(){this._groupMap={},this._childToParent={}};m.prototype._groupMap,m.prototype._childToParent,m.getGroupId=function(t){return t&&t.id||""},m.calcTreeDepth=function(t,e){for(var r=-1,n=e;n;){if(++r>15){console.log("WARNING: Infinite loop detected during column group creation");break}n=t[n.parentId]}return r},m.getLeafDescendants=function(t,e){var r=t[e];if(!r)return null;for(var n=[],i=[r],o=0,u={};o<i.length;){u[(r=i[o++]).id]=!0;for(var s=r.children,l=s.length,p=0;p<l;++p){var a=s[p];(r=t[a])?u[r.id]||i.push(r):n.push(a)}}return n},m._cloneObject=function(t){var e=Object(d.a)(t);return Array.isArray(e.children)?e.children=e.children:e.children=[],e},m._cloneGroupMap=function(t){var e={};for(var r in t){var n=t[r],i=m._cloneObject(n);i.children=n.children.slice(),e[r]=i}return e},m._toGroupDefinition=function(t,e){var r=null;return t&&(r=Array.isArray(t)?{children:t}:m._cloneObject(t),e&&(r.id||(r.name=e),r.id=e)),r},m.prototype.toString=function(){var t=this._groupMap,e=[];for(var r in e.push("=== groupDefs ==="),t){var n=t[r];e.push(r+": "+JSON.stringify(n,["id","parentId","children"]))}return e.push("=== childToParent ==="),e.push(JSON.stringify(this._childToParent,null,2)),e.push(""),e.join("\n")},m.prototype.getGroup=function(t){return t&&this._groupMap[t]||null},m.prototype.getDefinition=m.prototype.getGroup,m.prototype.getGroups=function(){var t=[],e=this._groupMap;for(var r in e)t.push(e[r]);return t},m.prototype.getGroupMap=function(){return this._groupMap},m.prototype.cloneGroupMap=function(){return m._cloneGroupMap(this._groupMap)},m.prototype.getGroupChildren=function(t){var e=this._groupMap[t];return e?e.children:null},m.prototype.getLeafDescendants=function(t){return m.getLeafDescendants(this._groupMap,t)},m.prototype.getGroupLevel=function(t){return m.calcTreeDepth(this._groupMap,this._groupMap[t])},m.prototype.getRootGroup=function(t){if(!t)return null;var e=this._groupMap,r=e[t]||null;if(r)for(;r.parentId;){var n=e[r.parentId];if(!n)break;r=n}return r},m.prototype.getParentGroup=function(t){return this.getGroup(this._childToParent[t])},m.prototype.getParentIds=function(t){if(t&&"string"==typeof t){var e=this._childToParent[t];if(e){for(var r=[e],n=this._groupMap[e];n&&n.parentId;)(n=this._groupMap[n.parentId])&&r.push(n.id);return r}}return null},m.prototype.getParentId=function(t,e){var r=this._childToParent[t];if(null!=e)for(var n=this.getGroupLevel(r);n>e&&r;)r=this._childToParent[r],n--;return r||""},m.prototype.setGroups=function(t){var e,r=this._groupMap={},n=this._childToParent={},i=t?t.length:0,o="";for(e=0;e<i;e++){var u=t[e];(o=u.id)&&(r[o]=u)}var s=Object.keys(r);for(i=s.length,e=0;e<i;++e)for(var l=r[o=s[e]].children,p=l.length,a=0;a<p;a++)n[l[a]]=o;for(e=0;e<i;++e){var d=n[o=s[e]];d&&(r[o].parentId=d)}},m.prototype.addGroup=function(t){var e=m.getGroupId(t);return e?this.setGroup(e,t):e},m.prototype.removeGroup=function(t){return!!this._groupMap[t]&&(this.removeAllChildren(t),this.unsetParent(t),delete this._groupMap[t],!0)},m.prototype.setGroup=function(t,e){if(!t)return"";if(e){var r=m._toGroupDefinition(e,t);this._ungroupChildren(r.children),this._groupMap[t]&&this.removeAllChildren(t);var n=this._childToParent[t];n&&(r.parentId=n.id),this._groupMap[t]=r;for(var i=r.children,o=i.length,u=0;u<o;++u){var s=i[u];this._childToParent[s]=t;var l=this._groupMap[s];l&&(l.parentId=t)}}else if(!this.removeGroup(t))return"";return t},m.prototype._ungroupChildren=function(t){if(Array.isArray(t))for(var e=t.length,r=0;r<e;++r)this.unsetParent(t[r])},m.prototype.hasGroupChild=function(t,e){var r=this._groupMap[t];if(e&&r){var n=r.children;if(n)return n.indexOf(e)>=0}return!1},m.prototype.addGroupChild=function(t,e){var r=this._groupMap[t];if(e&&r){var n=r.children;if(n&&n.indexOf(e)<0){this.unsetParent(e),this._childToParent[e]=t;var i=this._groupMap[e];return i&&(i.parentId=t),n.push(e),!0}}return!1},m.prototype.removeGroupChild=function(t,e){return null==e?this.unsetParent(t):!!this.hasGroupChild(t,e)&&this.unsetParent(e)},m.prototype.unsetParent=function(t){var e=this._childToParent[t];if(!e)return!1;this._childToParent[t]="";var r=this._groupMap[t];r&&(r.parentId="");var n=this._groupMap[e];if(n){var i=n.children;if(i.length){var o=i.indexOf(t);o>=0&&i.splice(o,1)}}return!0},m.prototype.removeAllChildren=function(t){var e=this._groupMap[t];if(e){var r=e.children,n=r.length;if(n){e.children=[];for(var i=0;i<n;++i){var o=r[i];this._childToParent[o]&&(this._childToParent[o]="");var u=this._groupMap[o];u&&(u.parentId="")}return!0}}return!1},m.prototype.setGroupChildren=function(t,e){var r=this._groupMap[t];if(r){if(Array.isArray(e)){var n=e.slice();this._ungroupChildren(n),this.removeAllChildren(t),r.children=n;for(var i=r.id,o=n.length,u=0;u<o;++u){var s=n[u];this._childToParent[s]=i;var l=this._groupMap[s];l&&(l.parentId=i)}return!0}if(!e&&r.children.length)return this.removeAllChildren(t),!0}return!1};var y=function(t){var e=this;e._hosts=[],e._onColumnChanged=e._onColumnChanged.bind(e),e._onColumnAdded=e._onColumnAdded.bind(e),e._onColumnMoved=e._onColumnMoved.bind(e),e._onColumnRemoved=e._onColumnRemoved.bind(e),e._requestApplyAddChildGroup=e._requestApplyAddChildGroup.bind(this),e._onPostSectionRender=e._onPostSectionRender.bind(e),e._onBeforeColumnBoundUpdate=e._onBeforeColumnBoundUpdate.bind(e),e._groupDefs=new m,t&&e.config({columnGrouping:t})};a.inherits(y,g),y.prototype._groupDefs,y.prototype._visibleGroupMap,y.prototype._maxDepth=0,y.prototype._restructuring=!1,y.prototype._autoGrouping=!0,y.prototype._rerenderTimerId=0,y.prototype._addingTimerId=0,y.prototype._addingEvents=null,y.prototype._legacyColumnGroups=null,y._ascSortLogic=function(t,e){return t-e},y._getTooltip=function(t){var e=t.tooltip,r=t.title||t.name;if(null!=e){if("string"==typeof e)return e;if(!0===e)return r;if(!1===e)return""}return r},y._hasGroupId=function(t){return!(!t||!t.id)},y._toGroupDefinition=function(t,e){var r=null;return t&&(r=Array.isArray(t)?{children:t}:y._cloneObject(t),e&&(r.id||(r.name=e),r.id=e)),r},y._cloneObject=function(t){var e=Object(d.a)(t);return Array.isArray(e.children)?e.children=e.children:e.children=[],e},y._flattenGroupDefs=function(t){for(var e=t?t.length:0,r=0;r<e;r++)y._recursivelyFlatten(t[r],t)},y._recursivelyFlatten=function(t,e){if(t&&t.children)for(var r,n,i=t.children,o=0;o<i.length;o++)"string"!=typeof(r=i[o])&&(n=r.id)&&(i[o]=n,e.indexOf(r)<0&&e.push(r),y._recursivelyFlatten(r,e))},y.prototype.getName=function(){return"ColumnGroupingPlugin"},y.prototype.hasMultiTableSupport=function(){return!0},y.prototype.initialize=function(t,e){this._hosts.indexOf(t)>=0||(this._hosts.push(t),"function"==typeof t.setColumnGrouping&&t.setColumnGrouping(this._groupDefs),this._addingEvents||(this._addingEvents=[]),1===this._hosts.length&&(t.listen("columnAdded",this._onColumnAdded),t.listen("columnMoved",this._onColumnMoved),t.listen("columnRemoved",this._onColumnRemoved),t.listen("columnVisibilityChanged",this._onColumnChanged),t.listen("postSectionRender",this._onPostSectionRender),t.listen("beforeColumnBoundUpdate",this._onBeforeColumnBoundUpdate)),this.config(e),this._legacyColumnGroups=null,this._initializedGrid&&t.getSection("title")&&this._applyGrouping(),y._styles||(y._styles=Object(d.c)([".tr-grid .title .column .cell:not(:last-child)",["box-shadow: none;"]])),t._columnGroupingStyles||(t._columnGroupingStyles=!0,Object(d.b)(y._styles,t.getElement())))},y.prototype.beforeProcessOption=function(t,e){if("columnGroups"===t)return this._legacyColumnGroups=e,!1},y.prototype._afterInit=function(){this._applyGrouping()},y.prototype.unload=function(t){var e=this._hosts.indexOf(t);e<0||(this._hosts.splice(e,1),"function"==typeof t.setColumnGrouping&&t.setColumnGrouping(null),t.unlisten("columnAdded",this._onColumnChanged),t.unlisten("columnMoved",this._onColumnMoved),t.unlisten("columnRemoved",this._onColumnRemoved),t.unlisten("postSectionRender",this._onPostSectionRender),t.unlisten("beforeColumnBoundUpdate",this._onBeforeColumnBoundUpdate),this._hosts.length||(this._rerenderTimerId&&(clearTimeout(this._rerenderTimerId),this._rerenderTimerId=0),this._addingTimerId&&(clearTimeout(this._addingTimerId),this._addingTimerId=0,this._addingEvents.length=0)),this._dispose())},y.prototype.config=function(t){if(t){var e=t.columnGrouping,r=null;Array.isArray(e)&&(r=(r=e.filter(y._hasGroupId)).map(y._cloneObject));var n=t.columns;if(n){for(var i=n.length,o=0;o<i;++o){this._newColumnData(o).columnGrouping={id:n[o].id}}r=this._migrateLegacyStructure(r,t.columns)}r&&(y._flattenGroupDefs(r),this._groupDefs.setGroups(r))}},y.prototype.getConfigObject=function(t){var e=t||{},r=this.getGroupDefinitions();return r.length&&(e.columnGrouping=r),e},y._mapParentToChildren=function(t,e,r){if(e&&r){var n=t[e];return n||(n=t[e]=[]),n.push(r),!0}return!1},y.prototype._migrateLegacyStructure=function(t,e){var r=this._legacyColumnGroups;if(!r||!this._compositeGrid)return t;t||(t=[]);for(var n=e.length,i={},o=0;o<n;++o){var u=e[o];u&&y._mapParentToChildren(i,u.columnGroup,u.id)}var s,l,p=r.length;for(s=0;s<p;++s)(l=r[s])&&y._mapParentToChildren(i,l.parent,l.id);for(s=0;s<p;++s)if((l=y._cloneObject(r[s]))&&l.id){var a=i[l.id];l.children=a||[],l.formatter&&l.formatter.render&&(l.legacyRender=l.formatter.render,delete l.formatter),t.push(l)}return t.filter(y._hasGroupId)},y.prototype._applyGrouping=function(){if(this._rerenderTimerId=0,!this._restructuring){var t,e,r,n,i,o;this._restructuring=!0,this._evaluateGroupStructure();var u=this._maxDepth+1,s=this._hosts.length;for(t=s;--t>=0;)if(i=this._hosts[t].getSection("title")){for(i.setRowCount(u),i.clearCellSpans(),o=i.getColumnCount(),e=0;e<o;e++)for(r=0;r<u;r++)(n=i.getCell(e,r,!1))&&(n.reset(),n.removeClass("no-sort"),n.removeAttribute("group-id"));this._spanGroupVertically(i),this._spanGroupHorizontally(i)}for(this._restructuring=!1,t=s;--t>=0;){var l=this._hosts[t].getSectionSettings("title");l&&l.rerender()}}},y.prototype._evaluateGroupStructure=function(){var t=this._visibleGroupMap=this._groupDefs.cloneGroupMap();this._verifySingleChild(t);var e=this._maxDepth=-1;for(var r in t){var n=t[r],i=n.parentId;i&&(t[i]||(n.parentId=""));var o=m.calcTreeDepth(t,n);n.onRow=o,o>e&&(e=o)}this._maxDepth=e+1},y.prototype._verifySingleChild=function(t){if(this.getGridApi()){var e,r,n=this._hosts[0],i=this.getColumnCount(),o={};for(e=0;e<i;e++){var u=this.getColumnId(e);u&&n.isColumnVisible(e)&&(o[u]=1)}var s=Object.keys(t),l=s.length;for(e=0;e<l;e++)o[s[e]]=1;for(var p=!0;p;)for(p=!1,e=0;e<l;e++){var a=s[e],d=t[a];if(d){var h=d.children,f=h.length,g=[];for(r=0;r<f;r++){var c=h[r];o[c]&&g.push(c)}g.length<2?(delete t[a],o[a]=0,p=!0):d.children=g}}}},y.prototype._requestApplyGrouping=function(){this._rerenderTimerId||(this._rerenderTimerId=setTimeout(this._applyGrouping.bind(this),10))},y.prototype._applyNearestGrouping=function(t){if(!(null==t||t<0)){var e=this.getColumnId(t),r=t-1,n=t+1,i=this.getGroupIds(r),o=this.getGroupIds(n),u=i?i.length:0,s=o?o.length:0,l=this._groupDefs.getParentId(e);if(l){var p=this._groupDefs.getGroupChildren(l),a=p?p.length:0;if(a<=1)return;if(u&&i[0]===l)return;if(s&&o[0]===l)return;if(this._groupDefs.unsetParent(e)&&1===(a=(p=this._groupDefs.getGroupChildren(l))?p.length:0)){var d=this._groupDefs.getParentId(l);d&&this._groupDefs.addGroupChild(d,p[0])}}if(u&&s)for(var h=0;h<u;h++){var f=i[h],g=o.indexOf(f);if(g>=0){this._groupDefs.addGroupChild(o[g],e);break}}}},y.prototype._spanGroupVertically=function(t){var e=this.getGridApi();if(e)for(var r=this._hosts[0],n=this._maxDepth+1,i=e.getColumnCount(),o=0;o<i;o++){var u=n,s=this._getVisibleParentGroup(this.getColumnId(o));if(s)u=n-(s.onRow+1);r.isColumnVisible(o)&&u>1&&t.setCellRowSpan(o,n-u,u)}},y.prototype._spanGroupHorizontally=function(t){var e,r,n,i,o,u,s=t,l=this._visibleGroupMap;for(var p in l){for(r=[],e=l[p],i=m.getLeafDescendants(l,p),u=0;u<i.length;u++)(o=this._getColumnIndexById(i[u]))>-1&&r.push(o);if(r.sort(y._ascSortLogic),(n=r.length)>0){var a=r[0],d=r[n-1];s.setCellColSpan(a,e.onRow,d-a+1),e.colIndex=a}}},y.prototype._renderGroups=function(){for(var t=this._hosts.length,e=this._visibleGroupMap,r=0;r<t;++r){var n=this._hosts[r].getSection("title");if(n){var i={};for(var o in e){var u=e[o],s=u.colIndex;if(null!=s){var l=u.onRow,p=n.getCell(s,l);p&&(p.setStyle("text-align",u.alignment||""),p.setTooltip(y._getTooltip(u)),p.setContent(u.title||u.name),p.addClass("no-sort"),p.setAttribute("group-id",u.id),u.legacyRender&&u.legacyRender(s,p,u),u.render&&(i.cell=p,i.colIndex=s,i.groupNode=u,u.render(i)))}}}}},y.prototype._onPostSectionRender=function(t){"title"!==t.sectionType||this._restructuring||this._renderGroups()},y.prototype._requestApplyAddChildGroup=function(t){var e=t.context;(e?e.parent:null)&&(this._addingEvents.push(t),this._addingTimerId||(this._addingTimerId=setTimeout(this._applyTimeSeries.bind(this,t),10)))},y.prototype._applyTimeSeries=function(t){this._addingTimerId=0;var e=this._addingEvents;if(this._addingEvents=[],e.length>0){for(var r,n=[],i=0;i<e.length;i++){var o=e[i];if(r=o.context.parent){var u=o.colIndex,s=this.getColumnId(u);n.push(s)}}if(r){var l=r.getName(),p="timeSerieGroup_"+r.getId();if(this._groupDefs.getGroup(p))for(i=0;i<n.length;i++)this._groupDefs.addGroupChild(p,n[i]);else this.addGroup({id:p,title:l,children:n})}}this._requestApplyGrouping()},y.prototype._onColumnAdded=function(t){var e=t.colIndex;this._requestApplyAddChildGroup(t),this._applyNearestGrouping(e),this._requestApplyGrouping()},y.prototype._onColumnChanged=function(){this._requestApplyGrouping()},y.prototype._onColumnMoved=function(t){this._autoGrouping&&this._applyNearestGrouping(t.toColIndex),this._requestApplyGrouping()},y.prototype._onColumnRemoved=function(t){var e=t.columnData;if(e&&e.columnGrouping){var r=e.columnGrouping.id;this._groupDefs.unsetParent(r)&&this._requestApplyGrouping()}},y.prototype._onBeforeColumnBoundUpdate=function(t){var e,r,n,i,o=t.selectedColumns,u=[],s={};for(e=0;e<o.length;e++)if(r=this.getColumnId(o[e])){if(!(i=this._groupDefs.getParentId(r))){n=r;break}s[i]=this._groupDefs.getGroup(i),u.push(r)}if(n)t.topBoundRowIndex=0;else{var l,p,a,d,h,f,g,c=this._maxDepth,_={};for(i in s)_[(p=this._groupDefs.getRootGroup(i)).id]=p,(l=s[i].onRow+1)<c&&(c=l);var v=_;for(e=0;e<c;e++)for(i in f=v,v={},f){if(p=f[i],h=!0,(d=this._groupDefs.getLeafDescendants(i)).length<=u.length){for(a=0;a<d.length;a++)if(u.indexOf(d[a])<0){h=!1;break}if(h)return void(t.topBoundRowIndex=e)}for(g=p.children,a=0;a<g.length;a++){var m=g[a];(p=this._groupDefs.getGroup(m))&&(v[m]=p)}}t.topBoundRowIndex=c}},y.prototype.addColumnToGroup=function(t,e,r){if(t){var n=-1;if(null==r){if(this._groupDefs.getGroup(e)){var i=this.getChildColumnIndices(e);i&&i.length&&(n=i[i.length-1]+1),this._groupDefs.addGroupChild(e,t.id)}}else n=r;n<0&&(n=this.getColumnCount()),this._realTimeGrid?this._realTimeGrid.insertColumn(t,n):this._compositeGrid&&this._compositeGrid.insertColumn(n,t)}},y.prototype.addGroup=function(t){return y._hasGroupId(t)?this.setGroupDefinition(t.id,t):""},y.prototype.addColumnGrouping=y.prototype.addGroup,y.prototype.removeGroup=function(t){return!!this._groupDefs.removeGroup(t)&&(this._applyGrouping(),!0)},y.prototype.getGroupDefinition=function(t){var e=this._getAvaliableChildren(t);if(e.length>1){var r=this._groupDefs.getGroup(t);return(r=y._cloneObject(r)).children=e,r}return null},y.prototype.getGroupDefinitions=function(){var t=[],e=this._groupDefs.getGroupMap();for(var r in e){var n=this.getGroupDefinition(r);n&&(delete n.parentId,t.push(n))}return t},y.prototype.setGroupDefinition=function(t,e){if(this._groupDefs.setGroup(t,e)){var r=this._groupDefs.getGroup(t);if(r){var n=r.children;n.length>1&&this.reorderColumns(n,n[0])}return this._applyGrouping(),t}return""},y.prototype.setGroupDefinitions=function(t){t=Array.isArray(t)?(t=t.filter(y._hasGroupId)).map(y._cloneObject):null,y._flattenGroupDefs(t),this._groupDefs.setGroups(t),this._applyGrouping()},y.prototype.setGroupChildren=function(t,e){return!!this._groupDefs.setGroupChildren(t,e)&&(this._applyGrouping(),!0)},y.prototype._getAvaliableChildren=function(t){var e=this._groupDefs.getGroupChildren(t),r=e?e.length:0,n=[];if(r)for(var i=this._groupDefs.getGroupMap(),o=0;o<r;o++){var u=e[o];(i[u]||this.getColumnIndex(u)>-1)&&n.push(u)}return n},y.prototype.getGroupChildren=function(t){var e=this._getAvaliableChildren(t);return e.length>1?e:null},y.prototype.getChildColumnIndices=function(t){var e=this._groupDefs.getLeafDescendants(t);if(e){for(var r=[],n=e.length,i=0;i<n;i++){var o=this.getColumnIndex(e[i]);o>=0&&r.push(o)}return r.sort(y._ascSortLogic)}return null},y.prototype.getGroupIds=function(t){if(null==t)return null;var e="number"==typeof t?this.getColumnId(t):t;return this._groupDefs.getParentIds(e)},y.prototype.getMaxGroupLevel=function(){return this._maxDepth},y.prototype.getGroupLevel=function(t){var e=this._visibleGroupMap[t];return e?e.onRow:-1},y.prototype._getColumnIndexById=function(t){if(this.getGridApi()&&t)for(var e=this._hosts[0],r=e.getColumnCount(),n=0;n<r;n++)if(this.getColumnId(n)===t&&e.isColumnVisible(n))return n;return-1},y.prototype._getVisibleParentGroup=function(t){return this._visibleGroupMap[this._groupDefs.getParentId(t)]||null},y.prototype.getCellInfo=function(t){var e=this.getGridApi(),r=t.grid||this.getRelativeGrid(t);if(!e||!r)return null;var n=r.getCellInfo(t);if(!n)return t;if(!n.cell){var i=n.section.getCell(n.colIndex,n.rowIndex);n.cell=i}var o=this.getColumnId(n.colIndex),u=this._groupDefs.getParentId(o,"title"==n.sectionType?n.rowIndex:null);if(!u)return n.columnId=o,n;var s=this._groupDefs.getGroup(u);if(s){var l="title"==n.sectionType&&n.rowIndex==this.getGroupLevel(u);l?(n.groupId=s.id,n.groupName=s.name||"",n.children=s.children):n.columnId=o,n.parent=l?s.parentId||null:s.id}return n},y.prototype.moveColumnIntoGroup=function(t,e,r){var n=this.getColumnIndex(t);if(-1!=n){var i=this._groupDefs.getGroup(r);if(i){var o=this.getChildColumnIndices(r),u=-1,s=-1;o&&o.length?(u=o[0],s=o[o.length-1]):(u=0,s=this.getColumnCount()),e<u?(e=u)>n&&(e-=1):e>s&&(e=s)<n&&(e+=1);for(var l=0;l<i.children.length;l++){var p=this.getChildColumnIndices(i.children[l]);if(p&&p.length){var a=p[0],d=p[p.length-1];e>n&&(a-=1),e<n&&(d+=1),e>a&&e<d&&(e=d)}}for(var h=this.getColumnId(n),f=this._hosts.length;--f>=0;){this._hosts[f].moveColumn(n,e)}h&&this._groupDefs.addGroupChild(r,h)&&this._applyGrouping()}else for(var g=this._hosts.length;--g>=0;){this._hosts[g].moveColumn(n,e)}}},y.prototype.setColumnParent=function(t,e){return e?this.addGroupChild(e,t):this.unsetParent(t)},y.prototype.addGroupChild=function(t,e){if(!this._groupDefs.getGroup(t))return!1;var r="";if("string"==typeof e)if(this._groupDefs.getGroup(e)){if(this._groupDefs.addGroupChild(t,e))return this._applyGrouping(),!0}else r=e;else r=this.getColumnId(e);if(!r)return!1;var n=this.getChildColumnIndices(t);return!!this._groupDefs.addGroupChild(t,r)&&(n&&n.length&&this.moveColumnById(r,n[n.length-1]+1)||this._applyGrouping(),!0)},y.prototype.removeGroupChild=function(t,e){if(!this._groupDefs.getGroup(t))return!1;var r="";if("string"==typeof e)if(this._groupDefs.getGroup(e)){if(this._groupDefs.unsetParent(e))return this._applyGrouping(),!0}else r=e;else r=this.getColumnId(e);if(!r)return!1;var n=this.getChildColumnIndices(t);return!!this._groupDefs.removeGroupChild(t,r)&&(n&&n.length>1&&this.moveColumnById(r,n[n.length-1]+1)||this._applyGrouping(),!0)},y.prototype.unsetParent=function(t){var e="string"==typeof t?t:this.getColumnId(t),r=this._groupDefs.getParentId(e);return!!r&&this.removeGroupChild(r,e)},y.prototype.getValidDestinationIndex=function(t,e){var r=null;(this._groupDefs.getGroup(t)||this.getColumnIndex(t)>-1)&&(r=this._getVisibleParentGroup(t));var n=-1,i=-1,o="string"==typeof e?this.getColumnIndex(e):e;if(r){var u=this.getChildColumnIndices(r.id);u&&u.length&&(n=u[0],i=u[u.length-1]),o<n&&-1!=o?o=this.getColumnId(n):(o>i||-1==o)&&(o=this.getColumnId(i+1));for(var s=this.getGroupChildren(r.id),l=0;l<s.length;l++){var p=s[l],a=this.getChildColumnIndices(p);if(a&&a.length&&(n=a[0],i=a[a.length-1],o>n&&o<=i)){o=i+1;break}}}else{var d=[],h=this.getColumnId(o),f=this._getVisibleParentGroup(h);f&&(f.parentId&&(f=this._groupDefs.getRootGroup(f.id)),d=this.getChildColumnIndices(f.id)),d&&d.length&&(n=d[0],i=d[d.length-1],o>n&&o<=i&&(o=i+1))}return o},y.prototype.moveGroup=function(t,e){var r,n=[];if(r=this._groupDefs.getGroup(t))for(var i=this.getChildColumnIndices(r.id),o=0;o<i.length;o++){var u=i[o],s=this.getColumnId(u);n.push(s)}else{if(!(this.getColumnIndex(t)>-1))return;n.push(t)}var l=this.getValidDestinationIndex(t,e),p=this.getColumnId(l);this.reorderColumns(n,p)},y.prototype.reorderColumns=function(t,e){var r=!1;this._autoGrouping=!1;var n=this.getGridApi();return n&&n.reorderColumns&&(r=n.reorderColumns(t,e)),this._autoGrouping=!0,r},y.prototype.moveColumnById=function(t,e){var r=!1;this._autoGrouping=!1;var n=this.getGridApi();return n&&n.moveColumnById&&(r=n.moveColumnById(t,e)),this._autoGrouping=!0,r};!function(t,e){if(t&&e&&e.prototype.getName){var r=e.prototype.getName().replace(/Plugin$/,"");if(r){var n=t.tr;n||(n=t.tr={});var i=n.grid;i||(i=n.grid={}),i[r+"Plugin"]=e,n[r+"Extension"]=e}}}(window,y)}]);