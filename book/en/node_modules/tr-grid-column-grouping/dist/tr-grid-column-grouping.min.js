!function(e){var t={};function n(o){if(t[o])return t[o].exports;var r=t[o]={i:o,l:!1,exports:{}};return e[o].call(r.exports,r,r.exports,n),r.l=!0,r.exports}n.m=e,n.c=t,n.d=function(e,t,o){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:o})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var o=Object.create(null);if(n.r(o),Object.defineProperty(o,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var r in e)n.d(o,r,function(t){return e[t]}.bind(null,r));return o},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=0)}([function(e,t,n){"use strict";n.r(t);let o={inherits:function(e,t){function n(){}n.prototype=t.prototype,e.prototype=new n,e.prototype.constructor=e,e.base=function(e,n,o){n||(n="constructor");let r=arguments.length,i=new Array(r);for(let e=2;e<r;e++)i[e-2]=arguments[e];return t.prototype[n].apply(e,i)}}};let r=function(){};r.prototype._events=null,r.prototype._listenerCount=0,r.prototype.addEventListener=function(e,t){if(!e||!t)return;this._events||(this._events={});let n=this._events[e];n?n.indexOf(t)<0&&(n.push(t),++this._listenerCount):(this._events[e]=[t],++this._listenerCount)},r.prototype.removeEventListener=function(e,t){let n=this._events?this._events[e]:null;if(n){let e=n.indexOf(t);e>=0&&(n.splice(e,1),--this._listenerCount)}},r.prototype.removeAllEventListeners=function(){this._events=null,this._listenerCount=0},r.prototype.hasListener=function(e){if(this._listenerCount){if(e){let t=this._events?this._events[e]:null;return!!t&&t.length>0}return!0}return!1},r.prototype.getListener=function(e,t){if(e){let n=this._events?this._events[e]:null;if(n)return t||(t=0),n[t]||null}return null},r.prototype.addListener=function(e,t){let n=e?e[t]:null;"function"==typeof n&&this.addEventListener(t,n)},r.prototype._prepareEventArguments=function(e,t){return t},r.prototype._dispatch=function(e,t){let n=this._events?this._events[e]:null;if(n){t=this._prepareEventArguments(e,t);let o=n.length;for(let e=0;e<o;++e)n[e](t)}};r.preventDefault=function(e){e&&e.preventDefault&&(e.preventDefault(),e.stopPropagation())};let l=function(e,t,n){this.resolve=this.resolve.bind(this),this.reject=this.reject.bind(this),"function"==typeof e&&(this._resolveHandler=e),"function"==typeof t&&(this._rejectHandler=t),null!=n&&(this._ctx=n),this.promise=new Promise(function(e,t){this._resolve=e,this._reject=t}.bind(this))};l.prototype.promise=null,l.prototype._resolve=null,l.prototype._reject=null,l.prototype._resolveHandler=null,l.prototype._rejectHandler=null,l.prototype._ctx=null,l.prototype._fulfilled=!1,l.prototype.resolve=function(e){if(this._resolve){if(this._resolveHandler){let t=this._resolveHandler(e,this._ctx||this);null!=t&&(e=t)}this._resolve(e),this._finally()}},l.prototype.reject=function(e){if(this._reject){if(this._rejectHandler){let t=this._rejectHandler(e,this._ctx||this);null!=t&&(e=t)}this._reject(e),this._finally()}},l.prototype.isFulfilled=function(){return this._fulfilled},l.prototype._finally=function(){this._fulfilled=!0,this._ctx=this._resolveHandler=this._rejectHandler=null,this._resolve=this._reject=null};let s=function(e,t){return function(e,t,n){if(!e)return null;if(!t||e===t)return e;let o;if(n){let r=n.length;for(let i=0;i<r;++i)o=n[i],o&&u(e,t,o)}else for(o in t)u(e,t,o);return e}({},e,t)},u=function(e,t,n){let o=t[n];if(null!=o){let t=e[n];Array.isArray(t)?e[n]=t.concat(o):Array.isArray(o)&&t?e[n]=o.concat(t):e[n]=o}},p=function(e,t){if(e===t)return!0;if(typeof e!=typeof t)return!1;if("object"==typeof e){if(Array.isArray(e)){if(e.length!==t.length)return!1;for(let n=0;n<e.length;n++)if(!p(e[n],t[n]))return!1}else{if(Object.keys(e).length!==Object.keys(t).length)return!1;for(let n in e)if(!p(e[n],t[n]))return!1}return!0}return!1},d=function(e){return Array.isArray(e)?"{\n"+e.join("\n")+"\n}":e},h=function(e){return e.replace(/\n+/g,"\n\t").replace(/\n\t}$/,"\n}")},a=function(e,t){if(!e)return null;let n=document.createElement("style");n.textContent="\n"+e+"\n";let o,r=function(e){if(e){let t;if(e.shadowRoot?t=e.shadowRoot:e.getRootNode&&(t=e.getRootNode()),t&&t!==document&&t!==e)return t}return null}(t),i=!0;return r||(i=!1,r=document.head),i&&r.children&&r.children.length&&(o=r.children[0]),o?r.insertBefore(n,o):r.appendChild(n),n},f=function(e,t){t||(t=[]);for(let n in e){let o=e[n];"object"==typeof o?f(o,t):t.push(o)}return t},g=function(e){if(!e||"string"!=typeof e)return"";if("#"===e.charAt(0))return e;let t=e.match(/\d+/g);if(!t||t.length<3)return e;let n="#";for(let e=0;e<3;e++){let o=+t[e];o>=16||(n+="0"),n+=o?o.toString(16).toUpperCase():"0"}return n};let c={},_=function(e,t){"attributes"==t.type&&"lang"==t.attributeName&&(e.lang=t.target.lang||"en")},m=function(e,t,n){"attributes"===n.type&&(null!=t?n.attributeName===t&&e(n.target.getAttribute(t)):e(n.target))};c._getNewId=function(){return"observer_"+ ++c._id},c._addObserver=function(e,t,n){let o=n;o||(o={}),o.attributes=!0,c._observer.observe(e,o),c._addListener(e,t)},c._onMutationCallback=function(e){for(let t=0;t<e.length;t++){let n=e[t],o=c._listeners[n.target._observeId];for(let e=0;e<o.length;e++)o[e](n)}},c._addListener=function(e,t){let n=c._listeners;if(n||(n=c._listeners={}),!e._observeId){let t=c._getNewId();e._observeId=t}n[e._observeId]||(n[e._observeId]=[]);let o=n[e._observeId];o.indexOf(t)<0&&o.push(t)},c.addLanguageListener=function(e){e&&(e.lang=document.documentElement.lang||"en",c._addObserver(document.documentElement,_.bind(null,e)))},c.addAttributeListener=function(e,t,n){e&&t&&c._addObserver(e,m.bind(null,t,n))},c._observer=new MutationObserver(c._onMutationCallback),c._listeners={},c._id=0;let y={en:!0,de:!0,ja:!0,zh:!0,"zh-Hant":!0},C={_deferred:null,themeReady:null,_defaultColors:{up:"#39C46E",down:"#F5475B",level:"#C2C2C2",tickUp:"#39C46E",tickDown:"#F5475B",baseGrid:"#1A1A1C",baseText:"#C2C2C2",trackColor:"#FF9933"}};C.themeColors=C._defaultColors,C._components={},C._themeName="",C._elfVersion=0,C._dummyIcon=null,C._iconLoaded=!1,C._profileName=null,C._callbacks=[],C._observed=!1,C._pendingResolve=!1,C._themeLoaded=!1,C._icons={"elf-theme-halo":{rowGrouping:{expander:"down"},sorting:{ascending:"hollow-arrow-up",descending:"hollow-arrow-down",sortable:"sort-up-down"},columnStack:{stack:"map-layers",expand:"right",collapse:"left"}},"elf-theme-solar":{columnStack:{stack:"list",expand:"right",collapse:"left"}}},C._icons["halo-theme"]=C._icons["elf-theme-halo"],C._icons["solar-theme"]=C._icons["elf-theme-solar"],C.getElfVersion=function(){if(!C._elfVersion){let e=0;if(window.EFX_GRID){let t=window.EFX_GRID.version;t=t.split("."),e=+t[0]}else if(window.elf)if(window.elf.version){let t=window.elf.version.match(/\d/);t&&t[0]&&(e=parseInt(t[0],10))}else window.elf.customElements?e=3:window.customElements&&(e=4);else window.Polymer&&(e=1);C._elfVersion=e}return C._elfVersion},C.hasComponent=function(e){let t=C._components[e];if(null==t){t=0;let n=C.getElfVersion();if(e){let o;1===n?(o=document.createElement(e),o.is===e&&(t=n)):n>1&&(window.customElements&&window.customElements.get(e)||document.createElement(e).constructor!==HTMLElement)&&(t=n),C._components[e]=t}}return t},C.toLangString=function(e){if(!e)return"";if("zh-hant"===(e=e.toLowerCase()))return"zh-Hant";let t=e.replace(/-.*/,"");return y[t]?t:""},C.hasTheme=function(e){return e===C.getThemeName()},C.getThemeName=function(e){return C._themeName||(C._themeName=C.getCssVariable("--theme-name",document.documentElement)),C._themeName},C.setThemeName=function(e){C._themeName=e},C.isThemeLoaded=function(){return C._themeLoaded},C.getColors=function(){return C.themeColors},C.isHaloTheme=function(e){return null==e&&(e=C.getThemeName()),!!e&&e.indexOf("halo")>=0},C.injectIcons=function(e,t){if("object"!=typeof e)return;let n=C.getThemeName();e.themeName=n;let o=C.getElfVersion();e.elfVersion=o;let r=C._icons[n];r&&(e.icons=r)},C.getIconList=function(){let e=C._icons[C.getThemeName()];return e?f(e):[]},C._onIconPreloaded=function(){if(C._dummyIcon){let e=C._dummyIcon.parentNode;e&&e.removeChild(C._dummyIcon),C._dummyIcon=null}},C.prepareIconPreloading=function(){if(!C._iconLoaded){C._iconLoaded=!0;let e=C.getIconList();if(e.length){setTimeout(C._onIconPreloaded,10);let t=C._dummyIcon=document.createElement("coral-icon");return t.style.transform="scale(0)",document.body.appendChild(t),e}}return null},C.getCssVariable=function(e,t){let n="",o=t||document.body;return window&&"string"==typeof e&&1===o.nodeType&&e.match(/^--/)&&(n=window.getComputedStyle(o).getPropertyValue(e),n=n.replace(/[\"\']/g,"")),n},C.getCssVariables=function(e,t){let n=t||document.body;if(window&&1===n.nodeType){let t=window.getComputedStyle(n);for(let n in e){let o=e[n];o&&o.match(/^--/)&&(e[n]=t.getPropertyValue(o).replace(/\"/g,""))}}return e||null},C.setRTK=function(e){null!=e&&(C._rtk=e)},C.getMovementColorProfile=function(){return document.documentElement.getAttribute("movement-color-profile")},C._addThemeChangedCallback=function(e){let t=C._callbacks;t.indexOf(e)<0&&t.push(e)},C.reloadThemeColors=function(){return C._deferred&&C._deferred.isFulfilled()?(C._profileName="",C._themeLoaded=!1,C.themeReady=null,C.getThemeColors()):C.themeReady},C.getThemeColors=function(e){if("function"==typeof e&&C._addThemeChangedCallback(e),C.themeReady)return C.themeReady;let t=C._deferred=new l;C.themeReady=t.promise;let n=C.getMovementColorProfile();if(n)n!==C._profileName?setTimeout(C._profileNameRetrieved,100):C._deferred.resolve(C.themeColors);else{let e={providerName:"Configuration",settingName:"RDE_USER_CURRENT_TICK_COLOR"},t=window?window.JET:null;if(C._themeLoaded=!1,C._rtk&&C._rtk.Settings)C._rtk.Settings.getAsync(e).then(C._loadingProfileSuccess).catch(C._loadingProfileFailure);else if(t&&t.Settings)try{t.Settings.read(C._loadingProfileSuccess,e)}catch(e){C._loadingProfileFailure()}else setTimeout(C._profileNameRetrieved,100)}return t.promise};let G=function(e){if(e!==C._profileName){C._retrieveThemeColors(e),C._pendingResolve&&(C._pendingResolve=!1,C._deferred.resolve(C.themeColors));let t=C._callbacks;for(let e=0;e<t.length;e++)t[e]()}};C._loadingProfileSuccess=function(e){e&&document.documentElement.setAttribute("movement-color-profile",e.toLowerCase()),C._observed?C._pendingResolve=!0:C._profileNameRetrieved(e)},C._loadingProfileFailure=function(){C._retrieveThemeColors(),C._observed||(C._observed=!0,c.addAttributeListener(document.documentElement,G,"movement-color-profile")),C._deferred.reject("Failed to get movement color profile from settings.")},C._profileNameRetrieved=function(){let e=C.getMovementColorProfile();C._retrieveThemeColors(e),C._observed||(C._observed=!0,c.addAttributeListener(document.documentElement,G,"movement-color-profile")),C._deferred.resolve(C.themeColors)},C._retrieveThemeColors=function(e){C._themeLoaded=!0,C._profileName=e;let t=C.themeColors=C.getCssVariables({primary:"--color-scheme-primary",secondary:"--color-scheme-secondary",tertiary:"--color-scheme-tertiary",complementary:"--color-scheme-complementary",up:"--color-scheme-positive",down:"--color-scheme-negative",level:"--color-scheme-neutral",tickUp:"--color-scheme-tickup",tickDown:"--color-scheme-tickdown"});t.up||(t.up=C._defaultColors.up,t.down=C._defaultColors.down,t.level=C._defaultColors.level,t.tickUp=C._defaultColors.tickUp,t.tickDown=C._defaultColors.tickDown),t.positive=t.up,t.negative=t.down,t.neutral=t.level;let n=document.createElement("table");n.style.visibility="hidden",n.style.position="fixed",n.style.left="0",n.style.top="0",n.style.width="0";let o=n.insertRow(-1),r=o.insertCell(-1);document.body.appendChild(n);let i=window.getComputedStyle(o);t.tableBg=i.backgroundColor;let l=window.getComputedStyle(r);t.tableText=l.color,t.tableBorder=l.borderColor,t.tableText===t.tableBorder&&(r.className="tr-lg",l=window.getComputedStyle(r),t.tableBg=l.backgroundColor,t.tableText=l.color,t.tableBorder=l.borderColor,t.tableText===t.tableBorder&&(t.tableBg=C._defaultColors.baseGrid,t.tableText=C._defaultColors.baseText,t.tableBorder="")),t.tableBg=g(t.tableBg),t.tableText=g(t.tableText),t.tableBorder=g(t.tableBorder),document.body.removeChild(n),t.baseGrid=t.tableBg,t.baseText=t.tableText,t.trackColor=t.primary||C._defaultColors.trackColor};let v=function(){};o.inherits(v,r),v.prototype._hosts=null,v.prototype._compositeGrid=null,v.prototype._realTimeGrid=null,v.prototype._rowGetter=null,v.prototype._initializedGrid=!1,v.prototype.listen=v.prototype.addEventListener,v.prototype.unlisten=v.prototype.removeEventListener,v.prototype.afterInit=function(e,t,n){let o=null;n&&n.getCoreGrid&&(o=n.getCoreGrid()),o&&(this.getGridApi()||this.setGridWrapper("compositegrid",n),this._compositeGrid&&o.loadPlugin(this,t)),this._initializedGrid||(this._initializedGrid=!0,this._rowGetter=this._realTimeGrid?T:P,this._afterInit())},v.prototype._afterInit=function(){},v.prototype._dispose=function(){this._hosts&&(this._hosts.length||(this._compositeGrid=this._realTimeGrid=null,this._initializedGrid=!1))},v.prototype.hasMultiTableSupport=function(){return!1},v.prototype._prepareEventArguments=function(e,t){return t||(t={}),t.api=this.getGridApi(),t},v.prototype.getName=function(){return"GridPlugin"},v.prototype.initialize=function(e,t){},v.prototype.unload=function(e){this._dispose()},v.prototype.getRelativeGrid=function(e){let t=null;if(e.target){t=e.target;let n=t.api;if(n&&n.getCoreGrid)return n.getCoreGrid()}else e.getElement?t=e.getElement():1===e.nodeType&&(t=e);if(t)for(let e=this._hosts.length;--e>=0;){let n=this._hosts[e];if(n.getElement().contains(t))return n}return null},v.prototype.setGridWrapper=function(e,t){e&&("compositegrid"===(e=e.toLowerCase())?this._compositeGrid=t:"realtimegrid"===e&&(this._realTimeGrid=t))},v.prototype.getGridApi=function(e){if(null==e)return this._compositeGrid||this._realTimeGrid;{let t="number"==typeof e?this._hosts[e]:e;return t&&t._wrapper||null}},v.prototype.getColumnName=function(e){if(this._compositeGrid){let t=this._compositeGrid.getColumnModel(e);if(t)return t.title?t.title:t.field}else{let t=this.getColumnIndex(e),n=this._realTimeGrid.getColumnDefinition(t);if(n)return n.getName()}return""},v.prototype.getColumnIndex=function(e){if("number"==typeof e)return e;if(this._compositeGrid){let t=this._compositeGrid.getColumnFields().indexOf(e);return t>-1?t:this._compositeGrid.getColumnIndex(e)}return this._realTimeGrid.getColumnIndex(e)},v.prototype.getColumnIndices=function(e){let t=this.getGridApi();if(t.getColumnIndices)return t.getColumnIndices(e);if(this._compositeGrid){let t,n=this._compositeGrid.getColumnFields(),o=this._compositeGrid.getColumnCount(),r=[];for(let i=0;i<e.length;i++)if(t=e[i],"number"==typeof t)t>=0&&t<o&&r.push(t);else{let e=n.indexOf(t);-1!==e&&r.push(e)}return r}return this._realTimeGrid.getColumnIndices(e)},v.prototype.getColumnId=function(e){if("string"==typeof e)return e;let t=this.getColumnCount();if(e<0||e>=t)return"";if(this._compositeGrid)return this._compositeGrid.getColumnId(e);{let t=this._realTimeGrid.getColumnDefinition(e);if(t)return t.getId()}return""},v.prototype.getColumnIds=function(){return this._hosts&&this._hosts.length?this._hosts[0].getColumnIds():[]},v.prototype.getColumnField=function(e){return this._hosts&&this._hosts.length?this._hosts[0].getColumnField(e):""},v.prototype.getColumnFields=function(){return this._hosts&&this._hosts.length?this._hosts[0].getColumnFields():[]},v.prototype.getColumnCount=function(){if(this._hosts){let e=this._hosts[0];return e?e.getColumnCount():0}return 0},v.prototype._moveColumnById=function(e,t){let n=this._hosts,o=n?n.length:0;if(o){let r=0;for(let i=0;i<o;++i)r|=n[i].moveColumnById(e,t);return!!r}return!1},v.prototype._reorderColumns=function(e,t){let n=this._hosts,o=n?n.length:0;if(o){let r=0;for(let i=0;i<o;++i)r|=n[i].reorderColumns(e,t);return!!r}return!1},v.prototype._loadPlugin=function(e,t,n){return e||(e=t.getPlugin(n))||(e=t.loadPlugin(n))&&this._initializedGrid&&(e._initializedGrid=!0),e},v.prototype._requestPlugin=function(e,t,n){return this._initializedGrid?v.requestPlugin(e,t,n,this._compositeGrid,this._realTimeGrid):Promise.reject("Plugin should be requested after the initialization")},v.requestPlugin=function(e,t,n,o,r){let i=null;if(e){let t=null;1===e.nodeType?t=e.api:e.getCoreGrid?t=e:e.getPlugin&&(i=e),t&&(i=t.getCoreGrid(),o||r||(t.getModel?o=t:r=t))}if(!i)return Promise.reject("Cannot find grid element");let s=i.getPlugin(t);if(s)return Promise.resolve(s);{let e=new l;return setTimeout(v._onPluginRequested.bind(null,{grid:i,pluginRef:t,compositeGrid:o,realTimeGrid:r,config:n,deferred:e}),10),e.promise}},v._onPluginRequested=function(e){let t=e.grid;if(!t.getElement())return e.deferred.reject("Grid has been disposed before the plugin is fully loaded: "+e.pluginRef);let n=t.getPlugin(e.pluginRef);if(n)return e.deferred.resolve(n);let o=!1;return e.pluginRef.beforeInit&&(o=!0,e.pluginRef.beforeInit(t.getElement(),e.config,!0)),n=t.loadPlugin(e.pluginRef,e.config),n?(!o&&n.beforeInit&&n.beforeInit(t.getElement(),e.config),n.setGridWrapper&&(e.compositeGrid?n.setGridWrapper("compositegrid",e.compositeGrid):e.realTimeGrid&&n.setGridWrapper("realtimegrid",e.realTimeGrid)),n.afterInit&&n.afterInit(),e.deferred.resolve(n)):e.deferred.reject("Unable to load required dependency: "+e.pluginRef)},v.prototype._getPlugin=function(e,t){return null==t&&(t=this._hosts[0]),t?t.getPlugin(e):null},v.prototype._getColumnData=function(e,t){return null==t&&(t=this._hosts[0]),t?t.getColumnData(e):null},v.prototype._getColumnOption=function(e,t,n){let o=this._getColumnData(e,n);return o?o[t]:null},v.prototype._newColumnData=function(e,t){if(null==t&&(t=this._hosts[0]),!t)return{};let n=t.getColumnData(e);return n||(n=t.setColumnData(e,{})),n},v.prototype._getField=function(e){let t=this._compositeGrid||this._realTimeGrid;return t?t.getColumnField(e):""},v.prototype._getRowData=function(e){return this._realTimeGrid&&e?e.ROW_DEF.getRowData():e},v.prototype._getRow=function(e,t){return w(e.getRowDataAt(t))},v.prototype._getData=function(e,t,n){let o=this._getRow(e,t);return o?o[n]:void 0},v.prototype._setData=function(e,t,n,o){if(this._realTimeGrid){let r=D(e,t);r&&r.setData(n,o)}else"number"==typeof t?e.setDataAt(t,n,o):e.setData(t,n,o)},v.prototype._setRowData=function(e,t,n){if(this._realTimeGrid){let o=D(e,t);o&&o.setRowData(n)}else"number"==typeof t?e.setRowDataAt(t,n):e.setRowData(t,n)},v.prototype._setStaticData=function(e,t,n,o){if(this._realTimeGrid){let r=D(e,t);r&&r.setStaticData(n,o)}else this._setData(e,t,n,o)},v.prototype._setColumnData=function(e,t,n,o){if(!t)return;let r=Array.isArray(o)?o:e.getAllRowIds(!0),i=r?r.length:0;if(!i)return;if(1===i)return void this._setData(e,r[0],t,Array.isArray(n)?n[0]:n);let l=Array.isArray(n)?n:r.map((function(){return n}));if(this._realTimeGrid){for(let n=0;n<i;++n){let o=e.getRowData(r[n]);if(o){let e=o.ROW_DEF;e&&(e.getRowData()[t]=l[n])}}e.dispatchGlobalChange||(e=e.getDataSource()),e&&e.dispatchGlobalChange&&e.dispatchGlobalChange()}else e.setColumnData(t,l,r)},v.prototype._activateColumnRenderer=function(e,t,n){if(null==e)return;let o=this._realTimeGrid;o?o.activateColumnRenderer(e,t,n):"function"==typeof n?this._hosts[0].setColumnDataBindingHandler(e,n):this._hosts[0].setColumnDataBindingHandler(e,null)};let b=function(){},I={left:37,right:39,up:38,down:40,backspace:8,tab:9,enter:13,esc:27,escape:27,space:32,pageup:33,pagedown:34,del:46,delete:46};v.prototype._mockMouseEvent=function(e,t,n){null==e&&(e=0),null==t&&(t=0);let o=n||{};if(o.preventDefault=b,o.stopPropagation=b,e>=0&&t>=0){let n=this._activeGrid||this._hosts[0],r=n?n.getCell(o.sectionType||"content",e,t):null;o.target=r?r.getElement():null}return o},v.prototype._mockKeyboardEvent=function(e,t){let n=t||{};if(n.preventDefault=b,n.stopPropagation=b,"string"==typeof e){let t=I[e.toLowerCase()]||0;e=t||e.charCodeAt(0)}return n.keyCode=e,n},v._staticStyles={},v._themeLoaders={},v._themeLoadSuccess=function(e,t){let n=this.getName(),o=v._staticStyles[n]=e(t);this.applyStyles(o,n)},v.prototype.applyStaticStyles=function(e){let t=this.getName(),n=v._staticStyles[t];n?this.applyStyles(n,t):e&&(v._themeLoaders[t]||(v._themeLoaders[t]=C.getThemeColors()),v._themeLoaders[t].then(v._themeLoadSuccess.bind(this,e)))},v.prototype.applyStyles=function(e,t,n){t||(t=this.getName());let o,r,i="_style"+t,l=this._hosts,s=l.length;if(s)if(n)for(o=0;o<s;o++)r=l[o],this.revokeStyles(r,t),r[i]=a(e,r.getElement());else for(o=0;o<s;o++)r=l[o],r[i]||(a(e,r.getElement()),r[i]=!0)},v.prototype.revokeStyles=function(e,t){if(!e||!t)return;let n=e[t="_style"+t];n&&1===n.nodeType&&(n.parentNode.removeChild(n),e[t]=null)};let D=function(e,t){let n="number"==typeof t?e.getRowDataAt(t):e.getRowData(t);return n&&n.ROW_DEF||null},P=function(e){return e},T=function(e){return e?e.ROW_DEF.getRowData():null},w=function(e){if(e){let t=e.ROW_DEF;return t?t.getRowData():e}return null};let R=function(){this._groupMap={},this._childToParent={}};R.prototype._groupMap,R.prototype._childToParent,R.getGroupId=function(e){return e&&e.id||""},R.calcTreeDepth=function(e,t){let n=-1,o=t;for(;o;){if(++n>15){console.log("WARNING: Infinite loop detected during column group creation");break}o=e[o.parentId]}return n},R.getLeafDescendants=function(e,t){let n=e[t];if(!n)return null;let o=[],r=[n],i=0,l={};for(;i<r.length;){n=r[i++],l[n.id]=!0;let t=n.children,s=t?t.length:0;for(let i=0;i<s;++i){let s=t[i];n=e[s],n?l[n.id]||r.push(n):o.push(s)}}return o},R._cloneObject=function(e){let t=s(e);return Array.isArray(t.children)?t.children=t.children.slice():t.children=[],t},R._toGroupDefinition=function(e,t){let n=null;return e&&(n=Array.isArray(e)?{children:e.slice()}:R._cloneObject(e),t&&(n.id||(n.name=t),n.id=t)),n},R.prototype.toString=function(){let e=this._groupMap,t=[];t.push("=== groupDefs ===");for(let n in e){let o=e[n];t.push(n+": "+JSON.stringify(o,["id","parentId","children"]))}return t.push("=== childToParent ==="),t.push(JSON.stringify(this._childToParent,null,2)),t.push(""),t.join("\n")},R.prototype.getGroup=function(e){return e&&this._groupMap[e]||null},R.prototype.getDefinition=R.prototype.getGroup,R.prototype.getGroups=function(){let e=[],t=this._groupMap;for(let n in t)e.push(t[n]);return e},R.prototype.getGroupIds=function(){return Object.keys(this._groupMap)},R.prototype.getGroupMap=function(){return this._groupMap},R.prototype.cloneGroupMap=function(){let e=this._groupMap,t={};for(let n in e){let o=e[n],r=R._cloneObject(o);t[n]=r}return t},R.prototype.rebuildMap=function(){let e,t,n=this._groupMap,o=this._childToParent={},r=Object.keys(n),i=r.length;for(e=0;e<i;++e){t=r[e];let i=n[t].children,l=i?i.length:0;for(let e=0;e<l;e++)o[i[e]]=t}for(e=0;e<i;++e){t=r[e];let i=o[t];i&&(n[t].parentId=i)}},R.prototype.getGroupChildren=function(e){let t=this._groupMap[e];return t?t.children:null},R.prototype.getLeafDescendants=function(e){return R.getLeafDescendants(this._groupMap,e)},R.prototype.getGroupLevel=function(e){return R.calcTreeDepth(this._groupMap,this._groupMap[e])},R.prototype.getRootGroup=function(e){if(!e)return null;let t=this._groupMap,n=t[e]||null;if(n)for(;n.parentId;){let e=t[n.parentId];if(!e)break;n=e}return n},R.prototype.getParentGroup=function(e){return this.getGroup(this._childToParent[e])},R.prototype.getParentIds=function(e){if(e&&"string"==typeof e){let t=this._childToParent[e];if(t){let e=[t],n=this._groupMap[t];for(;n&&n.parentId;)n=this._groupMap[n.parentId],n&&e.push(n.id);return e}}return null},R.prototype.getParentId=function(e,t){let n=this._childToParent[e];if(null!=t){let e=this.getGroupLevel(n);for(;e>t&&n;)n=this._childToParent[n],e--}return n||""},R.prototype.removeAllGroups=function(){for(let e in this._groupMap)return this._groupMap={},this._childToParent={},!0;return!1},R.prototype.setGroups=function(e){let t=this._groupMap={},n=e?e.length:0;for(let o=0;o<n;o++){let n=e[o],r=n.id;r&&(t[r]=R._cloneObject(n))}this.rebuildMap()},R.prototype.addGroup=function(e){let t=R.getGroupId(e);return t?this.setGroup(t,e):t},R.prototype.removeGroup=function(e){return!!this._groupMap[e]&&(this.removeAllChildren(e),this.unsetParent(e),delete this._groupMap[e],!0)},R.prototype.setGroup=function(e,t){if(!e)return"";if(t){let n=R._toGroupDefinition(t,e);this._ungroupChildren(n.children),this._groupMap[e]&&this.removeAllChildren(e);let o=this._childToParent[e];o&&(n.parentId=o.id),this._groupMap[e]=n;let r=n.children,i=r.length;for(let t=0;t<i;++t){let n=r[t];this._childToParent[n]=e;let o=this._groupMap[n];o&&(o.parentId=e)}}else if(!this.removeGroup(e))return"";return e},R.prototype._ungroupChildren=function(e){if(Array.isArray(e)){let t=e.length;for(let n=0;n<t;++n)this.unsetParent(e[n])}},R.prototype.hasGroupChild=function(e,t){let n=this._groupMap[e];if(t&&n){let e=n.children;if(e)return e.indexOf(t)>=0}return!1},R.prototype.contains=function(e,t){if(e&&t){if(e===t)return!0;let n=20,o=this._childToParent[t];for(;o&&n;){if(e===o)return!0;--n,o=this._childToParent[o]}}return!1},R.prototype.addGroupChild=function(e,t,n){let o=this._groupMap[e];if(t&&o){let r=o.children;if(r&&r.indexOf(t)<0){this.unsetParent(t),this._childToParent[t]=e;let o=this._groupMap[t];return o&&(o.parentId=e),null!=n&&n>=0?r.splice(n,0,t):r.push(t),!0}}return!1},R.prototype.removeGroupChild=function(e,t){return null==t?this.unsetParent(e):!!this.hasGroupChild(e,t)&&this.unsetParent(t)},R.prototype.unsetParent=function(e){let t=this._childToParent[e];if(!t)return!1;this._childToParent[e]="";let n=this._groupMap[e];n&&(n.parentId="");let o=this._groupMap[t];if(o){let t=o.children;if(t&&t.length){let n=t.indexOf(e);n>=0&&t.splice(n,1)}}return!0},R.prototype.removeAllChildren=function(e){let t=this._groupMap[e];if(t){let e=t.children,n=e?e.length:0;if(n){t.children=[];for(let t=0;t<n;++t){let n=e[t];this._childToParent[n]&&(this._childToParent[n]="");let o=this._groupMap[n];o&&(o.parentId="")}return!0}}return!1},R.prototype.setGroupChildren=function(e,t){let n=this._groupMap[e];if(n){if(Array.isArray(t)){let o=t.slice();this._ungroupChildren(o),this.removeAllChildren(e),n.children=o;let r=n.id,i=o.length;for(let e=0;e<i;++e){let t=o[e];this._childToParent[t]=r;let n=this._groupMap[t];n&&(n.parentId=r)}return!0}if(!t&&n.children.length)return this.removeAllChildren(e),!0}return!1},R.prototype.getGroupName=function(e){let t=this._groupMap[e];return t&&t.name||""},R.prototype.setGroupName=function(e,t){let n=this._groupMap[e];return!(!n||n.name===t)&&(n.name=t,!0)};let A=function(e){let t=this;t._hosts=[],t._onColumnChanged=t._onColumnChanged.bind(t),t._onColumnAdded=t._onColumnAdded.bind(t),t._onColumnMoved=t._onColumnMoved.bind(t),t._onColumnRemoved=t._onColumnRemoved.bind(t),t._requestApplyAddChildGroup=t._requestApplyAddChildGroup.bind(this),t._onPostSectionRender=t._onPostSectionRender.bind(t),t._onBeforeColumnBoundUpdate=t._onBeforeColumnBoundUpdate.bind(t),t._groupDefs=new R,e&&t.config({columnGrouping:e})};o.inherits(A,v),A.prototype._groupDefs,A.prototype._visibleGroupMap,A.prototype._maxDepth=0,A.prototype._restructuring=!1,A.prototype._rerenderTimerId=0,A.prototype._groupHeaderTimerId=0,A.prototype._addingTimerId=0,A.prototype._addingEvents=null,A.prototype._legacyColumnGroups=null,A.prototype._selectedColMap,A._ascSortLogic=function(e,t){return e-t},A._getTooltip=function(e){let t=e.tooltip,n=e.title||e.name;if(null!=t){if("string"==typeof t)return t;if(!0===t)return n;if(!1===t)return""}return n},A._hasGroupId=function(e){return!(!e||!e.id)},A._toGroupDefinition=function(e,t){let n=null;return e&&(n=Array.isArray(e)?{children:e}:A._cloneObject(e),t&&(n.id||(n.name=t),n.id=t)),n},A._cloneObject=function(e){let t=s(e);return Array.isArray(t.children)||(t.children=[]),t},A._flattenGroupDefs=function(e){let t=e?e.length:0;for(let n=0;n<t;n++)A._recursivelyFlatten(e[n],e)},A._recursivelyFlatten=function(e,t){if(e&&e.children){let n,o,r=e.children;for(let e=0;e<r.length;e++)n=r[e],"string"!=typeof n&&(o=n.id,o&&(r[e]=o,t.indexOf(n)<0&&t.push(n),A._recursivelyFlatten(n,t)))}},A._isNotTimeSeriesGroup=function(e){return!e.timeSeriesGroup},A.prototype.getName=function(){return"ColumnGroupingPlugin"},A.prototype.hasMultiTableSupport=function(){return!0},A.prototype.initialize=function(e,t){this._hosts.indexOf(e)>=0||(this._hosts.push(e),"function"==typeof e.setColumnGrouping&&e.setColumnGrouping(this._groupDefs),this._addingEvents||(this._addingEvents=[]),1===this._hosts.length&&(e.listen("columnAdded",this._onColumnAdded),e.listen("columnMoved",this._onColumnMoved),e.listen("columnRemoved",this._onColumnRemoved),e.listen("columnVisibilityChanged",this._onColumnChanged),e.listen("postSectionRender",this._onPostSectionRender),e.listen("beforeColumnBoundUpdate",this._onBeforeColumnBoundUpdate)),this.config(t),this._legacyColumnGroups=null,this._initializedGrid&&e.getSection("title")&&this._applyGrouping(),A._styles||(A._styles=function(e){if(e){let t="";if(Array.isArray(e)){t=e.map(d).join("\n").replace(/{\s*{/g,"{").replace(/\s+{/g," {")}else t="string"==typeof e?e:e+"";if(t)return t.replace(/{[\w\W]*?}/g,h)}return""}([".tr-grid .title .column .cell:not(:last-child)",["box-shadow: none;"]])),e._columnGroupingStyles||(e._columnGroupingStyles=!0,a(A._styles,e.getElement())))},A.prototype.beforeProcessOption=function(e,t){if("columnGroups"===e)return this._legacyColumnGroups=t,!1},A.prototype._afterInit=function(){this._applyGrouping()},A.prototype.unload=function(e){let t=this._hosts.indexOf(e);t<0||(this._hosts.splice(t,1),"function"==typeof e.setColumnGrouping&&e.setColumnGrouping(null),e.unlisten("columnAdded",this._onColumnChanged),e.unlisten("columnMoved",this._onColumnMoved),e.unlisten("columnRemoved",this._onColumnRemoved),e.unlisten("postSectionRender",this._onPostSectionRender),e.unlisten("beforeColumnBoundUpdate",this._onBeforeColumnBoundUpdate),this._hosts.length||(this._rerenderTimerId&&(clearTimeout(this._rerenderTimerId),this._rerenderTimerId=0),this._groupHeaderTimerId&&(clearTimeout(this._groupHeaderTimerId),this._groupHeaderTimerId=0),this._addingTimerId&&(clearTimeout(this._addingTimerId),this._addingTimerId=0,this._addingEvents.length=0)),this._dispose())},A.prototype.config=function(e){if(!e)return;let t=e.columnGrouping,n=null;Array.isArray(t)&&(n=t.filter(A._hasGroupId),n=n.map(A._cloneObject));let o=e.columns;o&&(n=this._migrateLegacyStructure(n,o)),n&&(A._flattenGroupDefs(n),this._groupDefs.setGroups(n))},A.prototype.getConfigObject=function(e){let t=e||{},n=this.getGroupDefinitions();return n=n.filter(A._isNotTimeSeriesGroup),n.length&&(t.columnGrouping=n),t},A._mapParentToChildren=function(e,t,n){if(t&&n){let o=e[t];return o||(o=e[t]=[]),o.push(n),!0}return!1},A.prototype._migrateLegacyStructure=function(e,t){let n=this._legacyColumnGroups;if(!n||!this._compositeGrid)return e;e||(e=[]);let o=t.length,r={};for(let e=0;e<o;++e){let n=t[e];n&&A._mapParentToChildren(r,n.columnGroup,n.id)}let i,l,s=n.length;for(i=0;i<s;++i)l=n[i],l&&A._mapParentToChildren(r,l.parent,l.id);for(i=0;i<s;++i)if(l=A._cloneObject(n[i]),l&&l.id){let t=r[l.id];l.children=t||[],l.formatter&&l.formatter.render&&(l.legacyRender=l.formatter.render,delete l.formatter),e.push(l)}return e.filter(A._hasGroupId)},A.prototype._freezeColumn=function(e,t){let n=this._hosts;for(let o=0;o<n.length;o++)n[o].freezeColumn(e,t)},A.prototype._applyPinning=function(){let e,t,n,o=this.getColumnCount(),r=this.getColumnIds(),i=this._hosts[0].getFrozenColumnCount()-1,l=this._hosts[0].getFirstPinnedRightIndex(),s=!1;for(e=o;e>i;e--)if(t=this._groupDefs.getParentId(r[e]),n=this._visibleGroupMap[t],n&&n.leftPinned){i=e,s=!0;break}for(e=i;e<l;e++)if(t=this._groupDefs.getParentId(r[e]),n=this._visibleGroupMap[t],n&&n.rightPinned){l=e,s=!0;break}if(s){let e=o-l;this._freezeColumn(i,e)}},A.prototype._applyGrouping=function(){if(this._rerenderTimerId=0,this._restructuring)return;let e,t,n,o,r,i;this._restructuring=!0,this._evaluateGroupStructure(),this._applyPinning();let l=this._maxDepth+1,s=this._hosts.length;for(e=s;--e>=0;)if(r=this._hosts[e].getSection("title"),r){for(r.setRowCount(l),r.clearCellSpans(),i=r.getColumnCount(),t=0;t<i;t++)for(n=0;n<l;n++)o=r.getCell(t,n,!1),o&&(o.removeClass("no-sort"),o.removeClass("selected-group"),o.removeAttribute("group-id"));this._spanGroupVertically(r),this._spanGroupHorizontally(r)}for(this._restructuring=!1,e=s;--e>=0;){let t=this._hosts[e].getSectionSettings("title");t&&t.rerender()}},A.prototype._evaluateGroupStructure=function(){let e=this._visibleGroupMap=this._groupDefs.cloneGroupMap();this._verifySingleChild(e),this._verifyColumnPinning(e);let t=this._maxDepth=-1;for(let n in e){let o=e[n],r=o.parentId;r&&(e[r]||(o.parentId=""));let i=R.calcTreeDepth(e,o);o.onRow=i,i>t&&(t=i)}this._maxDepth=t+1},A.prototype._setGroupPinning=function(e,t){if(!e||e.leftPinned||e.rightPinned)return;"left"===t?e.leftPinned=!0:e.rightPinned=!0;let n=e.children;for(let e=0;e<n.length;e++){let o=n[e],r=this._visibleGroupMap[o];r&&this._setGroupPinning(r,t)}},A.prototype._verifyColumnPinning=function(e){let t,n,o,r,i=this._hosts[0],l=i.getFrozenColumnCount()-1,s=i.getFirstPinnedRightIndex(),u=this.getColumnCount(),p=this._groupDefs,d=this._visibleGroupMap;if(l>=0)for(t=l;t>=0;t--)r=this.getColumnId(t),n=p.getParentId(r),n&&d[n]&&(o=p.getRootGroup(n),o&&this._setGroupPinning(d[o.id],"left"));if(s<u)for(t=s;t<u;t++)r=this.getColumnId(t),n=p.getParentId(r),n&&d[n]&&(o=p.getRootGroup(n),o&&this._setGroupPinning(d[o.id],"right"))},A.prototype._verifySingleChild=function(e){if(!this.getGridApi())return;let t,n,o=this._hosts[0],r=this.getColumnCount(),i={};for(t=0;t<r;t++){let e=this.getColumnId(t);e&&o.isColumnVisible(t)&&(i[e]=1)}let l=Object.keys(e),s=l.length;for(t=0;t<s;t++)i[l[t]]=1;let u=!0;for(;u;)for(u=!1,t=0;t<s;t++){let o=l[t],r=e[o];if(!r)continue;let s=r.children,p=s.length,d=[];for(n=0;n<p;n++){let e=s[n];i[e]&&d.push(e)}d.length<2?(delete e[o],i[o]=0,u=!0):r.children=d}},A.prototype._requestApplyGrouping=function(){this._rerenderTimerId||(this._rerenderTimerId=setTimeout(this._applyGrouping.bind(this),10))},A.prototype._requestGroupRendering=function(){this._groupHeaderTimerId||(this._groupHeaderTimerId=setTimeout(this.renderGroups.bind(this),10))},A.prototype._applyNearestGrouping=function(e){if(null==e||e<0)return;let t=this.getColumnId(e),n=e-1,o=e+1,r=this.getGroupIds(n),i=this.getGroupIds(o),l=r?r.length:0,s=i?i.length:0,u=this._groupDefs.getParentId(t);if(u){let e=this._groupDefs.getGroupChildren(u),n=e?e.length:0;if(n<=1)return;if(l&&r[0]===u)return;if(s&&i[0]===u)return;if(this._groupDefs.unsetParent(t)&&(e=this._groupDefs.getGroupChildren(u),n=e?e.length:0,1===n)){let t=this._groupDefs.getParentId(u);t&&this._groupDefs.addGroupChild(t,e[0])}}if(l&&s)for(let e=0;e<l;e++){let n=r[e],o=i.indexOf(n);if(o>=0){this._groupDefs.addGroupChild(i[o],t);break}}},A.prototype._spanGroupVertically=function(e){let t=this.getGridApi();if(!t)return;let n=this._hosts[0],o=this._maxDepth+1,r=t.getColumnCount();for(let t=0;t<r;t++){let r=o,i=this._getVisibleParentGroup(this.getColumnId(t));if(i){r=o-(i.onRow+1)}n.isColumnVisible(t)&&r>1&&e.setCellRowSpan(t,o-r,r)}},A.prototype._spanGroupHorizontally=function(e){let t,n,o,r,i,l,s=e,u=this._visibleGroupMap;for(let e in u){n=[],t=u[e],r=R.getLeafDescendants(u,e);let p=!!this._selectedColMap;for(l=0;l<r.length;l++){let e=r[l];i=this._getColumnIndexById(e),i>-1&&n.push(i),p&&this._selectedColMap&&(p&=this._selectedColMap[e])}if(n.sort(A._ascSortLogic),o=n.length,o>0){let e=n[0],r=n[o-1];if(s.setCellColSpan(e,t.onRow,r-e+1),t.colIndex=e,p){s.getCell(e,t.onRow).addClass("selected-group")}}}},A.prototype.renderGroups=function(){this._groupHeaderTimerId=0;let e=this._hosts.length,t=this._visibleGroupMap;for(let n=0;n<e;++n){let e=this._hosts[n].getSection("title");if(e)for(let n in t)this._renderGroup(t[n],e)}},A.prototype.getMutualGroupId=function(e){let t=e.length;for(let n=0;n<t;n++){"string"==typeof e[n]&&(e[n]=this.getColumnIndex(e[n]));let t=e[n],o=this.getGroupIds(t);if(!o)return"";let r=o.length;for(let t=0;t<r;t++){let n=o[t],r=this.getChildColumnIndices(n);if(p(r,e))return n}}return""},A.prototype._renderGroup=function(e,t){let n=e.colIndex;if(null==n)return;let o=e.onRow,r=t.getCell(n,o),i=R.getLeafDescendants(this._visibleGroupMap,e.id),l=!1;if(this._selectedColMap){l=!0;for(let e=0;e<i.length;e++)if(!this._selectedColMap[i[e]]){l=!1;break}}if(r&&(r.setStyle("text-align",e.alignment||""),r.setTooltip(A._getTooltip(e)),r.setContent(e.name||e.title),r.addClass("no-sort"),r.setAttribute("group-id",e.id),l?r.addClass("selected-group"):r.removeClass("selected-group"),e.legacyRender&&e.legacyRender(n,r,e),e.render)){let t={};t.cell=r,t.colIndex=n,t.groupNode=e,e.render(t)}},A.prototype._onPostSectionRender=function(e){"title"!==e.sectionType||this._restructuring||this.renderGroups()},A.prototype._requestApplyAddChildGroup=function(e){let t=e.context;(t?t.parent:null)&&(this._addingEvents.push(e),this._addingTimerId||(this._addingTimerId=setTimeout(this._applyTimeSeries.bind(this,e),10)))},A.prototype._applyTimeSeries=function(e){this._addingTimerId=0;let t=this._addingEvents;if(this._addingEvents=[],t.length>0){let e,n,o=[],r={};for(let o=0;o<t.length;o++){let i,l,s=t[o];n=s.context.timeSeriesName,e=s.context.timeSeriesId,r[e]?(i=s.colIndex,l=this.getColumnId(i),r[e].children.push(l)):(r[e]={name:n,children:[]},i=s.colIndex,l=this.getColumnId(i),r[e].children.push(l))}for(e in r){let t="timeSerieGroup_"+e;if(this._groupDefs.getGroup(t))for(i=0;i<o.length;i++)this._groupDefs.addGroupChild(t,o[i]);else this.addGroup({id:t,title:r[e].name,children:r[e].children,timeSeriesGroup:!0})}}this._requestApplyGrouping()},A.prototype._onColumnAdded=function(e){let t=e.batches;t&&t.reset||(this._requestApplyAddChildGroup(e),this._applyNearestGrouping(e.colIndex)),this._requestApplyGrouping()},A.prototype._onColumnChanged=function(){this._requestApplyGrouping()},A.prototype._onColumnMoved=function(e){let t=e.batches;t&&t.move||this._applyNearestGrouping(e.toColIndex),this._requestApplyGrouping()},A.prototype._onColumnRemoved=function(e){let t=e.batches;if(t&&t.reset)this._requestApplyGrouping();else{let t=e.colId;t&&this._groupDefs.unsetParent(t)&&this._requestApplyGrouping()}},A.prototype._onBeforeColumnBoundUpdate=function(e){let t,n,o,r,i=e.selectedColumns,l=[],s={};for(t=0;t<i.length;t++)if(n=this.getColumnId(i[t]),n){if(r=this._groupDefs.getParentId(n),!r){o=n;break}s[r]=this._groupDefs.getGroup(r),l.push(n)}if(o)return void(e.topBoundRowIndex=0);let u,p,d,h,a,f,g,c=this._maxDepth,_={};for(r in s)p=this._groupDefs.getRootGroup(r),_[p.id]=p,u=s[r].onRow+1,u<c&&(c=u);let m=_;for(t=0;t<c;t++)for(r in f=m,m={},f){if(p=f[r],a=!0,h=this._groupDefs.getLeafDescendants(r),h.length<=l.length){for(d=0;d<h.length;d++)if(l.indexOf(h[d])<0){a=!1;break}if(a)return void(e.topBoundRowIndex=t)}for(g=p.children,d=0;d<g.length;d++){let e=g[d];p=this._groupDefs.getGroup(e),p&&(m[e]=p)}}e.topBoundRowIndex=c},A.prototype.addColumnToGroup=function(e,t,n){if(!e)return;let o=this.getColumnCount();if(null!=n){this._groupDefs.getGroup(t)&&this._groupDefs.addGroupChild(t,e.id),o=n}this._realTimeGrid?this._realTimeGrid.insertColumn(e,o):this._compositeGrid&&this._compositeGrid.insertColumn(o,e),null==n&&this.setColumnParent(e.id||destColIndex,t)},A.prototype.addGroup=function(e){return A._hasGroupId(e)?this.setGroupDefinition(e.id,e):""},A.prototype.addColumnGrouping=A.prototype.addGroup,A.prototype.removeGroup=function(e){return!!this._groupDefs.removeGroup(e)&&(this._applyGrouping(),!0)},A.prototype.getGroupDefinition=function(e){let t=this._getAvaliableChildren(e);if(t.length>1){let n=this._groupDefs.getGroup(e);return n=A._cloneObject(n),n.children=t,n}return null},A.prototype.getGroupDefinitions=function(){let e=[],t=this._groupDefs.getGroupMap();for(let n in t){let t=this.getGroupDefinition(n);t&&(delete t.parentId,e.push(t))}return e},A.prototype.setGroupDefinition=function(e,t){if(this._groupDefs.setGroup(e,t)){let t=this._groupDefs.getGroup(e);if(t){let e=this._hosts[0].getValidColumnList(t.children).map(A.getObjectId);e.length>1&&this.reorderColumns(e,e[0])}return this._applyGrouping(),e}return""},A.prototype.setGroupDefinitions=function(e){e=Array.isArray(e)?(e=e.filter(A._hasGroupId)).map(A._cloneObject):null,A._flattenGroupDefs(e),this._groupDefs.setGroups(e),this._applyGrouping()},A.prototype.setGroupChildren=function(e,t){return!!this._groupDefs.setGroupChildren(e,t)&&(this._applyGrouping(),!0)},A.prototype.setGroupName=function(e,t){if(this._groupDefs.setGroupName(e,t)){let n=this._visibleGroupMap[e];if(n){n.name=t;let e=this._hosts.length;for(let t=0;t<e;++t){let e=this._hosts[t].getSection("title");e&&this._renderGroup(n,e)}}}},A.prototype._getAvaliableChildren=function(e){let t=this._groupDefs.getGroupChildren(e),n=t?t.length:0,o=[];if(n){o=this._hosts[0].getValidColumnList(t).map(A.getObjectId);let e=this._groupDefs.getGroupMap();for(let r=0;r<n;r++){let n=t[r];e[n]&&o.push(n)}}return o},A.prototype.getGroupChildren=function(e){let t=this._getAvaliableChildren(e);return t.length>1?t:null},A.prototype.getChildColumnIndices=function(e){let t=[],n=this._hosts[0],o=this._groupDefs.getLeafDescendants(e);if(o){return t=n.getValidColumnList(o).map(A.getObjectIndex),t}return null},A.prototype.getGroupIds=function(e){if(null==e)return null;let t="number"==typeof e?this.getColumnId(e):e;return this._groupDefs.getParentIds(t)},A.prototype.getMaxGroupLevel=function(){return this._maxDepth},A.prototype.getGroupLevel=function(e){let t=this._visibleGroupMap[e];return t?t.onRow:-1},A.prototype._getColumnIndexById=function(e){if(this.getGridApi()&&e){let t=this._hosts[0],n=t.getColumnCount();for(let o=0;o<n;o++)if(this.getColumnId(o)===e&&t.isColumnVisible(o))return o}return-1},A.prototype._getVisibleParentGroup=function(e){return this._visibleGroupMap[this._groupDefs.getParentId(e)]||null},A.prototype.getCellInfo=function(e){let t=this.getGridApi(),n=e.grid||this.getRelativeGrid(e);if(!t||!n)return null;let o=n.getCellInfo(e);if(!o)return e;if(!o.cell){let e=o.section.getCell(o.colIndex,o.rowIndex);o.cell=e}let r=this.getColumnId(o.colIndex),i=this._groupDefs.getParentId(r,"title"==o.sectionType?o.rowIndex:null);if(!i)return o.columnId=r,o;let l=this._groupDefs.getGroup(i);if(l){let e="title"==o.sectionType&&o.rowIndex==this.getGroupLevel(i);e?(o.groupId=l.id,o.groupName=l.name||"",o.children=l.children):o.columnId=r,o.parent=e?l.parentId||null:l.id}return o},A.prototype.moveColumnIntoGroup=function(e,t,n){let o=this.getColumnIndex(e);if(-1==o)return;let r=this._groupDefs.getGroup(n);if(!r){for(let e=this._hosts.length;--e>=0;){this._hosts[e].moveColumn(o,t)}return}let i=this.getChildColumnIndices(n),l=-1,s=-1;i&&i.length?(l=i[0],s=i[i.length-1]):(l=0,s=this.getColumnCount()),t<l?(t=l)>o&&(t-=1):t>s&&(t=s)<o&&(t+=1);for(let e=0;e<r.children.length;e++){let n=this.getChildColumnIndices(r.children[e]);if(n&&n.length){let e=n[0],r=n[n.length-1];t>o&&(e-=1),t<o&&(r+=1),t>e&&t<r&&(t=r)}}let u=this.getColumnId(o);for(let e=this._hosts.length;--e>=0;){this._hosts[e].moveColumn(o,t)}u&&this._groupDefs.addGroupChild(n,u)&&this._applyGrouping()},A.prototype.setColumnParent=function(e,t){return t?this.addGroupChild(t,e):this.unsetParent(e)},A.prototype.addGroupChild=function(e,t){if(!this._groupDefs.getGroup(e))return!1;let n="";if("string"==typeof t){if(this._groupDefs.getGroup(t)){if(this._groupDefs.addGroupChild(e,t))return this._applyGrouping(),!0}else n=t}else n=this.getColumnId(t);if(!n)return!1;let o=this.getChildColumnIndices(e);return!!this._groupDefs.addGroupChild(e,n)&&(o&&o.length&&this.moveColumnById(n,o[o.length-1]+1)||this._applyGrouping(),!0)},A.prototype.removeGroupChild=function(e,t){if(!this._groupDefs.getGroup(e))return!1;let n="";if("string"==typeof t){if(this._groupDefs.getGroup(t)){if(this._groupDefs.unsetParent(t))return this._applyGrouping(),!0}else n=t}else n=this.getColumnId(t);if(!n)return!1;let o=e;0!==this._visibleGroupMap[e].onRow&&(o=this._groupDefs.getParentId(e,0));let r=this.getChildColumnIndices(o);return!!this._groupDefs.removeGroupChild(e,n)&&(r&&r.length>1&&this.moveColumnById(n,r[r.length-1]+1)||this._applyGrouping(),!0)},A.prototype.unsetParent=function(e){let t="string"==typeof e?e:this.getColumnId(e),n=this._groupDefs.getParentId(t);return!!n&&this.removeGroupChild(n,t)},A.prototype.getValidDestinationIndex=function(e,t){let n=null;(this._groupDefs.getGroup(e)||this.getColumnIndex(e)>-1)&&(n=this._getVisibleParentGroup(e));let o=-1,r=-1,i="string"==typeof t?this.getColumnIndex(t):t;if(n){let e=this.getChildColumnIndices(n.id);e&&e.length&&(o=e[0],r=e[e.length-1]),i<o&&-1!=i?i=this.getColumnId(o):(i>r||-1==i)&&(i=this.getColumnId(r+1));let t=this.getGroupChildren(n.id);for(let e=0;e<t.length;e++){let n=t[e],l=this.getChildColumnIndices(n);if(l&&l.length&&(o=l[0],r=l[l.length-1],i>o&&i<=r)){i=r+1;break}}}else{let e=[],t=this.getColumnId(i),n=this._getVisibleParentGroup(t);n&&(n.parentId&&(n=this._groupDefs.getRootGroup(n.id)),e=this.getChildColumnIndices(n.id)),e&&e.length&&(o=e[0],r=e[e.length-1],i>o&&i<=r&&(i=r+1))}return i},A.prototype.moveGroup=function(e,t){let n,o=[];if(n=this._groupDefs.getGroup(e),n){let e=this.getChildColumnIndices(n.id);for(let t=0;t<e.length;t++){let n=e[t],r=this.getColumnId(n);o.push(r)}}else{if(!(this.getColumnIndex(e)>-1))return;o.push(e)}let r=this.getValidDestinationIndex(e,t),i=this.getColumnId(r);this.reorderColumns(o,i)},A.prototype.reorderColumns=function(e,t){return this._reorderColumns(e,t)},A.prototype.moveColumnById=function(e,t){return this._moveColumnById(e,t)},A.prototype.pinGroup=function(e,t){if(!e)return;let n=this._visibleGroupMap[e];if(!n)return;let o,r=this._hosts[0],i=r.getFrozenColumnCount()-1,l=r.getPinnedRightColumnCount(),s=this.getColumnCount(),u=this.getChildColumnIndices(e).length;if("right"===t){if(n.rightPinned)return;n.leftPinned&&(this.unpinGroup(e),i=r.getFrozenColumnCount()-1),n.rightPinned=!0,o=s-l,l+=u}else{if(n.leftPinned)return;n.rightPinned&&(this.unpinGroup(e),l=r.getPinnedRightColumnCount()),n.leftPinned=!0,o=-1===i?0:i+1,i+=u}this.moveGroup(e,o),this._freezeColumn(i,l)},A.prototype.unpinGroup=function(e,t){if(!e)return;let n=this._visibleGroupMap[e];if(!n)return;if(!n.leftPinned&&!n.rightPinned)return;let o=this._hosts[0],r=o.getFrozenColumnCount(),i=o.getPinnedRightColumnCount(),l=this.getColumnCount()-i,s=this.getChildColumnIndices(e).length,u=null;if(null!=t){let e=this.getColumnIndex(t);u=this.getColumnId(e)}n.leftPinned?(n.leftPinned=!1,this.moveGroup(e,r),this._freezeColumn(r-(1+s))):n.rightPinned&&(n.rightPinned=!1,this.moveGroup(e,l),this._freezeColumn(r-1,i-s)),null!=u&&this.moveGroup(e,u)},A.prototype.selectGroupHeaders=function(e){let t=this._hosts[0],n=e.length;if(t&&n){let o=[];for(let r=0;r<n;r++)o.push(t.getColumnId(e[r]));let r=t.createColumnMap(o);r&&(this._selectedColMap=r)}else this._selectedColMap=null;this._requestGroupRendering()},A.getObjectIndex=function(e){return e.index},A.getObjectId=function(e){return e.id};!function(e,t){if(!e||!t)return;if(!t.prototype.getName)return;let n=t.prototype.getName().replace(/Plugin$/,"");if(!n)return;let o=e.tr;o||(o=e.tr={});let r=o.grid;r||(r=o.grid={}),r[n+"Plugin"]=t,o[n+"Extension"]=t}(window,A)}]);