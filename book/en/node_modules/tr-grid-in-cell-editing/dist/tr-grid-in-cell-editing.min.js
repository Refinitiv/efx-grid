!function(e){var t={};function o(i){if(t[i])return t[i].exports;var n=t[i]={i:i,l:!1,exports:{}};return e[i].call(n.exports,n,n.exports,o),n.l=!0,n.exports}o.m=e,o.c=t,o.d=function(e,t,i){o.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:i})},o.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},o.t=function(e,t){if(1&t&&(e=o(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var i=Object.create(null);if(o.r(i),Object.defineProperty(i,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var n in e)o.d(i,n,function(t){return e[t]}.bind(null,n));return i},o.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return o.d(t,"a",t),t},o.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},o.p="",o(o.s=0)}([function(e,t,o){"use strict";o.r(t);let i={inherits:function(e,t){function o(){}o.prototype=t.prototype,e.prototype=new o,e.prototype.constructor=e,e.base=function(e,o,i){o||(o="constructor");let n=arguments.length,l=new Array(n);for(let e=2;e<n;e++)l[e-2]=arguments[e];return t.prototype[o].apply(e,l)}}};let n=function(){};n.prototype._events=null,n.prototype._listenerCount=0,n.prototype.addEventListener=function(e,t){if(!e||!t)return;this._events||(this._events={});let o=this._events[e];o?o.indexOf(t)<0&&(o.push(t),++this._listenerCount):(this._events[e]=[t],++this._listenerCount)},n.prototype.removeEventListener=function(e,t){let o=this._events?this._events[e]:null;if(o){let e=o.indexOf(t);e>=0&&(o.splice(e,1),--this._listenerCount)}},n.prototype.removeAllEventListeners=function(){this._events=null,this._listenerCount=0},n.prototype.hasListener=function(e){if(this._listenerCount){if(e){let t=this._events?this._events[e]:null;return!!t&&t.length>0}return!0}return!1},n.prototype.getListener=function(e,t){if(e){let o=this._events?this._events[e]:null;if(o)return t||(t=0),o[t]||null}return null},n.prototype.addListener=function(e,t){let o=e?e[t]:null;"function"==typeof o&&this.addEventListener(t,o)},n.prototype._prepareEventArguments=function(e,t){return t},n.prototype._dispatch=function(e,t){let o=this._events?this._events[e]:null;if(o){t=this._prepareEventArguments(e,t);let i=o.length;for(let e=0;e<i;++e)o[e](t)}};n.preventDefault=function(e){e&&e.preventDefault&&(e.preventDefault(),e.stopPropagation())};let l=function(e,t,o){this.resolve=this.resolve.bind(this),this.reject=this.reject.bind(this),"function"==typeof e&&(this._resolveHandler=e),"function"==typeof t&&(this._rejectHandler=t),null!=o&&(this._ctx=o),this.promise=new Promise(function(e,t){this._resolve=e,this._reject=t}.bind(this))};l.prototype.promise=null,l.prototype._resolve=null,l.prototype._reject=null,l.prototype._resolveHandler=null,l.prototype._rejectHandler=null,l.prototype._ctx=null,l.prototype._fulfilled=!1,l.prototype.resolve=function(e){if(this._resolve){if(this._resolveHandler){let t=this._resolveHandler(e,this._ctx||this);null!=t&&(e=t)}this._resolve(e),this._finally()}},l.prototype.reject=function(e){if(this._reject){if(this._rejectHandler){let t=this._rejectHandler(e,this._ctx||this);null!=t&&(e=t)}this._reject(e),this._finally()}},l.prototype.isFulfilled=function(){return this._fulfilled},l.prototype._finally=function(){this._fulfilled=!0,this._ctx=this._resolveHandler=this._rejectHandler=null,this._resolve=this._reject=null};let r=function(e){return Array.isArray(e)?"{\n"+e.join("\n")+"\n}":e},s=function(e){return e.replace(/\n+/g,"\n\t").replace(/\n\t}$/,"\n}")},u=function(e,t){if(!e)return null;let o=document.createElement("style");o.textContent="\n"+e+"\n";let i,n=function(e){if(e){let t;if(e.shadowRoot?t=e.shadowRoot:e.getRootNode&&(t=e.getRootNode()),t&&t!==document&&t!==e)return t}return null}(t),l=!0;return n||(l=!1,n=document.head),l&&n.children&&n.children.length&&(i=n.children[0]),i?n.insertBefore(o,i):n.appendChild(o),o},a=function(){return!!(navigator.maxTouchPoints&&navigator.maxTouchPoints<256||navigator.msMaxTouchPoints&&navigator.msMaxTouchPoints<256)},d=function(e,t){t||(t=[]);for(let o in e){let i=e[o];"object"==typeof i?d(i,t):t.push(i)}return t},c=function(e){if(!e||"string"!=typeof e)return"";if("#"===e.charAt(0))return e;let t=e.match(/\d+/g);if(!t||t.length<3)return e;let o="#";for(let e=0;e<3;e++){let i=+t[e];i>=16||(o+="0"),o+=i?i.toString(16).toUpperCase():"0"}return o};let p={},h=function(e,t){"attributes"==t.type&&"lang"==t.attributeName&&(e.lang=t.target.lang||"en")},_=function(e,t,o){"attributes"===o.type&&(null!=t?o.attributeName===t&&e(o.target.getAttribute(t)):e(o.target))};p._getNewId=function(){return"observer_"+ ++p._id},p._addObserver=function(e,t,o){let i=o;i||(i={}),i.attributes=!0,p._observer.observe(e,i),p._addListener(e,t)},p._onMutationCallback=function(e){for(let t=0;t<e.length;t++){let o=e[t],i=p._listeners[o.target._observeId];for(let e=0;e<i.length;e++)i[e](o)}},p._addListener=function(e,t){let o=p._listeners;if(o||(o=p._listeners={}),!e._observeId){let t=p._getNewId();e._observeId=t}o[e._observeId]||(o[e._observeId]=[]);let i=o[e._observeId];i.indexOf(t)<0&&i.push(t)},p.addLanguageListener=function(e){e&&(e.lang=document.documentElement.lang||"en",p._addObserver(document.documentElement,h.bind(null,e)))},p.addAttributeListener=function(e,t,o){e&&t&&p._addObserver(e,_.bind(null,t,o))},p._observer=new MutationObserver(p._onMutationCallback),p._listeners={},p._id=0;let m={en:!0,de:!0,ja:!0,zh:!0,"zh-Hant":!0},g={_deferred:null,themeReady:null,_defaultColors:{up:"#39C46E",down:"#F5475B",level:"#C2C2C2",tickUp:"#39C46E",tickDown:"#F5475B",baseGrid:"#1A1A1C",baseText:"#C2C2C2",trackColor:"#FF9933"}};g.themeColors=g._defaultColors,g._components={},g._themeName="",g._elfVersion=0,g._dummyIcon=null,g._iconLoaded=!1,g._profileName=null,g._callbacks=[],g._observed=!1,g._pendingResolve=!1,g._themeLoaded=!1,g._icons={"elf-theme-halo":{rowGrouping:{expander:"down"},sorting:{ascending:"hollow-arrow-up",descending:"hollow-arrow-down",sortable:"sort-up-down"},columnStack:{stack:"map-layers",expand:"right",collapse:"left"}},"elf-theme-solar":{columnStack:{stack:"list",expand:"right",collapse:"left"}}},g._icons["halo-theme"]=g._icons["elf-theme-halo"],g._icons["solar-theme"]=g._icons["elf-theme-solar"],g.getElfVersion=function(){if(!g._elfVersion){let e=0;if(window.EFX_GRID){let t=window.EFX_GRID.version;t=t.split("."),e=+t[0]}else if(window.elf)if(window.elf.version){let t=window.elf.version.match(/\d/);t&&t[0]&&(e=parseInt(t[0],10))}else window.elf.customElements?e=3:window.customElements&&(e=4);else window.Polymer&&(e=1);g._elfVersion=e}return g._elfVersion},g.hasComponent=function(e){let t=g._components[e];if(null==t){t=0;let o=g.getElfVersion();if(e){let i;1===o?(i=document.createElement(e),i.is===e&&(t=o)):o>1&&(window.customElements&&window.customElements.get(e)||document.createElement(e).constructor!==HTMLElement)&&(t=o),g._components[e]=t}}return t},g.toLangString=function(e){if(!e)return"";if("zh-hant"===(e=e.toLowerCase()))return"zh-Hant";let t=e.replace(/-.*/,"");return m[t]?t:""},g.hasTheme=function(e){return e===g.getThemeName()},g.getThemeName=function(e){return g._themeName||(g._themeName=g.getCssVariable("--theme-name",document.documentElement)),g._themeName},g.setThemeName=function(e){g._themeName=e},g.isThemeLoaded=function(){return g._themeLoaded},g.getColors=function(){return g.themeColors},g.isHaloTheme=function(e){return null==e&&(e=g.getThemeName()),!!e&&e.indexOf("halo")>=0},g.injectIcons=function(e,t){if("object"!=typeof e)return;let o=g.getThemeName();e.themeName=o;let i=g.getElfVersion();e.elfVersion=i;let n=g._icons[o];n&&(e.icons=n)},g.getIconList=function(){let e=g._icons[g.getThemeName()];return e?d(e):[]},g._onIconPreloaded=function(){if(g._dummyIcon){let e=g._dummyIcon.parentNode;e&&e.removeChild(g._dummyIcon),g._dummyIcon=null}},g.prepareIconPreloading=function(){if(!g._iconLoaded){g._iconLoaded=!0;let e=g.getIconList();if(e.length){setTimeout(g._onIconPreloaded,10);let t=g._dummyIcon=document.createElement("coral-icon");return t.style.transform="scale(0)",document.body.appendChild(t),e}}return null},g.getCssVariable=function(e,t){let o="",i=t||document.body;return window&&"string"==typeof e&&1===i.nodeType&&e.match(/^--/)&&(o=window.getComputedStyle(i).getPropertyValue(e),o=o.replace(/[\"\']/g,"")),o},g.getCssVariables=function(e,t){let o=t||document.body;if(window&&1===o.nodeType){let t=window.getComputedStyle(o);for(let o in e){let i=e[o];i&&i.match(/^--/)&&(e[o]=t.getPropertyValue(i).replace(/\"/g,""))}}return e||null},g.setRTK=function(e){null!=e&&(g._rtk=e)},g.getMovementColorProfile=function(){return document.documentElement.getAttribute("movement-color-profile")},g._addThemeChangedCallback=function(e){let t=g._callbacks;t.indexOf(e)<0&&t.push(e)},g.reloadThemeColors=function(){return g._deferred&&g._deferred.isFulfilled()?(g._profileName="",g._themeLoaded=!1,g.themeReady=null,g.getThemeColors()):g.themeReady},g.getThemeColors=function(e){if("function"==typeof e&&g._addThemeChangedCallback(e),g.themeReady)return g.themeReady;let t=g._deferred=new l;g.themeReady=t.promise;let o=g.getMovementColorProfile();if(o)o!==g._profileName?setTimeout(g._profileNameRetrieved,100):g._deferred.resolve(g.themeColors);else{let e={providerName:"Configuration",settingName:"RDE_USER_CURRENT_TICK_COLOR"},t=window?window.JET:null;if(g._themeLoaded=!1,g._rtk&&g._rtk.Settings)g._rtk.Settings.getAsync(e).then(g._loadingProfileSuccess).catch(g._loadingProfileFailure);else if(t&&t.Settings)try{t.Settings.read(g._loadingProfileSuccess,e)}catch(e){g._loadingProfileFailure()}else setTimeout(g._profileNameRetrieved,100)}return t.promise};let f=function(e){if(e!==g._profileName){g._retrieveThemeColors(e),g._pendingResolve&&(g._pendingResolve=!1,g._deferred.resolve(g.themeColors));let t=g._callbacks;for(let e=0;e<t.length;e++)t[e]()}};g._loadingProfileSuccess=function(e){e&&document.documentElement.setAttribute("movement-color-profile",e.toLowerCase()),g._observed?g._pendingResolve=!0:g._profileNameRetrieved(e)},g._loadingProfileFailure=function(){g._retrieveThemeColors(),g._observed||(g._observed=!0,p.addAttributeListener(document.documentElement,f,"movement-color-profile")),g._deferred.reject("Failed to get movement color profile from settings.")},g._profileNameRetrieved=function(){let e=g.getMovementColorProfile();g._retrieveThemeColors(e),g._observed||(g._observed=!0,p.addAttributeListener(document.documentElement,f,"movement-color-profile")),g._deferred.resolve(g.themeColors)},g._retrieveThemeColors=function(e){g._themeLoaded=!0,g._profileName=e;let t=g.themeColors=g.getCssVariables({primary:"--color-scheme-primary",secondary:"--color-scheme-secondary",tertiary:"--color-scheme-tertiary",complementary:"--color-scheme-complementary",up:"--color-scheme-positive",down:"--color-scheme-negative",level:"--color-scheme-neutral",tickUp:"--color-scheme-tickup",tickDown:"--color-scheme-tickdown"});t.up||(t.up=g._defaultColors.up,t.down=g._defaultColors.down,t.level=g._defaultColors.level,t.tickUp=g._defaultColors.tickUp,t.tickDown=g._defaultColors.tickDown),t.positive=t.up,t.negative=t.down,t.neutral=t.level;let o=document.createElement("table");o.style.visibility="hidden",o.style.position="fixed",o.style.left="0",o.style.top="0",o.style.width="0";let i=o.insertRow(-1),n=i.insertCell(-1);document.body.appendChild(o);let l=window.getComputedStyle(i);t.tableBg=l.backgroundColor;let r=window.getComputedStyle(n);t.tableText=r.color,t.tableBorder=r.borderColor,t.tableText===t.tableBorder&&(n.className="tr-lg",r=window.getComputedStyle(n),t.tableBg=r.backgroundColor,t.tableText=r.color,t.tableBorder=r.borderColor,t.tableText===t.tableBorder&&(t.tableBg=g._defaultColors.baseGrid,t.tableText=g._defaultColors.baseText,t.tableBorder="")),t.tableBg=c(t.tableBg),t.tableText=c(t.tableText),t.tableBorder=c(t.tableBorder),document.body.removeChild(o),t.baseGrid=t.tableBg,t.baseText=t.tableText,t.trackColor=t.primary||g._defaultColors.trackColor};let y=function(){};i.inherits(y,n),y.prototype._hosts=null,y.prototype._compositeGrid=null,y.prototype._realTimeGrid=null,y.prototype._rowGetter=null,y.prototype._initializedGrid=!1,y.prototype.listen=y.prototype.addEventListener,y.prototype.unlisten=y.prototype.removeEventListener,y.prototype.afterInit=function(e,t,o){let i=null;o&&o.getCoreGrid&&(i=o.getCoreGrid()),i&&(this.getGridApi()||this.setGridWrapper("compositegrid",o),this._compositeGrid&&i.loadPlugin(this,t)),this._initializedGrid||(this._initializedGrid=!0,this._rowGetter=this._realTimeGrid?T:E,this._afterInit())},y.prototype._afterInit=function(){},y.prototype._dispose=function(){this._hosts&&(this._hosts.length||(this._compositeGrid=this._realTimeGrid=null,this._initializedGrid=!1))},y.prototype.hasMultiTableSupport=function(){return!1},y.prototype._prepareEventArguments=function(e,t){return t||(t={}),t.api=this.getGridApi(),t},y.prototype.getName=function(){return"GridPlugin"},y.prototype.initialize=function(e,t){},y.prototype.unload=function(e){this._dispose()},y.prototype.getRelativeGrid=function(e){let t=null;if(e.target){t=e.target;let o=t.api;if(o&&o.getCoreGrid)return o.getCoreGrid()}else e.getElement?t=e.getElement():1===e.nodeType&&(t=e);if(t)for(let e=this._hosts.length;--e>=0;){let o=this._hosts[e];if(o.getElement().contains(t))return o}return null},y.prototype.setGridWrapper=function(e,t){e&&("compositegrid"===(e=e.toLowerCase())?this._compositeGrid=t:"realtimegrid"===e&&(this._realTimeGrid=t))},y.prototype.getGridApi=function(e){if(null==e)return this._compositeGrid||this._realTimeGrid;{let t="number"==typeof e?this._hosts[e]:e;return t&&t._wrapper||null}},y.prototype.getColumnName=function(e){if(this._compositeGrid){let t=this._compositeGrid.getColumnModel(e);if(t)return t.title?t.title:t.field}else{let t=this.getColumnIndex(e),o=this._realTimeGrid.getColumnDefinition(t);if(o)return o.getName()}return""},y.prototype.getColumnIndex=function(e){if("number"==typeof e)return e;if(this._compositeGrid){let t=this._compositeGrid.getColumnFields().indexOf(e);return t>-1?t:this._compositeGrid.getColumnIndex(e)}return this._realTimeGrid.getColumnIndex(e)},y.prototype.getColumnIndices=function(e){let t=this.getGridApi();if(t.getColumnIndices)return t.getColumnIndices(e);if(this._compositeGrid){let t,o=this._compositeGrid.getColumnFields(),i=this._compositeGrid.getColumnCount(),n=[];for(let l=0;l<e.length;l++)if(t=e[l],"number"==typeof t)t>=0&&t<i&&n.push(t);else{let e=o.indexOf(t);-1!==e&&n.push(e)}return n}return this._realTimeGrid.getColumnIndices(e)},y.prototype.getColumnId=function(e){if("string"==typeof e)return e;let t=this.getColumnCount();if(e<0||e>=t)return"";if(this._compositeGrid)return this._compositeGrid.getColumnId(e);{let t=this._realTimeGrid.getColumnDefinition(e);if(t)return t.getId()}return""},y.prototype.getColumnIds=function(){return this._hosts&&this._hosts.length?this._hosts[0].getColumnIds():[]},y.prototype.getColumnField=function(e){return this._hosts&&this._hosts.length?this._hosts[0].getColumnField(e):""},y.prototype.getColumnFields=function(){return this._hosts&&this._hosts.length?this._hosts[0].getColumnFields():[]},y.prototype.getColumnCount=function(){if(this._hosts){let e=this._hosts[0];return e?e.getColumnCount():0}return 0},y.prototype._moveColumnById=function(e,t){let o=this._hosts,i=o?o.length:0;if(i){let n=0;for(let l=0;l<i;++l)n|=o[l].moveColumnById(e,t);return!!n}return!1},y.prototype._reorderColumns=function(e,t){let o=this._hosts,i=o?o.length:0;if(i){let n=0;for(let l=0;l<i;++l)n|=o[l].reorderColumns(e,t);return!!n}return!1},y.prototype._loadPlugin=function(e,t,o){return e||(e=t.getPlugin(o))||(e=t.loadPlugin(o))&&this._initializedGrid&&(e._initializedGrid=!0),e},y.prototype._requestPlugin=function(e,t,o){return this._initializedGrid?y.requestPlugin(e,t,o,this._compositeGrid,this._realTimeGrid):Promise.reject("Plugin should be requested after the initialization")},y.requestPlugin=function(e,t,o,i,n){let r=null;if(e){let t=null;1===e.nodeType?t=e.api:e.getCoreGrid?t=e:e.getPlugin&&(r=e),t&&(r=t.getCoreGrid(),i||n||(t.getModel?i=t:n=t))}if(!r)return Promise.reject("Cannot find grid element");let s=r.getPlugin(t);if(s)return Promise.resolve(s);{let e=new l;return setTimeout(y._onPluginRequested.bind(null,{grid:r,pluginRef:t,compositeGrid:i,realTimeGrid:n,config:o,deferred:e}),10),e.promise}},y._onPluginRequested=function(e){let t=e.grid;if(!t.getElement())return e.deferred.reject("Grid has been disposed before the plugin is fully loaded: "+e.pluginRef);let o=t.getPlugin(e.pluginRef);if(o)return e.deferred.resolve(o);let i=!1;return e.pluginRef.beforeInit&&(i=!0,e.pluginRef.beforeInit(t.getElement(),e.config,!0)),o=t.loadPlugin(e.pluginRef,e.config),o?(!i&&o.beforeInit&&o.beforeInit(t.getElement(),e.config),o.setGridWrapper&&(e.compositeGrid?o.setGridWrapper("compositegrid",e.compositeGrid):e.realTimeGrid&&o.setGridWrapper("realtimegrid",e.realTimeGrid)),o.afterInit&&o.afterInit(),e.deferred.resolve(o)):e.deferred.reject("Unable to load required dependency: "+e.pluginRef)},y.prototype._getPlugin=function(e,t){return null==t&&(t=this._hosts[0]),t?t.getPlugin(e):null},y.prototype._getColumnData=function(e,t){return null==t&&(t=this._hosts[0]),t?t.getColumnData(e):null},y.prototype._getColumnOption=function(e,t,o){let i=this._getColumnData(e,o);return i?i[t]:null},y.prototype._newColumnData=function(e,t){if(null==t&&(t=this._hosts[0]),!t)return{};let o=t.getColumnData(e);return o||(o=t.setColumnData(e,{})),o},y.prototype._getField=function(e){let t=this._compositeGrid||this._realTimeGrid;return t?t.getColumnField(e):""},y.prototype._getRowData=function(e){return this._realTimeGrid&&e?e.ROW_DEF.getRowData():e},y.prototype._getRow=function(e,t){return w(e.getRowDataAt(t))},y.prototype._getData=function(e,t,o){let i=this._getRow(e,t);return i?i[o]:void 0},y.prototype._setData=function(e,t,o,i){if(this._realTimeGrid){let n=b(e,t);n&&n.setData(o,i)}else"number"==typeof t?e.setDataAt(t,o,i):e.setData(t,o,i)},y.prototype._setRowData=function(e,t,o){if(this._realTimeGrid){let i=b(e,t);i&&i.setRowData(o)}else"number"==typeof t?e.setRowDataAt(t,o):e.setRowData(t,o)},y.prototype._setStaticData=function(e,t,o,i){if(this._realTimeGrid){let n=b(e,t);n&&n.setStaticData(o,i)}else this._setData(e,t,o,i)},y.prototype._setColumnData=function(e,t,o,i){if(!t)return;let n=Array.isArray(i)?i:e.getAllRowIds(!0),l=n?n.length:0;if(!l)return;if(1===l)return void this._setData(e,n[0],t,Array.isArray(o)?o[0]:o);let r=Array.isArray(o)?o:n.map((function(){return o}));if(this._realTimeGrid){for(let o=0;o<l;++o){let i=e.getRowData(n[o]);if(i){let e=i.ROW_DEF;e&&(e.getRowData()[t]=r[o])}}e.dispatchGlobalChange||(e=e.getDataSource()),e&&e.dispatchGlobalChange&&e.dispatchGlobalChange()}else e.setColumnData(t,r,n)},y.prototype._activateColumnRenderer=function(e,t,o){if(null==e)return;let i=this._realTimeGrid;i?i.activateColumnRenderer(e,t,o):"function"==typeof o?this._hosts[0].setColumnDataBindingHandler(e,o):this._hosts[0].setColumnDataBindingHandler(e,null)};let C=function(){},v={left:37,right:39,up:38,down:40,backspace:8,tab:9,enter:13,esc:27,escape:27,space:32,pageup:33,pagedown:34,del:46,delete:46};y.prototype._mockMouseEvent=function(e,t,o){null==e&&(e=0),null==t&&(t=0);let i=o||{};if(i.preventDefault=C,i.stopPropagation=C,e>=0&&t>=0){let o=this._activeGrid||this._hosts[0],n=o?o.getCell(i.sectionType||"content",e,t):null;i.target=n?n.getElement():null}return i},y.prototype._mockKeyboardEvent=function(e,t){let o=t||{};if(o.preventDefault=C,o.stopPropagation=C,"string"==typeof e){let t=v[e.toLowerCase()]||0;e=t||e.charCodeAt(0)}return o.keyCode=e,o},y._staticStyles={},y._themeLoaders={},y._themeLoadSuccess=function(e,t){let o=this.getName(),i=y._staticStyles[o]=e(t);this.applyStyles(i,o)},y.prototype.applyStaticStyles=function(e){let t=this.getName(),o=y._staticStyles[t];o?this.applyStyles(o,t):e&&(y._themeLoaders[t]||(y._themeLoaders[t]=g.getThemeColors()),y._themeLoaders[t].then(y._themeLoadSuccess.bind(this,e)))},y.prototype.applyStyles=function(e,t,o){t||(t=this.getName());let i,n,l="_style"+t,r=this._hosts,s=r.length;if(s)if(o)for(i=0;i<s;i++)n=r[i],this.revokeStyles(n,t),n[l]=u(e,n.getElement());else for(i=0;i<s;i++)n=r[i],n[l]||(u(e,n.getElement()),n[l]=!0)},y.prototype.revokeStyles=function(e,t){if(!e||!t)return;let o=e[t="_style"+t];o&&1===o.nodeType&&(o.parentNode.removeChild(o),e[t]=null)};let b=function(e,t){let o="number"==typeof t?e.getRowDataAt(t):e.getRowData(t);return o&&o.ROW_DEF||null},E=function(e){return e},T=function(e){return e?e.ROW_DEF.getRowData():null},w=function(e){if(e){let t=e.ROW_DEF;return t?t.getRowData():e}return null};let x={create:function(e,t){let o=document.createElement(e);return t&&(o.className=t),o},div:function(e){return x.create("div",e)},text:function(e,t){let o=x.create("span",t);return(e||0===e)&&(o.textContent=e),o},appendChild:function(e,t){if(!e)return null;let o,i;Array.isArray(arguments[1])?(i=arguments[1],o=0):(i=arguments,o=1);let n=i.length;for(;o<n;)e.appendChild(i[o]),++o;return e},buildTree:function(e,t){if(!e)return null;let o=arguments,i=o.length;for(let t=1;t<i;++t){let i=o[t];if(i){let t;Array.isArray(i)?t=x.buildTree.apply(null,i):1===i.nodeType&&(t=i),t&&e.appendChild(t)}}return e},removeParent:function(e){if(!e)return null;let t=e.parentNode;return t&&t.removeChild(e),t},setParent:function(e,t){return e?t?(t.appendChild(e),t):x.removeParent(e):null},removeChildren:function(e,t){if(e){let o=e.childNodes.length;for((null==t||t>o)&&(t=o);--t>=0;)e.removeChild(e.lastChild)}},setContent:function(e,t){if(e)if(t||0===t){let o=t.nodeType;1===o||3===o?t!==e.lastChild&&(x.removeChildren(e),e.appendChild(t)):Array.isArray(t)?(x.removeChildren(e),x.appendChild(e,t)):e.textContent=t}else x.removeChildren(e)},toggleAttribute:function(e,t,o){o?e.setAttribute(t,"string"==typeof o?o:""):null==o?e.hasAttribute(t)?e.removeAttribute(t):e.setAttribute(t,""):e.removeAttribute(t)},toggleClass:function(e,t,o){o?e.classList.add(t):null==o?e.classList.contains(t)?e.classList.remove(t):e.classList.add(t):e.classList.remove(t)},addClasses:function(e,t){if(e){let o=Array.isArray(t)?t:arguments,i=o.length;for(let t=0;t<i;++t){let i=o[t];i&&"string"==typeof i&&e.classList.add(i)}}},removeClasses:function(e,t){if(e){let o=Array.isArray(t)?t:arguments,i=o.length;for(let t=0;t<i;++t){let i=o[t];i&&"string"==typeof i&&e.classList.remove(i)}}},preventDefault:function(e){e.preventDefault(),e.stopPropagation()},stopPropagation:function(e){e.stopPropagation()},getClientPosition:function(e,t){let o=t||{x:0,y:0};if(e.getBoundingClientRect){let t=e.getBoundingClientRect();o.x=t.left,o.y=t.top}else o.x=e.clientX,o.y=e.clientY;return o},getRelativePosition:function(e,t,o){o=x.getClientPosition(e,o);let i=x.getClientPosition(t);return o.x-=i.x,o.y-=i.y,o},closestElement:function(e,t){let o=e;for(;o;){if(o.classList&&o.classList.contains(t))return o;o=o.parentNode||o.host}return null},closestTagName:function(e,t){let o=e;for(;o;){if(o.tagName&&o.tagName==t)return o;o=o.parentNode||o.host}return null}};let S=function(e,t){let o=this;o.show=o.show=o.show.bind(o),o.hide=o.hide=o.hide.bind(o),o.toggle=o.toggle=o.toggle.bind(o),o._onBlur=o._onBlur.bind(o),o._onBlurTimer=o._onBlurTimer.bind(o),o._onResize=o._onResize.bind(o),o.updatePosition=o.updatePosition.bind(o),o._onScroll=o._onScroll.bind(o),o._onMouseOver=o._onMouseOver.bind(o),o._onMouseOut=o._onMouseOut.bind(o),o._onMouseOverTimeout=o._onMouseOverTimeout.bind(o),e&&1!==e.nodeType&&(t=e,e=null),e?(o._elem=e,x.removeParent(e)):o._elem=document.createElement("div"),o._elem.style.position="fixed",o._elem.style.left="0",o._elem.style.top="0",o._elem.style.display="inline-block",o._focusElements=[o._elem],o._children=[],o._evtArg={target:o._elem,currentTarget:o._elem},o._parentElement=document.body,o.init(t)};i.inherits(S,n),S.prototype._elem=null,S.prototype._disabled=!1,S.prototype._inDoc=!1,S.prototype._autoHiding=!0,S.prototype._blurTimer=0,S.prototype._resizeTimer=0,S.prototype._attachedElem=null,S.prototype._positioning="under",S.prototype._focusElements,S.prototype._parentElement,S.prototype._children,S.prototype._evtArg,S.prototype._autoClipping=!0,S.prototype._origW=null,S.prototype._origH=null,S.prototype._hoverToShow=!1,S.prototype._hoverTimer=0,S.prototype._gap=0,S.prototype._uiBlocking=!1,S.prototype._hideOnScroll=!0,S.prototype._autoRepositioning=!0,S.prototype.dispose=function(){this._removeEventListeners(),this._clearMouseOverTimer();for(let e=this._children.length;--e>=0;)this._children[e].dispose();this._inDoc=!1,x.removeParent(this._elem),x.removeParent(this._overlay),this._elem=null},S.prototype.getElement=function(){return this._elem},S.prototype.appendChild=function(e){e&&this._elem.appendChild(e)},S.prototype.disable=function(e){this._disabled=!1!==e},S.prototype.enable=function(e){this._disabled=!1===e},S.prototype.init=function(e){if(!e)return;e.positioning&&(this._positioning=e.positioning),null!=e.autoHiding&&(this._autoHiding=!!e.autoHiding),null!=e.uiBlocking&&this.enableUIBlocking(e.uiBlocking),null!=e.hoverToShow&&(this._hoverToShow=!!e.hoverToShow),null!=e.autoClipping&&(this._autoClipping=!!e.autoClipping),null!=e.attachedElement&&this.attachTo(e.attachedElement),null!=e.contentElement&&this.appendChild(e.contentElement),null!=e.parentElement&&this.setParentElement(e.parentElement),null!=e.popupChild&&this.addPopupChild(e.popupChild),0==e.hideOnScroll&&(this._hideOnScroll=!1),0==e.autoRepositioning&&(this._autoRepositioning=!1),this.addListener(e,"show"),this.addListener(e,"hide"),this.addListener(e,"shown"),this.addListener(e,"hidden");let t=e.focusElement||e.focusElements;if(t)if(Array.isArray(t))for(let e=t.length;--e>=0;)this.addFocusElement(t[e]);else this.addFocusElement(t)},S.prototype.attachTo=function(e,t){e||(e=null),this._attachedElem!==e&&(this._hoverToShow&&this._attachedElem&&(this._attachedElem.removeEventListener("mouseover",this._onMouseOver,!1),this._attachedElem.removeEventListener("mouseout",this._onMouseOut,!1)),this.removeFocusElement(this._attachedElem),this._attachedElem=e,this.addFocusElement(this._attachedElem),this._hoverToShow&&this._attachedElem&&(this._attachedElem.addEventListener("mouseover",this._onMouseOver,!1),this._attachedElem.addEventListener("mouseout",this._onMouseOut,!1))),null!=t&&this.setPositioning(t)},S.prototype.setAttachedElement=S.prototype.attachTo,S.prototype.addFocusElement=function(e){e&&this._focusElements.indexOf(e)<0&&this._focusElements.push(e)},S.prototype.removeFocusElement=function(e){if(e){let t=this._focusElements.indexOf(e);t>=0&&this._focusElements.splice(t,1)}},S.prototype.addPopupChild=function(e){return e||((e=new S).setPositioning("right"),e.attachTo(this._elem)),this.addFocusElement(e.getElement()),this._children.push(e),e},S.prototype.setPopupGap=function(e){this._gap="number"==typeof e?e:0},S.prototype.setParentElement=function(e){return e instanceof Element?this._parentElement=e:this._parentElement||(this._parentElement=document.body),this._parentElement},S.prototype.show=function(e,t){let o=this;if(o._clearMouseOverTimer(),o._disabled)return;let i=!1!==e;if(!(o._inDoc!==i))return void o.updatePosition();let n=i?"show":"hide";if(o._evtArg.type=n,o._dispatch(n,o._evtArg),o._evtArg.cancel)o._evtArg.cancel=!1;else{if(i)o._inDoc=!0,t instanceof Element||(t=o._parentElement),o._uiBlocking&&o._attachOverlay(t),t.appendChild(o._elem),t.addEventListener("scroll",o._onScroll,!0),o._autoHiding&&(window.addEventListener("mousedown",o._onBlur,!0),window.addEventListener("touchstart",o._onBlur,!0)),window.addEventListener("resize",o._onResize,!1),window.addEventListener("scroll",o._onScroll,!0);else if(o._inDoc){o._removeEventListeners(),o._restoreElementSize();for(let e=o._children.length;--e>=0;)o._children[e].hide();o._inDoc=!1,x.removeParent(o._elem),x.removeParent(o._overlay)}n=i?"shown":"hidden",o._evtArg.type=n,o._dispatch(n,o._evtArg),i&&o.updatePosition()}},S.prototype.hide=function(e){this.show(!1===e)},S.prototype.toggle=function(e,t){null==e&&(e=!this._inDoc),e?this.show(!0,t):this.hide()},S.prototype.isShown=function(){return this._inDoc},S.prototype.isHidden=function(){return!this._inDoc},S.prototype.contains=function(e){if(e){e=Array.isArray(e)?e:[e];let t=this._focusElements;for(let o=t.length;--o>=0;)if(e.indexOf(t[o])>=0||t[o].contains(e[0]))return!0}return!1},S.prototype.setPositioning=function(e){this._positioning!==e&&(this._positioning=e,this.updatePosition())},S.prototype.disableAutoHiding=function(e){let t=!1===e;this._autoHiding!==t&&(this._autoHiding=t,this._inDoc&&(t?(window.addEventListener("mousedown",this._onBlur,!0),window.addEventListener("touchstart",this._onBlur,!0)):(window.removeEventListener("mousedown",this._onBlur,!0),window.removeEventListener("touchstart",this._onBlur,!0))))},S.prototype.disableAutoRepositioning=function(e){let t=!1===e;this._autoRepositioning!==t&&(this._autoRepositioning=t)},S.prototype.disableAutoClipping=function(e){let t=!1===e;this._autoClipping!==t&&(this._autoClipping=t)},S.prototype.disableHideOnScroll=function(e){let t=!1===e;this._hideOnScroll!==t&&(this._hideOnScroll=t)},S.prototype.updatePosition=function(e){null==e&&(e=!0);let t=this;if(t._resizeTimer=0,!t._inDoc)return;if(t._attachedElem){if(!t._attachedElem.offsetWidth)return;t._autoClipping&&t._restoreElementSize();let o=document.body;"over"===t._positioning&&(o=document.documentElement);let i,n,l=x.getRelativePosition(t._attachedElem,o),r=l.x,s=l.y,u=window.innerWidth,a=window.innerHeight,d=null!=window.scrollX?window.scrollX:window.pageXOffset,c=null!=window.scrollY?window.scrollY:window.pageYOffset,p=u+d,h=a+c,_=t._attachedElem.offsetWidth,m=t._attachedElem.offsetHeight,g=t._elem.offsetWidth,f=t._elem.offsetHeight;"right"==t._positioning?(i=r+_+this._gap,n=s):"over"==t._positioning?(i=r,n=s):(i=r,n=s+m),e&&("right"==t._positioning?(i+g>p&&r-g>d&&(i=r-g-this._gap),n+f>h&&s+m-f>c&&(n=s+m-f)):"over"==t._positioning?(i+g>p&&r+_-g>d&&(i=r+_-g),n+f>h&&s+_-f>c&&(n=s+_-f)):(i+g>p&&r+_-g>d&&(i=r+_-g),n+f>h&&(s-f>c?n=s-f:(n-=n+f-h,n<0&&(n=0))))),t._autoClipping&&(i+g>p&&(null==t._origW&&(t._origW=t._elem.style.width),t._elem.style.width=p-i+"px"),n+f>h&&(null==t._origH&&(t._origH=t._elem.style.height),t._elem.style.height=h-n+"px")),t._elem.style.left=Math.floor(i-d)+"px",t._elem.style.top=Math.floor(n-c)+"px"}else"fixed"!=t._positioning&&"custom"!=t._positioning&&(t._elem.style.left="calc(50vw - "+Math.floor(t._elem.offsetWidth/2)+"px)",t._elem.style.top="calc(46vh - "+Math.floor(t._elem.offsetHeight/2)+"px)");t._evtArg.type="positioning",t._dispatch("positioning",t._evtArg)},S.prototype.enableUIBlocking=function(e){let t=this._uiBlocking;return this._uiBlocking=!1!==e,t},S.prototype._attachOverlay=function(e){if(!this._overlay){let e=(this._overlay=document.createElement("div")).style;e.height="100%",e.width="100%",e.top="0",e.left="0",e.backgroundColor="rgba(0, 0, 0, 0)"}e===document.body?this._overlay.style.position="fixed":this._overlay.style.position="absolute",e.appendChild(this._overlay)},S.prototype._onBlur=function(e){if(!this._blurTimer&&this._inDoc){if(e)if(e.composedPath){if(this.contains(e.composedPath()))return}else if(this.contains(e.target))return;this._blurTimer=setTimeout(this._onBlurTimer,10)}},S.prototype._onBlurTimer=function(){this._blurTimer=0,this.contains(document.activeElement)||this.hide()},S.prototype._onResize=function(){!this._resizeTimer&&this._inDoc&&this._autoRepositioning&&(this._resizeTimer=setTimeout(this.updatePosition,50))},S.prototype._onScroll=function(e){!this.contains(e.target)&&this._hideOnScroll&&this.hide()},S.prototype._onMouseOver=function(e){this._hoverTimer||this._inDoc||(this._hoverTimer=setTimeout(this._onMouseOverTimeout,500))},S.prototype._onMouseOut=function(e){this._hoverTimer&&(e.currentTarget.contains(e.relatedTarget)||this._clearMouseOverTimer())},S.prototype._onMouseOverTimeout=function(){this._hoverTimer=0,this.show()},S.prototype._clearMouseOverTimer=function(){this._hoverTimer&&(clearTimeout(this._hoverTimer),this._hoverTimer=0)},S.prototype._restoreElementSize=function(){null!=this._origW&&(this._elem.style.width=this._origW,this._origW=null),null!=this._origH&&(this._elem.style.height=this._origH,this._origH=null)},S.prototype._removeEventListeners=function(){this._blurTimer&&(clearTimeout(this._blurTimer),this._blurTimer=0),this._resizeTimer&&(clearTimeout(this._resizeTimer),this._resizeTimer=0),window.removeEventListener("mousedown",this._onBlur,!0),window.removeEventListener("touchstart",this._onBlur,!0),window.removeEventListener("resize",this._onResize,!1),window.removeEventListener("scroll",this._onScroll,!0),this._elem.parentElement&&this._elem.parentElement.removeEventListener("scroll",this._onScroll,!0)};let I={from:function(e){if(e){let t=e;if("string"==typeof e||"number"==typeof e?t=new Date(e):Array.isArray(e)&&(t=new Date(Date.UTC(e[0]||0,e[1]||0,e[2]||0))),I.isValid(t))return t}return null},isValid:function(e){if(e&&e.getTime){let t=e.getTime();return t==t}return!1},prefixSingleDigit:function(e){return e<10&&e>=0?"0"+e:""+e},_ymdRe:/^\d{4}\-d{2}\-\d{2}/,toYMD:function(e){if("string"==typeof e&&I._ymdRe.test(e))return e;let t=I.from(e);return t?t.getFullYear()+"-"+I.prefixSingleDigit(t.getMonth()+1)+"-"+I.prefixSingleDigit(t.getDate()):""},setDate:function(e,t){e&&(e.isAttached?e.value=I.from(t):e.value=I.toYMD(t))},getDate:function(e){return e?I.from(e.value):null},compare:function(e,t){if(e!==t)if(e=I.from(e),t=I.from(t),e){if(!t)return 1;if(e<t)return-1;if(e>t)return 1}else if(t)return-1;return 0},equal:function(e,t){return!I.compare(e,t)},extractDate:function(e){return I.isValid(e)?[e.getFullYear(),e.getMonth(),e.getDate()]:null}};let P={create:function(e){if(Array.isArray(e)){let t=e.length,o=new Array(t);for(let i=0;i<t;++i){let t=e[i];null!=t?"object"!=typeof t&&(t={value:t}):t={value:""};let n=t.label;n||"string"==typeof n||(t.label=t.value+""),o[i]=t}return o}return null}};let R=function(e){let t=this;t._onDoubleClick=t._onDoubleClick.bind(t),t._onPopupHide=t._onPopupHide.bind(t),t._onScroll=t._onScroll.bind(t),t._onTextKeyDown=t._onTextKeyDown.bind(t),t._onTextKeyUp=t._onTextKeyUp.bind(t),t._onTouchStart=t._onTouchStart.bind(t),t._onTouchEnd=t._onTouchEnd.bind(t),t._onTouchTimer=t._onTouchTimer.bind(t),t._createContentEditor=t._createContentEditor.bind(t),t._createTitleEditor=t._createTitleEditor.bind(t),t._onColumnAdded=t._onColumnAdded.bind(t),t._onValueChanged=t._onValueChanged.bind(t),t._onMultiSelectionValueChanged=t._onMultiSelectionValueChanged.bind(t),t._onMultiSelectionEditorChanged=t._onMultiSelectionEditorChanged.bind(t),t._onAutoSuggestItemSelected=t._onAutoSuggestItemSelected.bind(t),t._hosts=[],e&&this.config({inCellEditing:e})};i.inherits(R,y),R._uiElementTypesMap={input:"input",text:"input",number:"coral-number-field",select:"coral-select",dropdown:"coral-select",date:"emerald-datetime-picker",checkbox:"coral-checkbox",boolean:"coral-checkbox",combobox:"coral-combo-box"},R.prototype._editableTitle=!1,R.prototype._editableContent=!1,R.prototype._activePos=null,R.prototype._activeCell=null,R.prototype._activeRowId="",R.prototype._lastActiveGrid=null,R.prototype._prevContent=null,R.prototype._initialText="",R.prototype._headerInCellCache=null,R.prototype._activeInCellCache=null,R.prototype._usingBalloon=!1,R.prototype._balloonMode=!1,R.prototype._dataBinding=!0,R.prototype._dblClick=!0,R.prototype._autoCommitText=!1,R.prototype._touchTimerId=0,R.prototype._longPressTime=1e3,R.prototype._editing=!1,R.prototype._customElement=null,R.prototype._customElementPopup=null,R.prototype._tabToMove=!1,R.prototype._contentSource="textContent",R.prototype._inlineStyling=!1,R.prototype._disablingScroll=!1,R.prototype._uiBlocking=!1,R.prototype._autoSuggest=null,R.prototype._defaultTag="input",R.prototype._rowClosing=!1,R.prototype._closingOnScroll=!0,R.prototype._autoHiding=!0,R.prototype._editorTimerId=0,R._scrolling=!1,R.prototype._elfVersion=0,R._primaryColor="",R._styles=function(e){if(e){let t="";if(Array.isArray(e)){t=e.map(r).join("\n").replace(/{\s*{/g,"{").replace(/\s+{/g," {")}else t="string"==typeof e?e:e+"";if(t)return t.replace(/{[\w\W]*?}/g,s)}return""}([":host .cell.editing input[type=text]",["border-style: solid;"],":host .cell.editing",["z-index: 2;"]]),R._onThemeLoaded=function(){let e=g.getColors();R._primaryColor=e.primary},R.prototype._createInputElement=function(e,t){let o=this,i=document.createElement(e);for(let e in t)i.setAttribute(e,t[e]);let n=R._uiElementTypesMap;return i.style.width="100%",i.style.height="100%",i.style.margin="0",i.style.borderColor=R._primaryColor||"#ee7600",i.style.maxHeight="unset",e===n.checkbox?(i.style.borderStyle="solid",i.style.borderWidth="1px",i.style.boxSizing="border-box",i.style.display="flex",i.style.justifyContent="center",i.addEventListener("keydown",(function(e){13===e.keyCode&&e.preventDefault()}))):e===n.select||e===n.combobox||e===n.date?e===n.combobox&&t&&t.multiple?(i.addEventListener("value-changed",o._onMultiSelectionValueChanged),i.addEventListener("opened-changed",o._onMultiSelectionEditorChanged)):i.addEventListener("value-changed",o._onValueChanged):"coral-input"===e?i.setAttribute("type","number"):e===n.input&&i.setAttribute("type","text"),this._autoSuggest&&(this._autoSuggest.addEventListener("item-select",o._onAutoSuggestItemSelected),this._autoSuggest.addEventListener("wheel",o._stopPropagation,!1)),i.addEventListener("keydown",o._onTextKeyDown,!1),i.addEventListener("keyup",o._onTextKeyUp,!1),i.addEventListener("mousedown",o._stopPropagation,!1),i.addEventListener("mouseup",o._stopPropagation,!1),i.addEventListener("click",o._stopPropagation,!1),i.addEventListener("copy",o._stopPropagation,!1),i.addEventListener("cut",o._stopPropagation,!1),i.addEventListener("paste",o._stopPropagation,!1),i},R.prototype._createEditor=function(){let e=document.createElement("div");return e.className="cell editing",e.style.position="absolute",e},R.prototype._createBalloonPopup=function(e){return new S(e,{positioning:"over"})},R.prototype._createInCellCache=function(e,t,o){let i=this._createEditor(),n=this._createInputElement(t,o),l=new S(i,{positioning:"over"});return i.appendChild(n),{grid:e,inputElement:n,editor:i,balloonPopup:l}},R.prototype._createTitleEditor=function(e){let t=this;return t._headerInCellCache||(t._headerInCellCache=t._createInCellCache(e,"input")),t._headerInCellCache},R.prototype._createContentEditor=function(e,t){let o=this,i=R._uiElementTypesMap,n=o._getColumnData(e,t),l=n.inCellEditing,r=i[l&&l.type]||o._defaultTag;if(!n.inCellCache){let e=l?l.attributes:null;n.inCellCache=o._createInCellCache(t,r,e)}let s=n.inCellCache;return r!==i.select&&r!==i.combobox||(s.inputElement.data=l&&l.entries),s},R.prototype.getName=function(){return"InCellEditingPlugin"},R.prototype._onColumnAdded=function(e){e.context&&null!=e.colIndex&&this._retrieveColumnOption(e.context,e.colIndex)},R.prototype.initialize=function(e,t){this._hosts.indexOf(e)>=0||(this._hosts.length||window.addEventListener("scroll",this._onScroll),e.listen("columnAdded",this._onColumnAdded),e.getVScrollbar().listen("scroll",this._onScroll),e.getHScrollbar().listen("scroll",this._onScroll),this._dblClick&&(e.listen("dblclick",this._onDoubleClick),a()&&(e.listen("touchstart",this._onTouchStart),e.listen("touchend",this._onTouchEnd),e.listen("touchcancel",this._onTouchEnd))),this._hosts.push(e),g.getElfVersion()<4&&(R._uiElementTypesMap.number="coral-input"),g.isHaloTheme()&&(e._inCellEditingStyles||(e._inCellEditingStyles=!0,u(R._styles,e.getElement()))),this.config(t),R._primaryColor||g.getThemeColors().then(R._onThemeLoaded).catch(R._onThemeLoaded))},R.prototype.beforeProcessOption=function(e,t){if("cellEditing"==e)return null},R.prototype._afterInit=function(){this._elfVersion=g.getElfVersion()},R.prototype.config=function(e){if(!e)return;let t=this,o=e.columns;if(o){let e=o.length;for(let i=0;i<e;++i)t._retrieveColumnOption(o[i],i)}let i=e.inCellEditing;i&&(i.type&&(t._defaultTag=R._uiElementTypesMap[i.type]),i.balloonMode&&t.enableBalloonMode(i.balloonMode),i.editableTitle&&t.enableTitleEditing(i.editableTitle),i.editableContent&&(t._editableContent=!0),i.tabToMove&&(t._tabToMove=!0),i.autoCommitText&&t.enableAutoCommitText(i.autoCommitText),null!=i.dataBinding&&t.disableDataBinding(!i.dataBinding),null!=i.contentSource&&(t._contentSource=i.contentSource),i.popupElement&&t.setPopupElement(i.popupElement),null!=i.doubleClick&&t.disableDblClick(!i.doubleClick),i.inlineStyling&&(t._inlineStyling=!0),i.disablingScroll&&(t._disablingScroll=!0),i.uiBlocking&&(t._uiBlocking=!0),i.autoSuggest&&(t._autoSuggest=i.autoSuggest),0==i.closingOnScroll&&(t._closingOnScroll=!1),0==i.autoHiding&&(t._autoHiding=!1),t.addListener(i,"preEditorOpening"),t.addListener(i,"editorOpened"),t.addListener(i,"beforeCommit"),t.addListener(i,"editorClosed"),t.addListener(i,"keyUp"),t.addListener(i,"beforeRowCommit"),t.addListener(i,"rowEditorClosed"))};let D=function(e,t,o,i){if(i){if(!o)return e[t]=!1,!0}else if(o)return e[t]=!0,!0;return!1};R.prototype.getConfigObject=function(e){let t=e||{},o=t.columns;o||(o=t.columns=[]);let i,n,l=this.getColumnCount();for(let e=0;e<l;++e){let t=o[e];t||(t=o[e]={}),n=this._getColumnData(e),n&&(null!=n.editableContent&&(t.editableContent=n.editableContent),null!=n.inCellEditing&&(t.inCellEditing={},i=n.inCellEditing.type,null!=i&&(t.inCellEditing.type=i),i=n.inCellEditing.entries,null!=i&&(t.inCellEditing.entries=i),i=n.inCellEditing.attributes,null!=i&&(t.inCellEditing.attributes=i)))}let r=t.inCellEditing,s=0;return r||(r={}),s|=D(r,"balloonMode",this._balloonMode,!1),s|=D(r,"editableTitle",this._editableTitle,!1),s|=D(r,"editableContent",this._editableContent,!1),s|=D(r,"tabToMove",this._tabToMove,!1),s|=D(r,"autoCommitText",this._autoCommitText,!1),s|=D(r,"dataBinding",this._dataBinding,!0),s|=D(r,"doubleClick",this._dblClick,!0),s|=D(r,"inlineStyling",this._inlineStyling,!1),s|=D(r,"disablingScroll",this._disablingScroll,!1),s|=D(r,"uiBlocking",this._uiBlocking,!1),s|=D(r,"closingOnScroll",this._closingOnScroll,!0),s|=D(r,"autoHiding",this._autoHiding,!0),"textContent"!==this._contentSource&&(s=1,r.contentSource=this._contentSource),s&&(t.inCellEditing=r),t},R.prototype._retrieveColumnOption=function(e,t){let o=e.inCellEditing,i=e.editableContent;if(null!=o||null!=i){let e=this._newColumnData(t);null!=o&&(e.inCellEditing=o,o.entries=P.create(o.entries)),null!=i&&(e.editableContent=i)}},R.prototype.unload=function(e){let t=this._hosts.indexOf(e);t<0||(this._hosts.splice(t,1),e.unlisten("columnAdded",this._onColumnAdded),e.getVScrollbar().unlisten("scroll",this._onScroll),e.getHScrollbar().unlisten("scroll",this._onScroll),e.unlisten("dblclick",this._onDoubleClick),e.unlisten("touchstart",this._onTouchStart),e.unlisten("touchend",this._onTouchEnd),e.unlisten("touchcancel",this._onTouchEnd),this._hosts.length||(this._touchTimerId&&clearTimeout(this._touchTimerId),this._editorTimerId&&clearTimeout(this._editorTimerId),window.removeEventListener("scroll",this._onScroll)),this._dispose())},R.prototype.openEditor=function(e,t,o,i){if(!i&&!(i=this._hosts[0]))return;let n=i.getSectionSettings(o||"content"),l=this._activePos;if(l){let o=n?n.getType():"";if(l.colIndex===e&&l.rowIndex===t&&l.sectionName===o&&l.grid===i)return;this.closeCellEditor()}let r=n?n.getSection():null,s=r?r.getCell(e,t):null;s&&(i.scrollToColumn(e),i.scrollToRow(null,t),setTimeout(this._openEditor.bind(this,s,i),100))},R.prototype.closeCellEditor=function(e){this._commitText(e||this._autoCommitText)},R.prototype.enableBalloonMode=function(e){this._balloonMode=!1!==e},R.prototype.enableTitleEditing=function(e){this._editableTitle=!1!==e},R.prototype.disableTitleEditing=function(e){this._editableTitle=!1===e},R.prototype.disableCellEditing=function(e,t){e&&e.enableClass("no-editing",!1!==t)},R.prototype.disableDataBinding=function(e){this._dataBinding=!1===e},R.prototype.disableDblClick=function(e){let t=!1===e;if(this._dblClick!==t){this._dblClick=t;for(let e=this._hosts.length;--e>=0;)this._listenForTriggering(this._hosts[e],t)}},R.prototype.isEditing=function(){return this._editing},R.prototype.getTextBox=function(e,t){if(this._activeRowId){if(t=t||this._hosts[0]){let o=this._getColumnData(e,t).inCellCache;if(o)return o.inputElement}}else if(this._activeInCellCache)return this._activeInCellCache.inputElement;return null},R.prototype.getInitialText=function(){return this._initialText},R.prototype._getSourceContent=function(e,t,o,i,n){if("field"==this._contentSource&&"title"!==n)return this._getData(e,t,o);{let e,t;if(i){let t=i.childNodes.length;for(let o=0;o<t;++o)if(3===i.childNodes[o].nodeType){e=i.childNodes[o];break}}return e?t=e.textContent:i&&(t=i.textContent),t}},R.prototype._getRowIndex=function(e){if(e&&this._lastActiveGrid){let t=this._lastActiveGrid.getDataSource();if(t)return t.getRowIndex(e)}return-1},R.prototype._getRowId=function(e){if(null!=e&&this._lastActiveGrid){let t=this._lastActiveGrid.getDataSource();if(t)return t.getRowId(e)}return""},R.prototype.getActiveGrid=function(){return this._activePos?this._activePos.grid:null},R.prototype.getActiveColIndex=function(){if(this._activePos){let e=this._activePos.colIndex;if(null!=e)return e}return-1},R.prototype.getActiveRowIndex=function(){if(this._activeRowId)return this._getRowIndex(this._activeRowId);if(this._activePos){let e=this._activePos.rowIndex;if(null!=e)return e}return-1},R.prototype.getInputElementPosition=function(){return this._activePos||null},R.prototype.enableAutoCommitText=function(e){this._autoCommitText=!1!==e},R.prototype.isColumnEditable=function(e){let t=this._getColumnOption(e,"editableContent");return null==t?this._editableContent:t},R.prototype.supplyKey=function(e,t){let o=this._mockKeyboardEvent(e,t);this._onTextKeyDown(o),this._onTextKeyUp(o)},R.prototype.mockDoubleClick=function(e,t,o){let i=this._mockMouseEvent(e,t,o);this._onDoubleClick(i)},R.prototype._onDoubleClick=function(e,t){let o=this,i=t||o.getRelativeGrid(e);if(o.isEditing()||!i)return;let n=i.getRelativePosition(e),l=n.sectionType;if("content"===l&&!o.isColumnEditable(n.colIndex))return;if("title"===l&&!o._editableTitle)return;if("header"===l)return;let r=n.dataSource;if(null!=r){let e=r.getRowId(n.rowIndex);if(r.getGroupByRowId(e))return}e.preventDefault&&x.preventDefault(e),o.openEditor(n.colIndex,n.rowIndex,n.section,i)},R.prototype._openEditor=function(e,t,o){let i=this;if(!t.getElement()||this._hosts.indexOf(t)<0)return;if(o||(o=t.getRelativePosition(e)),!o.hit)return;if(i._dispatch("preEditorOpening",o),o.cancel)return;let n=o.colIndex,l=o.rowIndex,r=o.section,s=r.getCell(n,l),u=1,a=r.getStretchedCell(s,l);if(a?s=a:u=r.getCellRowSpan(n,l),!s||s.hasClass("no-editing"))return;i.closeRowEditor(!1,t),r.addClass("edit-mode"),i._lastActiveGrid=t,i._activePos=o,o.cell=i._activeCell=s,o.content=i._prevContent=s.getContent(),o.field=i._getField(n);let d=o.dataSource;if(null!=d){let e=o.rowId=this._getRowId(o.rowIndex);o.segmentSeparator=d.isSegmentSeparator(e),o.groupHeader=d.getGroupByRowId(e),o.rowData=this._getRow(d,e),d.stall&&d.stall(!0)}"title"===o.sectionType?i._activeInCellCache=i._createTitleEditor(t):i._activeInCellCache=i._createContentEditor(n,t);let c=o.inputElement=i._activeInCellCache.inputElement,p=o.editor=i._activeInCellCache.editor,h=i._activeInCellCache.balloonPopup,_=o?i._getSourceContent(o.dataSource,o.rowIndex,o.field,o.content,o.sectionType):"";l+1>=r.getRowCount()?c.classList.add("bottom"):c.classList.remove("bottom"),i._usingBalloon=i._isBalloonMode(s),i._usingBalloon?p.classList.add("balloon"):p.classList.remove("balloon");let m=p.style;(this._elfVersion||i._inlineStyling)&&(m.backgroundColor=r.getComputedStyle().backgroundColor);let g=r.getRowHeight(l),f=s.getWidth();if(!t.isPinnedColumn(n)){let e=t.getHScrollbar();if(e.isActive()){let t=e.getPaneSize();f>t&&(f=t)}}!i._usingBalloon||f>208?m.width=f+"px":m.width="",m.height=u>1?s.getHeight()+"px":g+"px";let y=document.body;if(i._compositeGrid||i._realTimeGrid){let e=i.getActiveGrid();e&&(y=e.getElement().parentElement)}h.enableUIBlocking(i._uiBlocking),h.addEventListener("hidden",i._onPopupHide),h.disableAutoHiding(!i._autoHiding),h.disableHideOnScroll(!0),h.attachTo(s.getElement()),h.show(!0,y),this._updateEditorPopup(i._activeInCellCache,s,t),i._customElement&&(i._customElementPopup.attachTo(p),i._customElementPopup.show(!0,y),i._customElementPopup.disableAutoHiding(!1),o.popupElement=i._customElement),i._setText(_,c),o.initialText=i._initialText=_,i._disablingScroll&&i._freezeScrolling(t,!0),o.autoSuggest=i._autoSuggest,i._autoSuggest&&(i._autoSuggest.attach===c&&(i._autoSuggest.attach=null),i._autoSuggest.parentNode!==p&&p.appendChild(i._autoSuggest),i._autoSuggest.attach=c,i._autoSuggest.positionTarget=c),i._dispatch("editorOpened",o),c.focus(),"function"==typeof c.select&&c.select(),o.initialText=i._initialText=i.getText(),i._editing=!0},R.prototype.openRowEditor=function(e,t){let o,i,n=this;if(t=t||n._hosts[0],n._getRowIndex(n._activeRowId)===e||!t)return;n.closeRowEditor(!1,t),n._commitText(!1);let l=t.getSection("content"),r=t.getDataSource(),s=(l.getColumnCount()||0)-1,u=e+1>=l.getRowCount(),a=this._elfVersion||n._inlineStyling?l.getComputedStyle().backgroundColor:null,d=l.getRowHeight(e),c=document.body;(n._compositeGrid||n._realTimeGrid)&&(c=t.getElement().parentElement);for(let p=0;p<=s;p++){if(!n.isColumnEditable(p))continue;let s=l.getCell(p,e);if(!s||s.hasClass("no-editing"))continue;let h=n._createContentEditor(p,t),_=s.getContent(),m=n._getField(p),g=n._getSourceContent(r,e,m,_,"content"),f=h.inputElement,y=h.editor,C=h.balloonPopup;o?C.enableUIBlocking(!1):(o=f,i=C,C.enableUIBlocking(n._uiBlocking)),n._setText(g,f),u?f.classList.add("bottom"):f.classList.remove("bottom");let v=y.style;a&&(v.backgroundColor=a),v.height=d+"px";let b=l.getCellWidth(p,e);v.width=b+"px",y.classList.remove("balloon"),C.disableAutoHiding(!0),C.disableHideOnScroll(!0),C.attachTo(s.getElement()),C.show(!0,c),this._updateEditorPopup(h,s,t)}o&&(i.addEventListener("hidden",n._onPopupHide),n._lastActiveGrid=t,n._editing=!0,n._activeRowId=this._getRowId(e),o.focus(),l.addClass("edit-mode"),n._disablingScroll&&n._freezeScrolling(t,!0))},R.prototype.closeRowEditor=function(e){let t=this,o=t._lastActiveGrid;if(!t._activeRowId||!o)return;let i=t._activeRowId,n=t._getRowIndex(i);e=!(n<=-1)&&!1!==e;let l,r=o.getSection("content"),s=o.getColumnCount(),u={},a=[];for(let i=0;i<s;i++){let n=t._getColumnData(i,o);if(l=n&&n.inCellCache,l&&(l.columnIndex=i,a.push(l),e)){let e=t._getField(i);l.field=e,u[e]=this._getValue(l.inputElement)}}let d,c,p=a.length;if(e&&(t.hasListener("beforeRowCommit")&&(c={grid:o,rowIndex:n,fieldValue:u,cancel:!1,rowId:t._activeRowId},t._dispatch("beforeRowCommit",c),e=!c.cancel),e)){let e=o.getDataSource();for(d=0;d<p;d++){l=a[d];let o=u[l.field];e&&t._setData(e,n,l.field,o);let i=r.getCell(l.columnIndex,n),s=i.getContent();s&&s.classList.contains("text")&&i.setContent(o)}}for(t.hasListener("rowEditorClosed")&&(c={grid:o,rowIndex:n,fieldValue:u,committed:e},t._dispatch("rowEditorClosed",c)),d=0;d<p;d++){let e=a[d].balloonPopup;e.removeEventListener("hidden",t._onPopupHide),e.hide()}t._freezeScrolling(o,!1),r.removeClass("edit-mode"),t._editing=!1,t._activeRowId="",t._lastActiveGrid=null,o.focus()},R.prototype.toggleRowEditor=function(e,t,o){this._getRowIndex(this._activeRowId)===e?this.closeRowEditor(t,o):this._activeRowId?(this.closeRowEditor(t,o),this.openRowEditor(e,o)):this.openRowEditor(e,o)},R.prototype._onScroll=function(e){if(this._scrolling=!0,!this._closingOnScroll&&this._editing)if(this._activeInCellCache){this._activeInCellCache.balloonPopup.hide()}else if(this._activeRowId){let e=this.getActiveGrid()||this._lastActiveGrid,t=(e.getSection("content").getColumnCount()||0)-1;for(let o=0;o<=t;o++){let t=this._getColumnData(o,e).inCellCache;if(!t)continue;let i=t.balloonPopup;i&&i.hide()}}this._onPopupHide(),this._scrolling=!1},R.prototype._onPopupHide=function(e){this._closingOnScroll||!this._scrolling?(this._commitText(this._autoCommitText),this.closeRowEditor(!1)):this.requestShowEditorPopup()},R.prototype._onAutoSuggestItemSelected=function(e){let t=e.detail;if(!t)return;let o=t.target;if(!o)return;let i=t.method;"click"!==i&&"enter"!==i||(this.setText(o.value),this._commitText(!0,t.suggestion))},R.prototype._onValueChanged=function(e){this._activeRowId||this._commitText(!0)},R.prototype._onMultiSelectionValueChanged=function(e){e.currentTarget.dirty=!0},R.prototype._onMultiSelectionEditorChanged=function(e){if(e.detail&&!1===e.detail.value&&this._activePos){let t=this._activePos.inputElement;t.dirty&&(this._onValueChanged(e),t.dirty=!1)}},R.prototype._onTextKeyDown=function(e){e.stopPropagation(),this._activeRowId||(27===e.keyCode&&this._commitText(this._autoCommitText),9===e.keyCode&&(this._autoSuggest&&this._autoSuggest.suggestions.length>0&&this._activeInCellCache.inputElement.focus(),e.preventDefault()))},R.prototype._onTextKeyUp=function(e){if(e.stopPropagation(),this._activeRowId)return;this.hasListener("keyUp")&&(this._activePos.text=this._activePos.enteredText=this._activeInCellCache.inputElement.value,this._dispatch("keyUp",this._activePos));let t=9===e.keyCode;if(t||13===e.keyCode){let o=this.getText(),i=this._activePos;if(this._initialText!==o){if(e.preventDefault(),this._autoSuggest&&this._autoSuggest.suggestions.length>0)return this._activeInCellCache.inputElement.focus(),void(this._autoSuggest.suggestions=[]);this._commitText(!0)}else this._commitText(!1);if(t&&this._tabToMove&&!e.altKey&&!e.ctrlKey){let t=i?i.grid:null;if(t&&t.getCellInfo){let o=t.getDataSource();for(;i;)if(i=e.shiftKey?t.getPrevCell(i):t.getNextCell(i),i&&i.cell){if(o.getRowDataAt(i.rowIndex)&&this.isColumnEditable(i.colIndex)){this.openEditor(i.colIndex,i.rowIndex,i.sectionName,i.grid);break}}else i=null}}}},R.prototype._commitText=function(e,t){let o=this,i=o._activePos;if(!o.isEditing()||!i)return;i.section.removeClass("edit-mode"),o._editing=!1;let n=i.text=this.getValue(),l=i.groupHeader||!1;if(e&&(t&&(i.suggestionDetail=t),o.hasListener("beforeCommit")&&(o._dispatch("beforeCommit",i),e=!i.cancel,n=i.text),e&&o._dataBinding&&!l)){let e=i.sectionSettings,l=e.getType();if("content"===l){if(this._realTimeGrid&&"X_RIC_NAME"===i.field){let e=null;if(t){let o=t.value;if(o.p){let t=o.p.PermId;t&&(e={permId:t})}}this._realTimeGrid.setRic(i.rowId,n,e)}else{let t=e.getDataSource();t&&(this._realTimeGrid?o._setStaticData(t,i.rowIndex,i.field,n):o._setData(t,i.rowIndex,i.field,n))}o._prevContent&&!o._prevContent.classList.contains("text")||o._activeCell.setContent(n)}else if("title"===l){let e=this.getGridApi();e&&e.setColumnName(i.colIndex,n)}else o._activeCell.setContent(n)}o.hasListener("editorClosed")&&(i.canceled=i.cancelled=!e,i.committed=e,o._dispatch("editorClosed",i)),o._activeInCellCache&&o._activeInCellCache.balloonPopup&&(o._activeInCellCache.balloonPopup.removeEventListener("hidden",o._onPopupHide),o._activeInCellCache.balloonPopup.hide()),x.removeParent(o._customElement);let r=i.grid;r&&(o._freezeScrolling(r,!1),r.focus());let s=i.dataSource;s&&s.stall&&s.stall(!1),o._activePos=o._activeCell=o._prevContent=o._lastActiveGrid=o._activeInCellCache=null},R.prototype._stopPropagation=function(e){e.stopPropagation()},R.prototype._isBalloonMode=function(e){let t=e.getElement(),o=t?window.getComputedStyle(t):{};return this._balloonMode||"none"===o.display||"hidden"===o.visibility},R.prototype._listenForTriggering=function(e,t){t?(e.listen("dblclick",this._onDoubleClick),a()&&(e.listen("touchstart",this._onTouchStart),e.listen("touchend",this._onTouchEnd),e.listen("touchcancel",this._onTouchEnd))):(e.unlisten("dblclick",this._onDoubleClick),e.unlisten("touchstart",this._onTouchStart),e.unlisten("touchend",this._onTouchEnd),e.unlisten("touchcancel",this._onTouchEnd))},R.prototype._onTouchStart=function(e){this._resetTouchTimer(),this._touchTimerId=setTimeout(this._onTouchTimer,this._longPressTime)},R.prototype._onTouchTimer=function(e){this._touchTimerId=0},R.prototype._onTouchEnd=function(e){this._resetTouchTimer()||this._onDoubleClick(e)},R.prototype._resetTouchTimer=function(){return!!this._touchTimerId&&(clearTimeout(this._touchTimerId),this._touchTimerId=0,!0)},R.prototype.setPopupElement=function(e){let t=this._activeInCellCache&&this._activeInCellCache.balloonPopup;this._customElement&&(t&&t.removeFocusElement(this._customElement),this._customElementPopup.dispose(),this._customElementPopup=null),this._customElement=e,this._customElement&&(this._customElementPopup=new S(this._customElement),t&&t.addFocusElement(this._customElement))},R.prototype.setText=function(e){this._activeInCellCache&&this._setText(e,this._activeInCellCache.inputElement)},R.prototype._setText=function(e,t){t._origValue=e;let o=t.tagName.toLowerCase(),i=R._uiElementTypesMap;if(o===i.checkbox){!!e&&!("f"===e||"false"===e)?t.setAttribute("checked","true"):t.removeAttribute("checked")}else if(o===i.combobox){t.getAttribute("multiple")?t.values=e.split(/, */):this._elfVersion<=3?(t.value="",t.value={value:e,label:e}):t.value=e}else if(o===i.date)I.setDate(t,e);else{let o="";null!=e&&(o="string"==typeof e?e:e+""),t.value=o}},R.prototype.getText=function(){return this._activeInCellCache?this._getText(this._activeInCellCache.inputElement):""},R.prototype._getText=function(e){let t=e.tagName.toLowerCase(),o=R._uiElementTypesMap;if(t===o.checkbox)return e.checked+"";if(t===o.combobox){if(this._elfVersion<=3)return e.value?e.value.value:""}else if(t===o.date)return e.value+"";return e.value},R.prototype.getValue=function(){return this._activeInCellCache?this._getValue(this._activeInCellCache.inputElement):null},R.prototype._getValue=function(e){let t=e.tagName.toLowerCase(),o=R._uiElementTypesMap;return t===o.checkbox?!!e.checked:t===o.date?I.getDate(e):t===o.number||"number"==typeof e._origValue?+e.value:t===o.combobox&&e.getAttribute("multiple")?e.values.join(", "):this._getText(e)},R.prototype.clearText=function(){this.setText("")},R.prototype.appendText=function(e){e&&this._activeInCellCache&&(this._activeInCellCache.inputElement.value+=e)},R.prototype.commitText=function(e){e&&this.setText(e),this._commitText(!0)},R.prototype.getBalloonPopup=function(){return this._activeInCellCache?this._activeInCellCache.balloonPopup:null},R.prototype.getAutoSuggest=function(){return this._autoSuggest},R.prototype.setDisablingScroll=function(e){let t=e;return this._disablingScroll=e,t},R.prototype._freezeScrolling=function(e,t){if(!e)return;let o=e.getVScrollbar(),i=e.getHScrollbar();o&&o.freezeScrolling(t),i&&i.freezeScrolling(t)},R.prototype.requestShowEditorPopup=function(){this._editorTimerId||(this._editorTimerId=setTimeout(this._onUpdateEditorPopup.bind(this),100))},R.prototype._onUpdateEditorPopup=function(){this._editorTimerId=0;let e=this.getActiveGrid()||this._lastActiveGrid;if(!e)return;let t,o,i=document.body;if((this._compositeGrid||this._realTimeGrid)&&(i=e.getElement().parentElement),this._activeInCellCache){let n=this._activePos;if(n){t=n.rowIndex,o=n.colIndex;let l=e.getSection(n.sectionType),r=l.getCell(o,t),s=l.getStretchedCell(r,t);if(s&&(r=s),r){let t=this._activeInCellCache.balloonPopup;t.attachTo(r.getElement()),t.show(!0,i),this._updateEditorPopup(this._activeInCellCache,r,e)}}}else if(this._activeRowId){let o=e.getSection("content");if(t=this._getRowIndex(this._activeRowId),o.isRowVisible(t)){let n=(o.getColumnCount()||0)-1;for(let l=0;l<=n;l++){let n=this._getColumnData(l,e).inCellCache,r=o.getCell(l,t);if(!n||!r)continue;let s=n.balloonPopup;s.attachTo(r.getElement()),s.show(!0,i),this._updateEditorPopup(n,r,e)}}}},R.prototype._updateEditorPopup=function(e,t,o){let i=e.balloonPopup,n=e.editor,l=e.inputElement,r=i.getElement(),s=o.getRelativePosition(t),u=t.getWidth(),a=t.getHeight(),d=o.getColumnRect(0,o.getColumnCount()),c=o.getRowRect(0,o.getRowCount()),p=d.scrollViewSize,h=c.scrollViewSize,_=0,m="content"==s.sectionType?c.scrollViewTop:0,g=a,f=u,y="inline-block",C=0,v=0;if(-1!=d.leftPinnedIndex){let e=0;o.getVScrollbar().isActive()&&(e-=8),e+=d.width-d.scrollViewSize,p+=e,_+=e}if(n.classList.contains("balloon")&&!this._activeRowId&&(r.style.display="",n.style.width="",n.style.marginLeft="",n.style.marginTop="",C=-4,v=-4,f=i.getElement().offsetWidth),s.hit){let e=s.x+f,t=s.y-m+g;o.isPinnedColumn(s.colIndex)||s.x<_&&(f-=_-s.x,C+=Math.abs(s.x-_)),e>p&&(f-=e-p),s.y<m&&(g=g+s.y-m,v+=Math.abs(s.y-m)),t>h&&(g-=t-h),(f<48&&f!=u||g<16&&g!=a)&&(y="none")}else y="none";r.style.display=y,n.style.width=f?f+"px":"",n.style.height=g?g+"px":"",n.style.marginLeft=C?C+"px":0,n.style.marginTop=v?v+"px":0,l.focus()};!function(e,t){if(!e||!t)return;if(!t.prototype.getName)return;let o=t.prototype.getName().replace(/Plugin$/,"");if(!o)return;let i=e.tr;i||(i=e.tr={});let n=i.grid;n||(n=i.grid={}),n[o+"Plugin"]=t,i[o+"Extension"]=t}(window,R)}]);