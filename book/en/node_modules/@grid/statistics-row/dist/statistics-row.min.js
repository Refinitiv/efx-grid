!function(t){var e={};function i(o){if(e[o])return e[o].exports;var n=e[o]={i:o,l:!1,exports:{}};return t[o].call(n.exports,n,n.exports,i),n.l=!0,n.exports}i.m=t,i.c=e,i.d=function(t,e,o){i.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:o})},i.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},i.t=function(t,e){if(1&e&&(t=i(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var o=Object.create(null);if(i.r(o),Object.defineProperty(o,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var n in t)i.d(o,n,function(e){return t[e]}.bind(null,n));return o},i.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return i.d(e,"a",e),e},i.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},i.p="",i(i.s=0)}([function(t,e,i){"use strict";i.r(e);var o={inherits:function(t,e){function i(){}i.prototype=e.prototype,t.prototype=new i,t.prototype.constructor=t,t.base=function(t,i,o){i||(i="constructor");for(var n=arguments.length,r=new Array(n),s=2;s<n;s++)r[s-2]=arguments[s];return e.prototype[i].apply(t,r)}}},n=function(){};n.prototype._events=null,n.prototype._listenerCount=0,n.prototype.addEventListener=function(t,e){if(t&&e){this._events||(this._events={});var i=this._events[t];i?i.indexOf(e)<0&&(i.push(e),++this._listenerCount):(this._events[t]=[e],++this._listenerCount)}},n.prototype.removeEventListener=function(t,e){var i=this._events?this._events[t]:null;if(i){var o=i.indexOf(e);o>=0&&(i.splice(o,1),--this._listenerCount)}},n.prototype.removeAllEventListeners=function(){this._events=null,this._listenerCount=0},n.prototype.hasListener=function(t){if(this._listenerCount){if(t){var e=this._events?this._events[t]:null;return!!e&&e.length>0}return!0}return!1},n.prototype.getListener=function(t,e){if(t){var i=this._events?this._events[t]:null;if(i)return e||(e=0),i[e]||null}return null},n.prototype.addListener=function(t,e){var i=t?t[e]:null;"function"==typeof i&&this.addEventListener(e,i)},n.prototype._prepareEventArguments=function(t,e){return e},n.prototype._dispatch=function(t,e){var i=this._events?this._events[t]:null;if(i){e=this._prepareEventArguments(t,e);for(var o=i.length,n=0;n<o;++n)i[n](e)}};n.preventDefault=function(t){t&&t.preventDefault&&(t.preventDefault(),t.stopPropagation())};var r=function(t,e,i){this.resolve=this.resolve.bind(this),this.reject=this.reject.bind(this),"function"==typeof t&&(this._resolveHandler=t),"function"==typeof e&&(this._rejectHandler=e),null!=i&&(this._ctx=i),this.promise=new Promise(function(t,e){this._resolve=t,this._reject=e}.bind(this))};r.prototype.promise=null,r.prototype._resolve=null,r.prototype._reject=null,r.prototype._resolveHandler=null,r.prototype._rejectHandler=null,r.prototype._ctx=null,r.prototype._fulfilled=!1,r.prototype.resolve=function(t){if(this._resolve){if(this._resolveHandler){var e=this._resolveHandler(t,this._ctx||this);null!=e&&(t=e)}this._resolve(t),this._finally()}},r.prototype.reject=function(t){if(this._reject){if(this._rejectHandler){var e=this._rejectHandler(t,this._ctx||this);null!=e&&(t=e)}this._reject(t),this._finally()}},r.prototype.isFulfilled=function(){return this._fulfilled},r.prototype._finally=function(){this._fulfilled=!0,this._ctx=this._resolveHandler=this._rejectHandler=null,this._resolve=this._reject=null};var s=function(){};o.inherits(s,n),s.prototype._hosts=null,s.prototype._compositeGrid=null,s.prototype._realTimeGrid=null,s.prototype._rowGetter=null,s.prototype._initializedGrid=!1,s.prototype.listen=s.prototype.addEventListener,s.prototype.unlisten=s.prototype.removeEventListener,s.prototype.afterInit=function(t,e,i){var o=null;i&&i.getCoreGrid&&(o=i.getCoreGrid()),o&&(this.getGridApi()||this.setGridWrapper("compositegrid",i),this._compositeGrid&&o.loadPlugin(this,e)),this._initializedGrid||(this._initializedGrid=!0,this._rowGetter=this._realTimeGrid?h:u,this._afterInit())},s.prototype._afterInit=function(){},s.prototype._dispose=function(){this._hosts&&(this._hosts.length||(this._compositeGrid=this._realTimeGrid=null,this._initializedGrid=!1))},s.prototype.hasMultiTableSupport=function(){return!1},s.prototype._prepareEventArguments=function(t,e){return e||(e={}),e.api=this.getGridApi(),e},s.prototype.getName=function(){return"GridPlugin"},s.prototype.initialize=function(t,e){},s.prototype.unload=function(t){this._dispose()},s.prototype.getRelativeGrid=function(t){var e=null;if(t.target){var i=(e=t.target).api;if(i&&i.getCoreGrid)return i.getCoreGrid()}else t.getElement?e=t.getElement():1===t.nodeType&&(e=t);if(e)for(var o=this._hosts.length;--o>=0;){var n=this._hosts[o];if(n.getElement().contains(e))return n}return null},s.prototype.setGridWrapper=function(t,e){t&&("compositegrid"===(t=t.toLowerCase())?this._compositeGrid=e:"realtimegrid"===t&&(this._realTimeGrid=e))},s.prototype.getGridApi=function(t){if(null==t)return this._compositeGrid||this._realTimeGrid;var e="number"==typeof t?this._hosts[t]:t;return e&&e._wrapper||null},s.prototype.getColumnName=function(t){if(this._compositeGrid){var e=this._compositeGrid.getColumnModel(t);if(e)return e.title?e.title:e.field}else{var i=this.getColumnIndex(t),o=this._realTimeGrid.getColumnDefinition(i);if(o)return o.getName()}return""},s.prototype.getColumnIndex=function(t){if("number"==typeof t)return t;if(this._compositeGrid){var e=this._compositeGrid.getColumnFields().indexOf(t);return e>-1?e:this._compositeGrid.getColumnIndex(t)}return this._realTimeGrid.getColumnIndex(t)},s.prototype.getColumnIndices=function(t){var e=this.getGridApi();if(e.getColumnIndices)return e.getColumnIndices(t);if(this._compositeGrid){for(var i,o=this._compositeGrid.getColumnFields(),n=this._compositeGrid.getColumnCount(),r=[],s=0;s<t.length;s++)if("number"==typeof(i=t[s]))i>=0&&i<n&&r.push(i);else{var a=o.indexOf(i);-1!==a&&r.push(a)}return r}return this._realTimeGrid.getColumnIndices(t)},s.prototype.getColumnId=function(t){if("string"==typeof t)return t;var e=this.getColumnCount();if(t<0||t>=e)return"";if(this._compositeGrid)return this._compositeGrid.getColumnId(t);var i=this._realTimeGrid.getColumnDefinition(t);return i?i.getId():""},s.prototype.getColumnIds=function(){return this._hosts&&this._hosts.length?this._hosts[0].getColumnIds():[]},s.prototype.getColumnField=function(t){return this._hosts&&this._hosts.length?this._hosts[0].getColumnField(t):""},s.prototype.getColumnFields=function(){return this._hosts&&this._hosts.length?this._hosts[0].getColumnFields():[]},s.prototype.getColumnCount=function(){if(this._hosts){var t=this._hosts[0];return t?t.getColumnCount():0}return 0},s.prototype._moveColumnById=function(t,e){var i=this._hosts,o=i?i.length:0;if(o){for(var n=0,r=0;r<o;++r)n|=i[r].moveColumnById(t,e);return!!n}return!1},s.prototype._reorderColumns=function(t,e){var i=this._hosts,o=i?i.length:0;if(o){for(var n=0,r=0;r<o;++r)n|=i[r].reorderColumns(t,e);return!!n}return!1},s.prototype._loadPlugin=function(t,e,i){return t||(t=e.getPlugin(i))||(t=e.loadPlugin(i))&&this._initializedGrid&&(t._initializedGrid=!0),t},s.prototype._requestPlugin=function(t,e,i){return this._initializedGrid?s.requestPlugin(t,e,i,this._compositeGrid,this._realTimeGrid):Promise.reject("Plugin should be requested after the initialization")},s.requestPlugin=function(t,e,i,o,n){var a=null;if(t){var l=null;1===t.nodeType?l=t.api:t.getCoreGrid?l=t:t.getPlugin&&(a=t),l&&(a=l.getCoreGrid(),o||n||(l.getModel?o=l:n=l))}if(!a)return Promise.reject("Cannot find grid element");var u=a.getPlugin(e);if(u)return Promise.resolve(u);var h=new r;return setTimeout(s._onPluginRequested.bind(null,{grid:a,pluginRef:e,compositeGrid:o,realTimeGrid:n,config:i,deferred:h}),10),h.promise},s._onPluginRequested=function(t){var e=t.grid;if(!e.getElement())return t.deferred.reject("Grid has been disposed before the plugin is fully loaded: "+t.pluginRef);var i=e.getPlugin(t.pluginRef);if(i)return t.deferred.resolve(i);var o=!1;return t.pluginRef.beforeInit&&(o=!0,t.pluginRef.beforeInit(e.getElement(),t.config,!0)),(i=e.loadPlugin(t.pluginRef,t.config))?(!o&&i.beforeInit&&(o=!0,i.beforeInit(e.getElement(),t.config)),i.setGridWrapper&&(t.compositeGrid?i.setGridWrapper("compositegrid",t.compositeGrid):t.realTimeGrid&&i.setGridWrapper("realtimegrid",t.realTimeGrid)),i.afterInit&&i.afterInit(),t.deferred.resolve(i)):t.deferred.reject("Unable to load required dependency: "+t.pluginRef)},s.prototype._getPlugin=function(t,e){return null==e&&(e=this._hosts[0]),e?e.getPlugin(t):null},s.prototype._getColumnData=function(t,e){return null==e&&(e=this._hosts[0]),e?e.getColumnData(t):null},s.prototype._getColumnOption=function(t,e,i){var o=this._getColumnData(t,i);return o?o[e]:null},s.prototype._newColumnData=function(t,e){if(null==e&&(e=this._hosts[0]),!e)return{};var i=e.getColumnData(t);return i||(i=e.setColumnData(t,{})),i},s.prototype._getField=function(t){var e=this._compositeGrid||this._realTimeGrid;return e?e.getColumnField(t):""},s.prototype._getRowData=function(t){return this._realTimeGrid&&t?t.ROW_DEF.getRowData():t},s.prototype._getRow=function(t,e){return p(t.getRowDataAt(e))},s.prototype._getData=function(t,e,i){var o=this._getRow(t,e);return o?o[i]:void 0},s.prototype._setData=function(t,e,i,o){if(this._realTimeGrid){var n=l(t,e);n&&n.setData(i,o)}else"number"==typeof e?t.setDataAt(e,i,o):t.setData(e,i,o)},s.prototype._setRowData=function(t,e,i){if(this._realTimeGrid){var o=l(t,e);o&&o.setRowData(i)}else"number"==typeof e?t.setRowDataAt(e,i):t.setRowData(e,i)},s.prototype._setStaticData=function(t,e,i,o){if(this._realTimeGrid){var n=l(t,e);n&&n.setStaticData(i,o)}else this._setData(t,e,i,o)},s.prototype._setColumnData=function(t,e,i,o){if(e){var n=Array.isArray(o)?o:t.getAllRowIds(!0),r=n?n.length:0;if(r)if(1!==r){var s=Array.isArray(i)?i:n.map((function(){return i}));if(this._realTimeGrid){for(var a=0;a<r;++a){var l=t.getRowData(n[a]);if(l){var u=l.ROW_DEF;u&&(u.getRowData()[e]=s[a])}}t.dispatchGlobalChange||(t=t.getDataSource()),t&&t.dispatchGlobalChange&&t.dispatchGlobalChange()}else t.setColumnData(e,s,n)}else this._setData(t,n[0],e,Array.isArray(i)?i[0]:i)}},s.prototype._activateColumnRenderer=function(t,e,i){if(null!=t){var o=this._realTimeGrid;o?o.activateColumnRenderer(t,e,i):"function"==typeof i?this._hosts[0].setColumnDataBindingHandler(t,i):this._hosts[0].setColumnDataBindingHandler(t,null)}},s.prototype._mockMouseEvent=function(t,e,i){null==t&&(t=0),null==e&&(e=0);var o=i||{};if(t>=0&&e>=0){var n=this._activeGrid||this._hosts[0],r=n?n.getCell(o.sectionType||"content",t,e):null;o.target=r?r.getElement():null}return o};var a={left:37,right:39,up:38,down:40,tab:9};s.prototype._mockKeyboardEvent=function(t,e){var i=e||{};return i.preventDefault=function(){},i.stopPropagation=function(){},"string"==typeof t&&(t=t.toLowerCase(),t=a[t]),i.keyCode=t,i};var l=function(t,e){var i="number"==typeof e?t.getRowDataAt(e):t.getRowData(e);return i&&i.ROW_DEF||null},u=function(t){return t},h=function(t){return t?t.ROW_DEF.getRowData():null},p=function(t){if(t){var e=t.ROW_DEF;return e?e.getRowData():t}return null},d=function(t){this._onPostDataSourceChanged=this._onPostDataSourceChanged.bind(this),this._onPostSectionDataBinding=this._onPostSectionDataBinding.bind(this),this._onColumnAdded=this._onColumnAdded.bind(this),this._onExtensionLoaded=this._onExtensionLoaded.bind(this),this._onDataChanged=this._onDataChanged.bind(this),this._onRowRemoved=this._onRowRemoved.bind(this),this._hosts=[],this._headerRows=[],this._footerRows=[],this._rows=[],t&&this.config({statisticsRow:t})};o.inherits(d,s),d._aliases={average:"average",avg:"average",mean:"average",count:"count",max:"max",maximum:"max",min:"min",minimum:"min",sum:"sum",summation:"sum"},d._defaultLabels={average:"Average",count:"Count",max:"Maximum",min:"Minimum",sum:"Summation"},d.prototype._invalidText="",d.prototype._noColoring=!1,d.prototype._noFormatting=!1,d.prototype._headerRows=null,d.prototype._footerRows=null,d.prototype._rows=null,d.prototype._headerSect=null,d.prototype._footerSect=null,d.prototype._tfExt=null,d.prototype._ccExt=null,d.prototype._disabledUIs=!1,d.prototype.getName=function(){return"StatisticsRowPlugin"},d.prototype.initialize=function(t,e){this._hosts.indexOf(t)>=0||(this._hosts.push(t),setTimeout(this._onExtensionLoaded,0),this._disabledUIs=!0,this.config(e),this._disabledUIs=!1,t.getDataSource().listen("dataChanged",this._onDataChanged),t.listen("rowRemoved",this._onRowRemoved),t.listen("postDataSourceChanged",this._onPostDataSourceChanged),t.listen("postSectionDataBinding",this._onPostSectionDataBinding),t.listen("columnAdded",this._onColumnAdded),t.getSection("title")&&this._onPostDataSourceChanged())},d.prototype._onExtensionLoaded=function(){if(!this._tfExt||!this._ccExt){var t=this._hosts[0];t&&(this._tfExt=t.getPlugin("TextFormattingPlugin"),this._ccExt=t.getPlugin("ConditionalColoringPlugin"))}},d.prototype.unload=function(t){var e=this._hosts.indexOf(t);e<0||(this._hosts.splice(e,1),t.getDataSource().unlisten("dataChanged",this._onDataChanged),t.unlisten("rowRemoved",this._onRowRemoved),t.unlisten("postDataSourceChanged",this._onPostDataSourceChanged),t.unlisten("postSectionDataBinding",this._onPostSectionDataBinding),t.unlisten("columnAdded",this._onColumnAdded),this._hosts.length||(this._headerSect=this._footerSect=null,this._tfExt=this._ccExt=null),this._dispose())},d.prototype.config=function(t){if(t){var e=t.statisticsRow;e&&(null!=e.invalidText&&(this._invalidText=e.invalidText),null!=e.noColoring&&(this._noColoring=!!e.noColoring),null!=e.noFormatting&&(this._noFormatting=!!e.noFormatting),this.addListener(e,"postCalculation"),this.addListener(e,"postRendering"),null!=e.rows&&this.setStatisticsRows(e.rows));for(var i=t.columns,o=i?i.length:0,n=0;n<o;++n){var r=i[n];this._configColumn(n,r)}}},d.prototype.getConfigObject=function(t){var e=t||{},i=e.columns;i||(i=e.columns=[]);for(var o=this.getColumnCount(),n=0;n<o;++n){var r=i[n];r||(r=i[n]={});var s=this._getExtColumnConfig(n);s&&(s.label?r.statistics="label":s.statistics&&(r.statistics=!0))}var a=e.statisticsRow;return a||(a=e.statisticsRow={}),this._rows.length>0&&(a.rows=this._rows),this._invalidText&&(a.invalidText=this._invalidText),this._noColoring&&(a.noColoring=this._noColoring),this._noFormatting&&(a.noFormatting=this._noFormatting),e},d.prototype.setStatisticsRows=function(t){var e=t?t.length:0;this._headerRows.length=0,this._footerRows.length=0;for(var i=0;i<e;++i){var o=this._prepareStatRow(t[i]);"header"===o.placement?this._headerRows.push(o):this._footerRows.push(o)}this._rows=this._headerRows.concat(this._footerRows),this._prepareSections(),this._updateUIs()},d.prototype.getStatisticsRows=function(){return this._rows.slice()},d.prototype._prepareStatRow=function(t){if(!t)return null;var e=t.placement;t.placement="header"===e||"title"===e?"header":"footer";var i=t.statistic||t.statistics;if(t.statistics&&(t.statistics=null),i){var o=d._aliases[i.toLowerCase()];o&&(i=o)}return t.statistic=i||"custom",t.cachedData={},t},d.prototype._getStatRowIndex=function(t){var e=-1;if("string"==typeof t&&t)for(var i=this._rows.length,o=0;o<i;++o){var n=this._rows[o];if(n.statistic===t){e=o;break}if(n.id===t){e=o;break}}else"number"==typeof t?e=t:t&&(e=+t)!=e&&(e=-1),(e<0||e>=this._rows.length)&&(e=-1);return e},d.prototype.setStatisticsRow=function(t,e){var i=this._getStatRowIndex(t),o=this._rows[i];if(!o||o===e)return!1;var n=this._prepareStatRow(e);if(!n)return!1;n.placement=o.placement;var r="header"===n.placement?this._headerRows:this._footerRows,s=r.indexOf(o);return this._rows[i]=n,r[s]=n,this._updateUIs(),!0},d.prototype.addStatisticsRow=function(t){var e=this._prepareStatRow(t),i=this._rows.indexOf(e);!e||i>=0||("header"===e.placement?this._headerRows.push(e):this._footerRows.push(e),this._rows=this._headerRows.concat(this._footerRows),this._prepareSections(),this._updateUIs())},d.prototype.removeStatisticsRow=function(t){var e=this._getStatRowIndex(t);if(!(e<0)){var i=this._rows[e],o="header"===i.placement?this._headerRows:this._footerRows,n=o.indexOf(i);this._rows.splice(e,1),o.splice(n,1),this._prepareSections(),this._updateUIs()}},d.prototype._configColumn=function(t,e){if(e){var i=e.statistics||e.statistic;if(!i)return;var o=this._newColumnData(t),n=o.statisticsRow;n||(n=o.statisticsRow={}),"label"===i?n.label=!0:n.statistics=!0}},d.prototype._getExtColumnConfig=function(t){return this._getColumnOption(t,"statisticsRow")||null},d.prototype._onColumnAdded=function(t){t.context&&null!=t.colIndex&&this._configColumn(t.colIndex,t.context)},d.prototype._prepareSections=function(){var t=this._hosts[0];if(t&&!this._disabledUIs){var e,i,o=t.getSection("content"),n=t.getDefaultRowHeight();this._headerRows.length?((i=this._headerSect)||(e=o?o.getIndex():1,(i=this._headerSect=t.addSectionAt(e,"title","statisticsHeaderRows")).setDefaultRowHeight(n),i.enableClass("statistics-rows")),i.setRowCount(this._headerRows.length)):this._headerSect&&(t.removeSectionAt(this._headerSect.getIndex()),this._headerSect=null),this._footerRows.length?((i=this._footerSect)||(e=o?o.getIndex()+1:t.getSectionCount(),(i=this._footerSect=t.addSectionAt(e,"footer","statisticsFooterRows")).setDefaultRowHeight(n),i.enableClass("statistics-rows")),i.setRowCount(this._footerRows.length)):this._footerSect&&(t.removeSectionAt(this._footerSect.getIndex()),this._footerSect=null)}},d.prototype._updateUIs=function(){var t=this._hosts[0];t&&!this._disabledUIs&&(t.getRowCount()>0?t.requestRowRefresh():this._onPostSectionDataBinding())},d.prototype._onPostDataSourceChanged=function(t){this._prepareSections()},d.prototype._onDataChanged=function(t){this._updateUIs()},d.prototype._onRowRemoved=function(t){t.rowCount||"content"===t.sectionType&&this._onPostSectionDataBinding()},d.prototype._onPostSectionDataBinding=function(t){if((this._headerSect||this._footerSect)&&(!t||!t.positionChangeOnly)){var e=this._hosts[0],i=e.getColumnCount(),o=e.getDataSource(),n=o.getDataSource(),r=n.getAllRowData(),s=r.length,a=null;if(this._compositeGrid?a=this._compositeGrid.getColumnFields():this._realTimeGrid&&(a=this._realTimeGrid.getColumnFields(),r=r.map(this._rowGetter)),a){var l,u=new Array(i);for(l=0;l<i;++l){u[l]=null;var h=this._getExtColumnConfig(l);if(h){var p,d,c=a[l],_=0,f=null;if(h.statistics){f=u[l]={};var g=0,m=NaN,v=NaN;for(p=0;p<s;++p)null!=(d=r[p][c])&&("number"!=typeof d&&(d=+d),d==d&&(++_,d>=m||(m=d),d<=v||(v=d),g+=d));f.field=c,f.count=_,f.sum=_>0?g:NaN,f.average=g/_,f.min=m,f.max=v}else if(h.label){for(f=u[l]={label:!0},p=0;p<s;++p)((d=r[p][c])||0===d)&&++_;f.field=c,f.count=_}}}for(this.hasListener("postCalculation")&&this._dispatch("postCalculation",{colCount:i,fields:a,statistics:u,dataRows:r,dataView:o,dataTable:n,core:e,extension:this}),l=0;l<i;++l)this._renderStatistics(l,u[l],!!t&&t.actualUpdate);this.hasListener("postRendering")&&this._dispatch("postRendering",{colCount:i,fields:a,statistics:u,headerSection:this._headerSect,footerSection:this._footerSect,headerRows:this._headerRows,footerRows:this._footerRows,core:e,extension:this})}}},d.prototype._renderStatistics=function(t,e,i){if((this._headerSect||this._footerSect)&&e){var o,n;if(this._headerSect)for(n=this._headerRows.length,o=0;o<n;++o)this._headerRows[o].cell=this._headerSect.getCell(t,o);if(this._footerSect)for(n=this._footerRows.length,o=0;o<n;++o)this._footerRows[o].cell=this._footerSect.getCell(t,o);var r=this._rows;for(n=r.length,o=0;o<n;++o){var s=r[o],a=null,l=s.cell;if(null!=l){var u=s.statistic;if(e.label)null==(a=s.label)&&(a=d._defaultLabels[u]||u);else if((a=e[u])||0===a){var h=a;if(this._tfExt&&!this._noFormatting&&(a=this._tfExt.formatText(t,h)),this._ccExt&&!this._noColoring){var p=s.cachedData;p[e.field]=h,this._ccExt.applyColor(t,l,p,i)}}else a=this._invalidText;l.setContent(a),s.cell=null}}}};!function(t,e){if(t&&e&&e.prototype.getName){var i=e.prototype.getName().replace(/Plugin$/,"");if(i){var o=t.tr;o||(o=t.tr={});var n=o.grid;n||(n=o.grid={}),n[i+"Plugin"]=e,o[i+"Extension"]=e}}}(window,d)}]);