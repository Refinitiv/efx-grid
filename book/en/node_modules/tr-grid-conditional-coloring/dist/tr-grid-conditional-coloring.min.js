!function(e){var t={};function n(r){if(t[r])return t[r].exports;var o=t[r]={i:r,l:!1,exports:{}};return e[r].call(o.exports,o,o.exports,n),o.l=!0,o.exports}n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var o in e)n.d(r,o,function(t){return e[t]}.bind(null,o));return r},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=6)}([function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"a",(function(){return extendObject})),__webpack_require__.d(__webpack_exports__,"d",(function(){return parseCondition})),__webpack_require__.d(__webpack_exports__,"e",(function(){return prettifyCss})),__webpack_require__.d(__webpack_exports__,"b",(function(){return injectCss})),__webpack_require__.d(__webpack_exports__,"c",(function(){return nestedObjectToArray})),__webpack_require__.d(__webpack_exports__,"f",(function(){return rgb2Hex}));var Util={post:function(e,t){return Util._post(e,t).then(Util.toJSON)},requestText:function(e,t){return Util._post(e,t,"text/plain").then(Util.toText)},requestByUrlEncoded:function(e,t){return Util._post(e,t,"application/x-www-form-urlencoded").then(Util.toJSON)},toJSON:function(e){return Util._logError(e)?Promise.reject(e):e.json()},toText:function(e){return Util._logError(e)?Promise.reject(e):e.text()},_logError:function(e){return!!(e&&e.status>=300)&&(console.log("Response "+e.status+": "+e.statusText),!0)},_post:function(e,t,n){var r={method:t?"POST":"GET",headers:{"Content-Type":n||"application/json"}};return t&&(r.body="string"==typeof t?t:JSON.stringify(t)),fetch(e,r)}},extendObject=function(e,t,n){if(!e)return null;if(!t||e===t)return e;var r;if(n)for(var o=n.length,i=0;i<o;++i)(r=n[i])&&extendProperty(e,t,r);else for(r in t)extendProperty(e,t,r);return e},cloneObject=function(e,t){return extendObject({},e,t)},arrayToObject=function(e,t){if(!Array.isArray(e))return e;if(!t)return null;var n=e;e={};for(var r=n.length,o=0;o<r;++o){var i=t[o];i&&void 0!==n[o]&&(e[i]=n[o])}return e},extendProperty=function(e,t,n){var r=t[n];if(null!=r){var o=e[n];Array.isArray(o)?e[n]=o.concat(r):Array.isArray(r)&&o?e[n]=r.concat(o):e[n]=r}},extendArrayProperty=function(e,t,n){var r=null;if(n){var o=e[t];r=o?Array.isArray(o)?o:e[t]=[o]:e[t]=[],Array.isArray(n)?n.length&&(n.length>1?Array.prototype.push.apply(r,n):r.push(n[0])):r.push(n)}return r},_bracketExp=new RegExp(/\[[^\[]*\]/g),parseCondition=function(expression){if(!expression)return null;if("string"!=typeof expression)return"function"==typeof expression?expression:null;for(var brackets=expression.match(_bracketExp),map={},fields=[],len=brackets?brackets.length:0,i=len;--i>=0;){var field=brackets[i];map[field]||(map[field]="f["+fields.length+"]",fields.push(field.substring(1,field.length-1)))}expression=expression.replace(_bracketExp,(function(e){return"rowData["+map[e]+"]"}));var finalExp="(function(f, rowData) { return ("+expression+"); })",fn=null;try{fn=eval(finalExp),fn=fn.bind(null,fields)}catch(e){console.log(e.message)}return fn||null},_encloseBracket=function(e){return Array.isArray(e)?"{\n"+e.join("\n")+"\n}":e},_indentBracketContent=function(e){return e.replace(/\n+/g,"\n\t").replace(/\n\t}$/,"\n}")},prettifyCss=function(e){if(e){var t="";if(Array.isArray(e))t=e.map(_encloseBracket).join("\n").replace(/{\s*{/g,"{").replace(/\s+{/g," {");else t="string"==typeof e?e:e+"";if(t)return t.replace(/{[\w\W]*?}/g,_indentBracketContent)}return""},getShadowRoot=function(e){var t;if(e&&(e.shadowRoot?t=e.shadowRoot:e.getRootNode&&(t=e.getRootNode()),t&&t!==document&&t!==e))return t;return null},injectCss=function(e,t){if(!e)return null;var n=document.createElement("style");n.textContent="\n"+e+"\n";var r,o=getShadowRoot(t),i=!0;return o||(i=!1,o=document.head),i&&o.children&&o.children.length&&(r=o.children[0]),r?o.insertBefore(n,r):o.appendChild(n),n},isIE=function(){var e=window.navigator.userAgent;return e.indexOf("MSIE ")>0||e.indexOf("Trident/")>0||e.indexOf("Edge/")>0},isMac=function(){return/Mac/.test(navigator.platform)},isTouchDevice=function(){return!!(navigator.maxTouchPoints&&navigator.maxTouchPoints<256||navigator.msMaxTouchPoints&&navigator.msMaxTouchPoints<256)},nestedObjectToArray=function(e,t){for(var n in t||(t=[]),e){var r=e[n];"object"==typeof r?nestedObjectToArray(r,t):t.push(r)}return t},rgb2Hex=function(e){if(!e||"string"!=typeof e)return"";if("#"===e.charAt(0))return e;var t=e.match(/\d+/g);if(!t||t.length<3)return e;for(var n="#",r=0;r<3;r++){var o=+t[r];o>=16||(n+="0"),n+=o?o.toString(16).toUpperCase():"0"}return n},prepareTSVContent=function(e){if(null==e)return"";var t="string"==typeof e?e:e.toString();return t.length?(t.indexOf("\n")>=0&&(t=t.replace(/[\r\n]/g," ")),t.indexOf("\t")>=0&&(t=t.replace(/\t/g," "))," "!==t.charAt(0)&&" "!==t.charAt(t.length-1)||(t=t.trim()),t):""},_unused_webpack_default_export=Util},function(e,t,n){"use strict";n.d(t,"a",(function(){return u}));var r=n(0),o=n(3),i={},l=function(e,t){"attributes"==t.type&&"lang"==t.attributeName&&(e.lang=t.target.lang||"en")},a=function(e,t,n){"attributes"===n.type&&(null!=t?n.attributeName===t&&e(n.target.getAttribute(t)):e(n.target))};i._getNewId=function(){return"observer_"+ ++i._id},i._addObserver=function(e,t,n){var r=n;r||(r={}),r.attributes=!0,i._observer.observe(e,r),i._addListener(e,t)},i._onMutationCallback=function(e){for(var t=0;t<e.length;t++)for(var n=e[t],r=i._listeners[n.target._observeId],o=0;o<r.length;o++)r[o](n)},i._addListener=function(e,t){var n=i._listeners;if(n||(n=i._listeners={}),!e._observeId){var r=i._getNewId();e._observeId=r}n[e._observeId]||(n[e._observeId]=[]);var o=n[e._observeId];o.indexOf(t)<0&&o.push(t)},i.addLanguageListener=function(e){e&&(e.lang=document.documentElement.lang||"en",i._addObserver(document.documentElement,l.bind(null,e)))},i.addAttributeListener=function(e,t,n){e&&t&&i._addObserver(e,a.bind(null,t,n))},i._observer=new MutationObserver(i._onMutationCallback),i._listeners={},i._id=0;var s={en:!0,de:!0,ja:!0,zh:!0,"zh-Hant":!0},u={_deferred:null,themeReady:null,_defaultColors:{up:"#39C46E",down:"#F5475B",level:"#C2C2C2",tickUp:"#39C46E",tickDown:"#F5475B",baseGrid:"#1A1A1C",baseText:"#C2C2C2",trackColor:"#FF9933"}};u.themeColors=u._defaultColors,u._components={},u._themeName="",u._elfVersion=0,u._dummyIcon=null,u._iconLoaded=!1,u._profileName=null,u._callbacks=[],u._observed=!1,u._pendingResolve=!1,u._themeLoaded=!1,u._icons={"elf-theme-halo":{rowGrouping:{expander:"down"},sorting:{ascending:"hollow-arrow-up",descending:"hollow-arrow-down",sortable:"sort-up-down"},columnStack:{stack:"map-layers",expand:"right",collapse:"left"}},"elf-theme-solar":{columnStack:{stack:"list",expand:"right",collapse:"left"}}},u._icons["halo-theme"]=u._icons["elf-theme-halo"],u._icons["solar-theme"]=u._icons["elf-theme-solar"],u.getElfVersion=function(){if(!u._elfVersion){var e=0;if(window.EFX_GRID){var t=window.EFX_GRID.version;e=+(t=t.split("."))[0]}else if(window.elf)if(window.elf.version){var n=window.elf.version.match(/\d/);n&&n[0]&&(e=parseInt(n[0],10))}else window.elf.customElements?e=3:window.customElements&&(e=4);else window.Polymer&&(e=1);u._elfVersion=e}return u._elfVersion},u.hasComponent=function(e){var t=u._components[e];if(null==t){t=0;var n=u.getElfVersion();if(e)1===n?document.createElement(e).is===e&&(t=n):n>1&&(window.customElements&&window.customElements.get(e)||document.createElement(e).constructor!==HTMLElement)&&(t=n),u._components[e]=t}return t},u.toLangString=function(e){if(!e)return"";if("zh-hant"===(e=e.toLowerCase()))return"zh-Hant";var t=e.replace(/-.*/,"");return s[t]?t:""},u.hasTheme=function(e){return e===u.getThemeName()},u.getThemeName=function(e){return u._themeName||(u._themeName=u.getCssVariable("--theme-name",document.documentElement)),u._themeName},u.setThemeName=function(e){u._themeName=e},u.isThemeLoaded=function(){return u._themeLoaded},u.getColors=function(){return u.themeColors},u.isHaloTheme=function(e){return null==e&&(e=u.getThemeName()),!!e&&e.indexOf("halo")>=0},u.injectIcons=function(e,t){if("object"==typeof e){var n=u.getThemeName();e.themeName=n;var r=u.getElfVersion();e.elfVersion=r;var o=u._icons[n];o&&(e.icons=o)}},u.getIconList=function(){var e=u._icons[u.getThemeName()];return e?Object(r.c)(e):[]},u._onIconPreloaded=function(){if(u._dummyIcon){var e=u._dummyIcon.parentNode;e&&e.removeChild(u._dummyIcon),u._dummyIcon=null}},u.prepareIconPreloading=function(){if(!u._iconLoaded){u._iconLoaded=!0;var e=u.getIconList();if(e.length){setTimeout(u._onIconPreloaded,10);var t=u._dummyIcon=document.createElement("coral-icon");return t.style.transform="scale(0)",document.body.appendChild(t),e}}return null},u.getCssVariable=function(e,t){var n="",r=t||document.body;return window&&"string"==typeof e&&1===r.nodeType&&e.match(/^--/)&&(n=(n=window.getComputedStyle(r).getPropertyValue(e)).replace(/[\"\']/g,"")),n},u.getCssVariables=function(e,t){var n=t||document.body;if(window&&1===n.nodeType){var r=window.getComputedStyle(n);for(var o in e){var i=e[o];i&&i.match(/^--/)&&(e[o]=r.getPropertyValue(i).replace(/\"/g,""))}}return e||null},u.setRTK=function(e){null!=e&&(u._rtk=e)},u.getMovementColorProfile=function(){return document.documentElement.getAttribute("movement-color-profile")},u._addThemeChangedCallback=function(e){var t=u._callbacks;t.indexOf(e)<0&&t.push(e)},u.reloadThemeColors=function(){return u._deferred&&u._deferred.isFulfilled()?(u._profileName="",u._themeLoaded=!1,u.themeReady=null,u.getThemeColors()):u.themeReady},u.getThemeColors=function(e){if("function"==typeof e&&u._addThemeChangedCallback(e),u.themeReady)return u.themeReady;var t=u._deferred=new o.a;u.themeReady=t.promise;var n=u.getMovementColorProfile();if(n)n!==u._profileName?setTimeout(u._profileNameRetrieved,100):u._deferred.resolve(u.themeColors);else{var r={providerName:"Configuration",settingName:"RDE_USER_CURRENT_TICK_COLOR"},i=window?window.JET:null;if(u._themeLoaded=!1,u._rtk&&u._rtk.Settings)u._rtk.Settings.getAsync(r).then(u._loadingProfileSuccess).catch(u._loadingProfileFailure);else if(i&&i.Settings)try{i.Settings.read(u._loadingProfileSuccess,r)}catch(e){u._loadingProfileFailure()}else setTimeout(u._profileNameRetrieved,100)}return t.promise};var d=function(e){if(e!==u._profileName){u._retrieveThemeColors(e),u._pendingResolve&&(u._pendingResolve=!1,u._deferred.resolve(u.themeColors));for(var t=u._callbacks,n=0;n<t.length;n++)t[n]()}};u._loadingProfileSuccess=function(e){e&&document.documentElement.setAttribute("movement-color-profile",e.toLowerCase()),u._observed?u._pendingResolve=!0:u._profileNameRetrieved(e)},u._loadingProfileFailure=function(){u._retrieveThemeColors(),u._observed||(u._observed=!0,i.addAttributeListener(document.documentElement,d,"movement-color-profile")),u._deferred.reject("Failed to get movement color profile from settings.")},u._profileNameRetrieved=function(){var e=u.getMovementColorProfile();u._retrieveThemeColors(e),u._observed||(u._observed=!0,i.addAttributeListener(document.documentElement,d,"movement-color-profile")),u._deferred.resolve(u.themeColors)},u._retrieveThemeColors=function(e){u._themeLoaded=!0,u._profileName=e;var t=u.themeColors=u.getCssVariables({primary:"--color-scheme-primary",secondary:"--color-scheme-secondary",tertiary:"--color-scheme-tertiary",complementary:"--color-scheme-complementary",up:"--color-scheme-positive",down:"--color-scheme-negative",level:"--color-scheme-neutral",tickUp:"--color-scheme-tickup",tickDown:"--color-scheme-tickdown"});t.up||(t.up=u._defaultColors.up,t.down=u._defaultColors.down,t.level=u._defaultColors.level,t.tickUp=u._defaultColors.tickUp,t.tickDown=u._defaultColors.tickDown),t.positive=t.up,t.negative=t.down,t.neutral=t.level;var n=document.createElement("table");n.style.visibility="hidden",n.style.position="fixed",n.style.left="0",n.style.top="0",n.style.width="0";var o=n.insertRow(-1),i=o.insertCell(-1);document.body.appendChild(n);var l=window.getComputedStyle(o);t.tableBg=l.backgroundColor;var a=window.getComputedStyle(i);t.tableText=a.color,t.tableBorder=a.borderColor,t.tableText===t.tableBorder&&(i.className="tr-lg",a=window.getComputedStyle(i),t.tableBg=a.backgroundColor,t.tableText=a.color,t.tableBorder=a.borderColor,t.tableText===t.tableBorder&&(t.tableBg=u._defaultColors.baseGrid,t.tableText=u._defaultColors.baseText,t.tableBorder="")),t.tableBg=Object(r.f)(t.tableBg),t.tableText=Object(r.f)(t.tableText),t.tableBorder=Object(r.f)(t.tableBorder),document.body.removeChild(n),t.baseGrid=t.tableBg,t.baseText=t.tableText,t.trackColor=t.primary||u._defaultColors.trackColor};t.b=u},function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var r={EQ:{name:"Equal to",type:"string",positive:1,caseSensitive:1,formula:"str == input"},NEQ:{name:"Not equal to",type:"string",positive:0,caseSensitive:1,formula:"str != input"},NUMEQ:{name:"Number equal to",type:"number",positive:1,caseSensitive:1,formula:"val == input"},NUMNEQ:{name:"Number not equal to",type:"number",positive:0,caseSensitive:1,formula:"val != input"},GT:{name:"Greater than",type:"number",positive:1,caseSensitive:1,formula:"val > input"},GTE:{name:"Greater than or equal to",type:"number",positive:1,caseSensitive:1,formula:"val >= input"},LT:{name:"Less than",type:"number",positive:1,caseSensitive:1,formula:"val < input"},LTE:{name:"Less than or equal to",type:"number",positive:1,caseSensitive:1,formula:"val <= input"},BEGIN:{name:"Begin with",type:"string",positive:1,caseSensitive:0,formula:"str.indexOf(input) === 0"},NBEGIN:{name:"Not begin with",type:"string",positive:0,caseSensitive:0,formula:"str.indexOf(input) !== 0"},END:{name:"End with",type:"string",positive:1,caseSensitive:0,formula:"(str.length >= input.length) && str.lastIndexOf(input) === (str.length - input.length)"},NEND:{name:"Not end with",type:"string",positive:0,caseSensitive:0,formula:"(str.length < input.length) || str.lastIndexOf(input) !== (str.length - input.length)"},CONT:{name:"Contain",type:"string",positive:1,caseSensitive:0,formula:"str.indexOf(input) >= 0"},NCONT:{name:"Not contain",type:"string",positive:0,caseSensitive:0,formula:"str.indexOf(input) < 0"},EQ_BLANK:{name:"Equal to blank value",type:"blank",positive:1,caseSensitive:1,formula:"!val && val !== 0"},EQ_NBLANK:{name:"Equal to non blank value",type:"blank",positive:1,caseSensitive:1,formula:"(val || val === 0) ? true : false"},DT:{name:"Date is",type:"date",positive:1,caseSensitive:1,formula:"ts === input"},DTA:{name:"Date is After",type:"date",positive:1,caseSensitive:1,formula:"ts > input"},DTB:{name:"Date is Before",type:"date",positive:1,caseSensitive:1,formula:"ts < input"}};r.TXTEQ=r.EQ,r.BLANK=r.EQ_BLANK,r.NBLANK=r.EQ_NBLANK},function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var r=function(e,t,n){this.resolve=this.resolve.bind(this),this.reject=this.reject.bind(this),"function"==typeof e&&(this._resolveHandler=e),"function"==typeof t&&(this._rejectHandler=t),null!=n&&(this._ctx=n),this.promise=new Promise(function(e,t){this._resolve=e,this._reject=t}.bind(this))};r.prototype.promise=null,r.prototype._resolve=null,r.prototype._reject=null,r.prototype._resolveHandler=null,r.prototype._rejectHandler=null,r.prototype._ctx=null,r.prototype._fulfilled=!1,r.prototype.resolve=function(e){if(this._resolve){if(this._resolveHandler){var t=this._resolveHandler(e,this._ctx||this);null!=t&&(e=t)}this._resolve(e),this._finally()}},r.prototype.reject=function(e){if(this._reject){if(this._rejectHandler){var t=this._rejectHandler(e,this._ctx||this);null!=t&&(e=t)}this._reject(e),this._finally()}},r.prototype.isFulfilled=function(){return this._fulfilled},r.prototype._finally=function(){this._fulfilled=!0,this._ctx=this._resolveHandler=this._rejectHandler=null,this._resolve=this._reject=null}},function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"a",(function(){return FilterBuilder}));var _Util_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(0),_DateTime_js__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(5),_FilterOperators_js__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(2),connectorMap={or:1,OR:1,Or:1,oR:1,"||":1},toJsConnector=function(e){return connectorMap[e]?"||":"&&"},conditionToArray=function(e){return[e.operatorId,e.value,e.connector]},FilterBuilder=function(e){this._initStaticVariables(),this._conditions=[],this.init(e)};FilterBuilder.prototype._initStaticVariables=function(){if(!FilterBuilder._initStatic){FilterBuilder._initStatic=!0,FilterBuilder._updateTimezoneOffset();var e=864e5-new Date%864e5;setTimeout(FilterBuilder._setUpdateInterval,e)}},FilterBuilder._initStatic=!1,FilterBuilder.prototype._fieldName="",FilterBuilder.prototype._formattedFieldName="",FilterBuilder.prototype._formatter=null,FilterBuilder.prototype._rawDataAccessor=null,FilterBuilder.prototype._formattedDataAccessor=null,FilterBuilder.prototype._conditions,FilterBuilder._timezoneOffset=0,FilterBuilder._updateTimezoneOffset=function(){FilterBuilder._timezoneOffset=60*(new Date).getTimezoneOffset()},FilterBuilder._setUpdateInterval=function(){FilterBuilder._updateTimezoneOffset(),setInterval(FilterBuilder._updateTimezoneOffset,864e5)},FilterBuilder.prototype.reset=function(){this.setFieldDefinition(""),this._rawDataAccessor=this._formattedDataAccessor=null},FilterBuilder.prototype.init=function(e){if(e){var t=e.field;t&&this.setFieldDefinition(t,e.formatter,e.formattedField)}},FilterBuilder.prototype.setFieldDefinition=function(e,t,n){this._fieldName=e,this._formattedFieldName=n||e+"_FORMATTED",this._formatter=t||null,this._conditions.length=0},FilterBuilder.prototype.setDataAccessors=function(e,t){this._rawDataAccessor="function"==typeof e?e:null,this._formattedDataAccessor="function"==typeof t?t:null},FilterBuilder.prototype.addCondition=function(e,t,n,r){e=e?e.toUpperCase():"";var o=_FilterOperators_js__WEBPACK_IMPORTED_MODULE_2__.a[e];if(!o)return!1;if("{}"===t||"{*}"===t)e=o.positive^"{}"===t?"EQ_NBLANK":"EQ_BLANK",o=_FilterOperators_js__WEBPACK_IMPORTED_MODULE_2__.a[e];else if(!t&&0!==t&&!1!==t)return!1;return this._conditions.push({operatorId:e,value:t,connector:n||"",useUTCTime:r}),!0},FilterBuilder.prototype.addConditions=function(e){var t=0;if(Array.isArray(e)){for(var n=e.length,r=0;r<n;++r){var o=e[r];Array.isArray(o)&&this.addCondition(o[0],o[1],o[2],o[3])&&++t}n>1&&!t&&!Array.isArray(e[0])&&this.addCondition(e[0],e[1],e[2])&&++t}return t},FilterBuilder.prototype.getConditions=function(){return this._conditions.length?this._conditions.map(conditionToArray):null},FilterBuilder.prototype.buildFilter=function(){if(!this._fieldName)return null;var len=this._conditions.length,i,opDef;if(!len)return null;var hasTextOp=0,hasCaseInsensitiveOp=0,hasNumberOp=0,hasDateOp=0;for(i=0;i<len;i++)opDef=_FilterOperators_js__WEBPACK_IMPORTED_MODULE_2__.a[this._conditions[i].operatorId],"string"===opDef.type&&++hasTextOp,"number"===opDef.type&&++hasNumberOp,"date"===opDef.type&&++hasDateOp,opDef.caseSensitive||++hasCaseInsensitiveOp;var fieldName=this._fieldName,fmtFieldName=this._formattedFieldName,escapedFieldName=FilterBuilder._escapeQuotes(fieldName),contextObj=null,filterStr=["var val = rowData['"+escapedFieldName+"'];"];this._rawDataAccessor&&(contextObj||(contextObj={}),contextObj.rawDataAccessor=this._rawDataAccessor,filterStr.push("val = this.rawDataAccessor(val);")),hasTextOp||hasNumberOp?(filterStr.push("if(!val && val !== 0) { val = NaN; }"),hasTextOp&&(this._formattedDataAccessor?(contextObj||(contextObj={}),contextObj.formattedDataAccessor=this._formattedDataAccessor,filterStr.push("var str = this.formattedDataAccessor(rowData['"+escapedFieldName+"']);")):this._formatter?(contextObj||(contextObj={}),contextObj.format=this._formatter,filterStr.push("var str = this.format(rowData);")):fmtFieldName!==fieldName?(filterStr.push("var str = rowData['"+FilterBuilder._escapeQuotes(fmtFieldName)+"'];"),filterStr.push("if(!str && str !== 0) {"),filterStr.push("  str = (!val && val !== 0) ? '' : val + '';"),filterStr.push("}")):filterStr.push("var str = (!val && val !== 0) ? '' : val + '';"),hasCaseInsensitiveOp&&filterStr.push("if(str) { str = str.toLowerCase(); };")),hasNumberOp&&-1!==fieldName.indexOf("FREE_TEXT")&&filterStr.push("val = !isNaN(Number(val)) ? Number(val) : val;")):hasDateOp&&(filterStr.push("var ts = 0;"),filterStr.push("if(!val || val != val || !val.getTime) {"),filterStr.push("  return false;"),filterStr.push("}"));var condStr=[];for(i=0;i<len;i++){i>0&&condStr.push(toJsConnector(this._conditions[i-1].connector));var cond=this._conditions[i];if(opDef=_FilterOperators_js__WEBPACK_IMPORTED_MODULE_2__.a[cond.operatorId],"blank"!==opDef.type){var inputVal=cond.value;if("string"===opDef.type){if("string"!=typeof inputVal){if(this._formatter){var dummyRow={};dummyRow[fieldName]=inputVal,dummyRow[fmtFieldName]=inputVal,inputVal=this._formatter(dummyRow)}else inputVal?inputVal+="":0===inputVal?inputVal="0":!1===inputVal&&(inputVal="false");inputVal||(inputVal="")}!opDef.caseSensitive&&inputVal&&(inputVal=inputVal.toLowerCase()),inputVal="'"+FilterBuilder._escapeQuotes(inputVal)+"'"}else if("date"===opDef.type){var varName;if(_DateTime_js__WEBPACK_IMPORTED_MODULE_1__.a.isValidDate(inputVal))cond.useUTCTime?filterStr.push("ts = new Date(Date.UTC(val.getUTCFullYear(),val.getUTCMonth(),val.getUTCDate()))"):filterStr.push("ts = new Date(val.getFullYear(),val.getMonth(),val.getDate())"),filterStr.push("ts = ts.getTime()"),filterStr.push("if(ts !== ts) {"),filterStr.push("  return false;"),filterStr.push("}"),"DT"===cond.operatorId?(varName="ts"+(i+1),inputVal=inputVal.getTime()):varName="date"+(i+1),contextObj||(contextObj={}),contextObj[varName]=inputVal,inputVal="this."+varName;else inputVal=NaN}else"number"===opDef.type&&"number"!=typeof inputVal&&(inputVal=inputVal?!0===inputVal?1:parseFloat(inputVal):!1===inputVal?0:NaN);condStr.push("("+opDef.formula.replace(/input/g,inputVal)+")")}else condStr.push("("+opDef.formula+")")}filterStr.push("return "+condStr.join(" ")+";"),filterStr=filterStr.join("\n");var func=null;try{func=eval("(function(rowData) {\n"+filterStr+"\n})"),contextObj&&(func=func.bind(contextObj))}catch(e){}return this._conditions.length=0,func},FilterBuilder.prototype.buildMonitorFilter=function(e,t,n,r){this.setFieldDefinition(t,n,r);for(var o=t.lastIndexOf("_LOCAL")===t.length-6,i=e.split("♣"),l=0;l<i.length;l++){var a=i[l].split("♦");o&&(a[1]=(a[1]-FilterBuilder._timezoneOffset)%86400+""),this.addCondition(a[0],a[1],a[2])}return this.buildFilter()};var buildFilterFromObjectMap=function(obj,field,rawDataAccessor){if(!obj||!field)return null;var contextObj=null,funcAry=["(function(itemMap, rowData) {"];funcAry.push('  var val = rowData["'+field+'"]'),rawDataAccessor&&(contextObj||(contextObj={}),contextObj.rawDataAccessor=rawDataAccessor,funcAry.push("  val = this.rawDataAccessor(val);")),funcAry.push("  return itemMap[val] ? true : false;"),funcAry.push("})");var funcStr=funcAry.join("\n"),filterFunc=null;try{filterFunc=eval(funcStr)}catch(e){}return filterFunc?filterFunc.bind(contextObj,obj):null};FilterBuilder.prototype.parse=function(e,t,n,r,o,i){var l=typeof e;return"string"===l?e.indexOf("♦")>=0?this.buildMonitorFilter(e,t,n,r):Object(_Util_js__WEBPACK_IMPORTED_MODULE_0__.d)(e):"function"===l?e:Array.isArray(e)?(t&&(this.setFieldDefinition(t,n,r),this.setDataAccessors(o,i)),this.addConditions(e),this.buildFilter()):"object"===l?buildFilterFromObjectMap(e,t,o):null},FilterBuilder._escapeQuotes=function(e){return(e+"").replace(/[\\"']/g,"\\$&").replace(/\u0000/g,"\\0")};var _unused_webpack_default_export=FilterBuilder},function(e,t,n){"use strict";n.d(t,"a",(function(){return f}));var r={en:{sun:"Sun",mon:"Mon",tue:"Tue",wed:"Wed",thu:"Thu",fri:"Fri",sat:"Sat",Sunday:"Sunday",Monday:"Monday",Tuesday:"Tuesday",Wednesday:"Wednesday",Thursday:"Thursday",Friday:"Friday",Saturday:"Saturday",jan:"Jan",feb:"Feb",mar:"Mar",apr:"Apr",may:"May",jun:"Jun",jul:"Jul",aug:"Aug",sep:"Sep",oct:"Oct",nov:"Nov",dec:"Dec",January:"January",February:"February",March:"March",April:"April",May:"May",June:"June",July:"July",August:"August",September:"September",October:"October",November:"November",December:"December",am:"am",AM:"AM",pm:"pm",PM:"PM"},de:{sun:"So",mon:"Mo",tue:"Di",wed:"Mi",thu:"Do",fri:"Fr",sat:"Sa",Sunday:"Sonntag",Monday:"Montag",Tuesday:"Dienstag",Wednesday:"Mittwoch",Thursday:"Donnerstag",Friday:"Freitag",Saturday:"Samstag",jan:"Jan",feb:"Feb",mar:"Mrz",apr:"Apr",may:"Mai",jun:"Jun",jul:"Jul",aug:"Aug",sep:"Sep",oct:"Okt",nov:"Nov",dec:"Dez",January:"Januar",February:"Februar",March:"März",April:"April",May:"Mai",June:"Juni",July:"Juli",August:"August",September:"September",October:"Oktober",November:"November",December:"Dezember",am:"am",AM:"AM",pm:"pm",PM:"PM"},ja:{sun:"日",mon:"月",tue:"火",wed:"水",thu:"木",fri:"金",sat:"土",Sunday:"日曜日",Monday:"月曜日",Tuesday:"火曜日",Wednesday:"水曜日",Thursday:"木曜日",Friday:"金曜日",Saturday:"土曜日",jan:"1月",feb:"2月",mar:"3月",apr:"4月",may:"5月",jun:"6月",jul:"7月",aug:"8月",sep:"9月",oct:"10月",nov:"11月",dec:"12月",January:"1月",February:"2月",March:"3月",April:"4月",May:"5月",June:"6月",July:"7月",August:"8月",September:"9月",October:"10月",November:"11月",December:"12月",am:"午前",AM:"午前",pm:"午後",PM:"午後"},zh:{sun:"周日",mon:"周一",tue:"周二",wed:"周三",thu:"周四",fri:"周五",sat:"周六",Sunday:"星期日",Monday:"星期一",Tuesday:"星期二",Wednesday:"星期三",Thursday:"星期四",Friday:"星期五",Saturday:"星期六",jan:"1月",feb:"2月",mar:"3月",apr:"4月",may:"5月",jun:"6月",jul:"7月",aug:"8月",sep:"9月",oct:"10月",nov:"11月",dec:"12月",January:"一月",February:"二月",March:"三月",April:"四月",May:"五月",June:"六月",July:"七月",August:"八月",September:"九月",October:"十月",November:"十一月",December:"十二月",am:"上午",AM:"上午",pm:"下午",PM:"下午"},"zh-Hant":{sun:"週日",mon:"週一",tue:"週二",wed:"週三",thu:"週四",fri:"週五",sat:"週六",Sunday:"星期日",Monday:"星期一",Tuesday:"星期二",Wednesday:"星期三",Thursday:"星期四",Friday:"星期五",Saturday:"星期六",jan:"1月",feb:"2月",mar:"3月",apr:"4月",may:"5月",jun:"6月",jul:"7月",aug:"8月",sep:"9月",oct:"10月",nov:"11月",dec:"12月",January:"一月",February:"二月",March:"三月",April:"四月",May:"五月",June:"六月",July:"七月",August:"八月",September:"九月",October:"十月",November:"十一月",December:"十二月",am:"上午",AM:"上午",pm:"下午",PM:"下午"}},o=n(1),i=(new Date(NaN),Date.UTC(1900,0,1)),l=Date.UTC(1900,2,1),a=["sun","mon","tue","wed","thu","fri","sat"],s=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],u=["jan","feb","mar","apr","may","jun","jul","aug","sep","oct","nov","dec"],d=["January","February","March","April","May","June","July","August","September","October","November","December"],c=function(e){return e>9?""+e:"0"+e},p={D:function(e,t){return""+e.getDate()},DD:function(e,t){return c(e.getDate())},DDD:function(e,t){return t[a[e.getDay()]]},D_:function(e,t){return t[s[e.getDay()]]},M:function(e,t){return""+(e.getMonth()+1)},MM:function(e,t){return c(e.getMonth()+1)},MMM:function(e,t){return t[u[e.getMonth()]]},M_:function(e,t){return t[d[e.getMonth()]]},YY:function(e,t){return(""+e.getFullYear()).substr(-2)},Y_:function(e,t){return""+e.getFullYear()},H:function(e,t){return""+e.getHours()},H_:function(e,t){return c(e.getHours())},h:function(e,t){var n=e.getHours()%12;return 0===n?"12":""+n},h_:function(e,t){var n=e.getHours()%12;return c(n=0===n?12:n)},m:function(e,t){return""+e.getMinutes()},m_:function(e,t){return c(e.getMinutes())},s:function(e,t){return""+e.getSeconds()},s_:function(e,t){return c(e.getSeconds())},S:function(e,t){return~~(e.getMilliseconds()/100)},SS:function(e,t){return c(~~(e.getMilliseconds()/10))},S_:function(e,t){return(n=e.getMilliseconds())>99?""+n:n>9?"0"+n:"00"+n;var n},A:function(e,t){return e.getHours()<12?t.AM:t.PM},a:function(e,t){return e.getHours()<12?t.am:t.pm}},f={_dateTimePattern:"M/D/YY h:mm A",_localeSetting:"en",_activeLocaleMap:null,_activeInput:null,setDateTimePattern:function(e){f._dateTimePattern=e||"M/D/YY h:mm A"},setLocale:function(e){var t=o.b.toLangString(e);f._localeSetting=r[t]?t:"en"},format:function(e,t,n){var r=null,o="",i=!(!n||"LOCAL"!==n.toUpperCase());if("number"==typeof e)e>1e8?r=new Date(e):(r=f.fromDateNumber(e),i=!0);else if(e instanceof Date)r=new Date(e);else{var l=(o=e+"").match(/^\d{4}(-\d{2}(-\d{2}(T\d{2}\:\d{2}\:\d{2})?)?)?$/);o=o.replace(/\-/g,"/"),l&&(o=o.replace(/T/g," ")),r=new Date(o)}return f.isInvalidDate(r)?e||"":(i||r.setTime(r.getTime()+6e4*r.getTimezoneOffset()),f.formatDateObject(r,t))},formatDateObject:function(e,t){if(f.isInvalidDate(e))return"";t||(t=f._dateTimePattern),f._activeInput=e,f._activeLocaleMap=r[f._localeSetting]||DateTimeLocale.en;var n=t.replace(/D+|M+|Y+|H+|S+|A+|d+|m+|y+|h+|s+|a+|\[[^\]]*\]+/g,f._parseDatePattern);return f._activeInput=null,n},_lowerCaseDatePatterns:{d:!0,y:!0},_parseDatePattern:function(e){var t=e?e.charAt(0):"";if("["===t)return e.substring(1,e.length-1);var n=p[e];if(!n){var r=e;f._lowerCaseDatePatterns[t]&&(r=e.toUpperCase(),t=t.toUpperCase(),n=p[r]),n||(n=p[r=t+"_"])}return n?n(f._activeInput,f._activeLocaleMap):e},isValidDate:function(e){if(e&&e.getTime){var t=e.getTime();return t==t}return!1},isInvalidDate:function(e){if(e&&e.getTime){var t=e.getTime();return t!=t}return!0},fromDateNumber:function(e){var t=f.dateNumberToMs(e);if(t==t){var n=f.timeNumberToMs(e);return new Date(t+n)}return new Date(NaN)},dateNumberToMs:function(e){if(!(e=Math.floor(+e))||e<=0||60===e)return NaN;var t=e-25569;return e<60&&t++,864e5*t},timeNumberToMs:function(e){"number"!=typeof e&&(e=+e);var t=e-Math.floor(e);return t?(t<0&&(t=-t),1e3*Math.round(86400*t)):0},toDateObject:function(e){var t=null;if(e instanceof Date)t=e;else if("number"==typeof e)t=e>3e9||e<=0?new Date(e):e>1e5?new Date(1e3*e):f.fromDateNumber(e);else if(e){var n=e+"",r=n.match(/^\d{4}(-\d{2}(-\d{2}(T\d{2}\:\d{2}\:\d{2})?)?)?$/);n=n.replace(/\-/g,"/"),r&&(n=n.replace(/T/g," ")),t=new Date(n)}else t=new Date(NaN);return t},toDateNumber:function(e){return f._millisecondToDateNumber(Date.UTC(e.getFullYear(),e.getMonth(),e.getDate()))},toTimeNumber:function(e){return Date.UTC(1970,0,1,e.getUTCHours(),e.getUTCMinutes(),e.getUTCSeconds())/864e5},_millisecondToDateNumber:function(e){if((e=+e)!=e||e<i)return NaN;var t=e/864e5+25569;return e<l&&t--,t},toYYYYMMDD:function(e){var t=e?e.toJSON():"";return t?t.substr(0,10):""}}},function(e,t,n){"use strict";n.r(t);var r={inherits:function(e,t){function n(){}n.prototype=t.prototype,e.prototype=new n,e.prototype.constructor=e,e.base=function(e,n,r){n||(n="constructor");for(var o=arguments.length,i=new Array(o),l=2;l<o;l++)i[l-2]=arguments[l];return t.prototype[n].apply(e,i)}}},o=function(){};o.prototype._events=null,o.prototype._listenerCount=0,o.prototype.addEventListener=function(e,t){if(e&&t){this._events||(this._events={});var n=this._events[e];n?n.indexOf(t)<0&&(n.push(t),++this._listenerCount):(this._events[e]=[t],++this._listenerCount)}},o.prototype.removeEventListener=function(e,t){var n=this._events?this._events[e]:null;if(n){var r=n.indexOf(t);r>=0&&(n.splice(r,1),--this._listenerCount)}},o.prototype.removeAllEventListeners=function(){this._events=null,this._listenerCount=0},o.prototype.hasListener=function(e){if(this._listenerCount){if(e){var t=this._events?this._events[e]:null;return!!t&&t.length>0}return!0}return!1},o.prototype.getListener=function(e,t){if(e){var n=this._events?this._events[e]:null;if(n)return t||(t=0),n[t]||null}return null},o.prototype.addListener=function(e,t){var n=e?e[t]:null;"function"==typeof n&&this.addEventListener(t,n)},o.prototype._prepareEventArguments=function(e,t){return t},o.prototype._dispatch=function(e,t){var n=this._events?this._events[e]:null;if(n){t=this._prepareEventArguments(e,t);for(var r=n.length,o=0;o<r;++o)n[o](t)}};o.preventDefault=function(e){e&&e.preventDefault&&(e.preventDefault(),e.stopPropagation())};var i=n(3),l=function(){};r.inherits(l,o),l.prototype._hosts=null,l.prototype._compositeGrid=null,l.prototype._realTimeGrid=null,l.prototype._rowGetter=null,l.prototype._initializedGrid=!1,l.prototype.listen=l.prototype.addEventListener,l.prototype.unlisten=l.prototype.removeEventListener,l.prototype.afterInit=function(e,t,n){var r=null;n&&n.getCoreGrid&&(r=n.getCoreGrid()),r&&(this.getGridApi()||this.setGridWrapper("compositegrid",n),this._compositeGrid&&r.loadPlugin(this,t)),this._initializedGrid||(this._initializedGrid=!0,this._rowGetter=this._realTimeGrid?s:a,this._afterInit())},l.prototype._afterInit=function(){},l.prototype._dispose=function(){this._hosts&&(this._hosts.length||(this._compositeGrid=this._realTimeGrid=null,this._initializedGrid=!1))},l.prototype.hasMultiTableSupport=function(){return!1},l.prototype._prepareEventArguments=function(e,t){return t||(t={}),t.api=this.getGridApi(),t},l.prototype.getName=function(){return"GridPlugin"},l.prototype.initialize=function(e,t){},l.prototype.unload=function(e){this._dispose()},l.prototype.getRelativeGrid=function(e){var t=null;if(e.target){var n=(t=e.target).api;if(n&&n.getCoreGrid)return n.getCoreGrid()}else e.getElement?t=e.getElement():1===e.nodeType&&(t=e);if(t)for(var r=this._hosts.length;--r>=0;){var o=this._hosts[r];if(o.getElement().contains(t))return o}return null},l.prototype.setGridWrapper=function(e,t){e&&("compositegrid"===(e=e.toLowerCase())?this._compositeGrid=t:"realtimegrid"===e&&(this._realTimeGrid=t))},l.prototype.getGridApi=function(e){if(null==e)return this._compositeGrid||this._realTimeGrid;var t="number"==typeof e?this._hosts[e]:e;return t&&t._wrapper||null},l.prototype.getColumnName=function(e){if(this._compositeGrid){var t=this._compositeGrid.getColumnModel(e);if(t)return t.title?t.title:t.field}else{var n=this.getColumnIndex(e),r=this._realTimeGrid.getColumnDefinition(n);if(r)return r.getName()}return""},l.prototype.getColumnIndex=function(e){if("number"==typeof e)return e;if(this._compositeGrid){var t=this._compositeGrid.getColumnFields().indexOf(e);return t>-1?t:this._compositeGrid.getColumnIndex(e)}return this._realTimeGrid.getColumnIndex(e)},l.prototype.getColumnIndices=function(e){if(this._compositeGrid){for(var t,n=this._compositeGrid.getColumnFields(),r=this._compositeGrid.getColumnCount(),o=[],i=0;i<e.length;i++)if("number"==typeof(t=e[i]))t>=0&&t<r&&o.push(t);else{var l=n.indexOf(t);-1!==l&&o.push(l)}return o}return this._realTimeGrid.getColumnIndices(e)},l.prototype.getColumnId=function(e){if("string"==typeof e)return e;if(this._compositeGrid)return this._compositeGrid.getColumnId(e);var t=this._realTimeGrid.getColumnDefinition(e);return t?t.getId():""},l.prototype.getColumnIds=function(){return this._hosts&&this._hosts.length?this._hosts[0].getColumnIds():[]},l.prototype.getColumnField=function(e){return this._hosts&&this._hosts.length?this._hosts[0].getColumnField(e):""},l.prototype.getColumnFields=function(){return this._hosts&&this._hosts.length?this._hosts[0].getColumnFields():[]},l.prototype.getColumnCount=function(){if(this._hosts){var e=this._hosts[0];return e?e.getColumnCount():0}return 0},l.prototype._moveColumnById=function(e,t){var n=this._hosts,r=n?n.length:0;if(r){for(var o=0,i=0;i<r;++i)o|=n[i].moveColumnById(e,t);return!!o}return!1},l.prototype._reorderColumns=function(e,t){var n=this._hosts,r=n?n.length:0;if(r){for(var o=0,i=0;i<r;++i)o|=n[i].reorderColumns(e,t);return!!o}return!1},l.prototype._loadPlugin=function(e,t,n){return e||(e=t.getPlugin(n))||(e=t.loadPlugin(n))&&this._initializedGrid&&(e._initializedGrid=!0),e},l.prototype._requestPlugin=function(e,t,n){return this._initializedGrid?l.requestPlugin(e,t,n,this._compositeGrid,this._realTimeGrid):Promise.reject("Plugin should be requested after the initialization")},l.requestPlugin=function(e,t,n,r,o){var a=null;if(e){var s=null;1===e.nodeType?s=e.api:e.getCoreGrid?s=e:e.getPlugin&&(a=e),s&&(a=s.getCoreGrid(),r||o||(s.getModel?r=s:o=s))}if(!a)return Promise.reject("Cannot find grid element");var u=a.getPlugin(t);if(u)return Promise.resolve(u);var d=new i.a;return setTimeout(l._onPluginRequested.bind(null,{grid:a,pluginRef:t,compositeGrid:r,realTimeGrid:o,config:n,deferred:d}),10),d.promise},l._onPluginRequested=function(e){var t=e.grid;if(!t.getElement())return e.deferred.reject("Grid has been disposed before the plugin is fully loaded: "+e.pluginRef);var n=t.getPlugin(e.pluginRef);if(n)return e.deferred.resolve(n);var r=!1;return e.pluginRef.beforeInit&&(r=!0,e.pluginRef.beforeInit(t.getElement(),e.config,!0)),(n=t.loadPlugin(e.pluginRef,e.config))?(!r&&n.beforeInit&&(r=!0,n.beforeInit(t.getElement(),e.config)),n.setGridWrapper&&(e.compositeGrid?n.setGridWrapper("compositegrid",e.compositeGrid):e.realTimeGrid&&n.setGridWrapper("realtimegrid",e.realTimeGrid)),n.afterInit&&n.afterInit(),e.deferred.resolve(n)):e.deferred.reject("Unable to load required dependency: "+e.pluginRef)},l.prototype._getPlugin=function(e,t){return null==t&&(t=this._hosts[0]),t?t.getPlugin(e):null},l.prototype._getColumnData=function(e,t){return null==t&&(t=this._hosts[0]),t?t.getColumnData(e):null},l.prototype._getColumnOption=function(e,t,n){var r=this._getColumnData(e,n);return r?r[t]:null},l.prototype._newColumnData=function(e,t){if(null==t&&(t=this._hosts[0]),!t)return{};var n=t.getColumnData(e);return n||(n=t.setColumnData(e,{})),n},l.prototype._getField=function(e){var t=this._compositeGrid||this._realTimeGrid;return t?t.getColumnField(e):""},l.prototype._getRowData=function(e){return this._realTimeGrid&&e?e.ROW_DEF.getRowData():e},l.prototype._getRow=function(e,t){return u(e.getRowDataAt(t))},l.prototype._getData=function(e,t,n){var r=this._getRow(e,t);return r?r[n]:void 0},l.prototype._setData=function(e,t,n,r){if(this._realTimeGrid){var o=e.getRowDataAt(t);o&&o.ROW_DEF.setData(n,r)}else e.setDataAt(t,n,r)},l.prototype._setRowData=function(e,t,n){if(this._realTimeGrid){var r=e.getRowDataAt(t);r&&r.ROW_DEF.setRowData(n)}else e.setRowDataAt(t,n)},l.prototype._setStaticData=function(e,t,n,r){if(this._realTimeGrid){var o=e.getRowDataAt(t);o&&o.ROW_DEF.setStaticData(n,r)}else e.setDataAt(t,n,r)},l.prototype._setColumnData=function(e,t,n,r){if(r=r||e.getAllRowIds()||[],this._realTimeGrid){for(var o=e.getDataSource(),i=o.freeze(),l=n.length<r.length?n.length:r.length,a=0;a<l;++a){var s=e.getRowData(r[a]);s&&s.ROW_DEF.setData(t,n[a])}o.freeze(i)}else e.setColumnData(t,n,r)},l.prototype._activateColumnRenderer=function(e,t,n){if(null!=e){var r=this._realTimeGrid;r?r.activateColumnRenderer(e,t,n):"function"==typeof n?this._hosts[0].setColumnDataBindingHandler(e,n):this._hosts[0].setColumnDataBindingHandler(e,null)}};var a=function(e){return e},s=function(e){return e?e.ROW_DEF.getRowData():null},u=function(e){if(e){var t=e.ROW_DEF;return t?t.getRowData():e}return null},d=n(0),c={"⇧":1,"B⇧":1,"↑":1,"B↑":1,26:1,1:1,'"1"':1,"-1":-1,"⇩":-1,"B⇩":-1,"↓":-1,"B↓":-1,27:-1,2:-1,'"2"':-1},p={CF_TICK:1,PRCTCK_1:1,BID_TICK:1,ASK_TICK:1},f=n(1),_=function(){this._conditions=[],this._scopes=[],_._painters.push(this)};_.ColoringTypes={TEXT:1,HEATMAP:2,CONDITIONAL:3},_.prototype._coloringType=0,_.prototype._conditions=null,_.prototype._blinkCondition=null,_.prototype._scopes,_.prototype._columnStats=null,_.prototype._levelColorDisabled=!1,_._runningBlinkId=0,_._blinkingDuration=250,_._painters=[],_._emptyAry=[],_._emptyObj={},_._bgObj={backgroundColor:"",color:""},_._colorObj={color:""},_.bgStyles=["backgroundColor","color"],_.nonBgStyles=["fontSize","fontWeight","fontStyle","textAlign","textDecoration"],_.supportedStyles=_.bgStyles.concat(_.nonBgStyles),_.themeReady=null,_.parse=d.d,_.prototype.dispose=function(){var e=_._painters.indexOf(this);e>=0&&_._painters.splice(e,1),this.reset(),this._conditions=null,this._scopes.length=0,this._blinkCondition=null},_.prototype.reset=function(){this._setColoringType(0);var e=this._scopes.length;if(e){for(var t=0;t<e;++t){var n=this._scopes[t];_._clearBlinkTimer(n)&&n._restorer();var r=n.cell;r&&delete r.blinking,n.cell=null}this._scopes.length=0}this._blinkCondition=null},_.prototype.resetColoring=function(){this._setColoringType(0),this._conditions.length=0},_.prototype.resetBlinking=function(){this._blinkCondition=null,this._scopes.length=0},_.prototype.clearBlinking=function(){this._blinkCondition=null;var e=this._scopes.length;if(e){for(var t=0;t<e;++t){var n=this._scopes[t];_._clearBlinkTimer(n)&&n._restorer();var r=n.cell;r&&delete r.blinking,n.cell=null}this._scopes.length=0}},_.prototype.resetHeatMap=function(){this._conditions.length=0,this._columnStats=null},_.prototype.clearHeatMap=function(){return this._blinkCondition?(this._setColoringType(0),this.resetHeatMap(),!1):(this.dispose(),!0)},_.prototype.applyThemeColor=function(){var e=f.a.getColors(),t=this._conditions[0];if(t&&(this._coloringType===_.ColoringTypes.HEATMAP&&(t.textMode?t.baseColor=e.baseText:t.baseColor=e.baseGrid),t.useThemeColor&&(this._coloringType===_.ColoringTypes.HEATMAP||this._coloringType===_.ColoringTypes.TEXT))){var n,r;this._coloringType===_.ColoringTypes.TEXT&&"CF_TICK"===t.field?(n=e.tickUp,r=e.tickDown):(n=e.up,r=e.down);var o=e.level===e.baseText?"":e.level;_._setUpDownColors(t,n,r,o)}this._blinkCondition&&this._blinkCondition.useThemeColor&&_._setUpDownColors(this._blinkCondition,e.up,e.down,e.level,!0)},_.prototype.getConditions=function(){return this._conditions},_.prototype.getColoringType=function(){return this._coloringType},_.prototype._setColoringType=function(e){this._coloringType!==e&&(this._coloringType=e)},_.prototype.setConditions=function(e){this._conditions.length=0,this._setColoringType(_.ColoringTypes.CONDITIONAL);for(var t=e.length,n=0;n<t;n++)this._addCondition(e[n])},_.prototype.setColumnStats=function(e){this._columnStats=e&&e.getMin?e:null},_.prototype.getColumnStats=function(){return this._columnStats},_.prototype._addCondition=function(e){var t=e.expression;t&&(e._fn=_.parse(t.text||t),this._conditions.push(e))},_.prototype.addHeatmap=function(e,t,n,r,o,i){this._setColoringType(_.ColoringTypes.HEATMAP);var l={heatmap:!0};return l.field=e,l.expression=_._heatMapCondition.bind(l),l.midPoint=t,_._setUpDownColors(l,n,r),l.baseColor=o,!0!==i&&"text"!==i||(l.textMode=!0),this._addCondition(l),l},_.prototype.addHeatmapWithTheme=function(e,t,n){var r=f.a.themeColors,o=this.addHeatmap(e,t,r.up,r.down,r.baseGrid,n);return!0!==n&&"text"!==n||(o.baseColor=r.baseText),o.useThemeColor=!0,o},_.prototype._addColorText=function(e,t,n,r,o){this._setColoringType(_.ColoringTypes.TEXT);var i={};return i.field=t,i.expression=e.bind(null,t),_._setUpDownColors(i,n,r,o),this._addCondition(i),i},_.prototype.addColorText=function(e,t,n,r){return this._addColorText(p[e]?_._tickColorTextCondition:_._colorTextCondition,e,t,n,r)},_.prototype.addColorTextWithTheme=function(e){var t=f.a.themeColors,n=this.addColorText(e,t.up,t.down,t.level===t.baseText?"":t.level);return n.useThemeColor=!0,n},_.prototype.addTickColorText=function(e,t,n){return this.addColorText("CF_TICK",e,t,n)},_.prototype.addTickColorTextWithTheme=function(){var e=f.a.themeColors,t=this.addTickColorText(e.tickUp,e.tickDown,e.level);return t.useThemeColor=!0,t},_.prototype.addTickBlink=function(e,t,n,r){return this.addBlink("CF_TICK",e,t,n,r)},_.prototype.addTickBlinkWithTheme=function(e){var t=f.a.themeColors,n=this.addTickBlink(t.tickUp,t.tickDown,t.level,e);return n.useThemeColor=!0,n},_.prototype.addBlink=function(e,t,n,r,o){return this._addBlink(p[e]?_._tickBlinkCondition:_._fieldBlinkCondition,e,t,n,r,o)},_.prototype.addBlinkWithTheme=function(e,t){var n=f.a.themeColors,r=this.addBlink(e,n.up,n.down,n.level,t);return r.useThemeColor=!0,r},_.prototype._addBlink=function(e,t,n,r,o,i){var l=this._blinkCondition={};return l.blink=!0,l.blinkId=_._runningBlinkId++,l.field=t,l._fn=l.expression=e,!0!==i&&"border"!==i||(l.border=!0),_._setUpDownColors(l,n,r,o,!0),l},_.prototype.renderForPrinting=function(e,t,n,r){if(e){var o=this._getStyles(t,n,r),i=o.cssClass;i?(e._coloringCssClass!==i&&(e.classList.remove(e._coloringCssClass),e._coloringCssClass=null),e.classList.add(i),e._coloringCssClass=i):(e._coloringCssClass&&(e.classList.remove(e._coloringCssClass),e._coloringCssClass=null),e.style.backgroundColor=o.backgroundColor||"",e.style.color=o.color||"")}},_._colorTextCondition=function(e,t){var n=t[e];if(n||0===n){if(n>0)return 1;if(n<0)return-1}return"u"},_._tickColorTextCondition=function(e,t){var n=c[t[e]];if(n)return n},_._heatMapCondition=function(e,t,n){var r=e[this.field],o=r||0===r?r-this.midPoint:NaN;if(0===o||o!=o)return 0;var i=1;return o>0?(i=n-this.midPoint)<0&&(i=t-this.midPoint):(i=t-this.midPoint)>0&&(i=n-this.midPoint),i<0&&(i=-i),o/i},_._tickBlinkCondition=function(e){var t=c[e];if(t)return t},_._fieldBlinkCondition=function(e,t){return e>t?1:e<t?-1:0},_._borderRestorer=function(e){e.blinkTimer=0;var t=e.cell.getElement();t&&(t.style.border="")},_._cellRestorer=function(e){e.blinkTimer=0;var t=e.cell.getElement();if(t){var n=e.rowData,r=NaN,o=NaN;if(this._coloringType===_.ColoringTypes.HEATMAP){var i=this._columnStats;i&&(r=i.getMin(),o=i.getMax())}var l=this._getStyles(n,r,o),a=l.cssClass;a?(t._coloringCssClass&&t._coloringCssClass!==a&&(t.classList.remove(t._coloringCssClass),t._coloringCssClass=null),t.classList.add(a),t._coloringCssClass=a,t.style.backgroundColor="",t.style.color=""):(t._coloringCssClass&&(t.classList.remove(t._coloringCssClass),t._coloringCssClass=null),t.style.backgroundColor=l.backgroundColor||"",t.style.color=l.color||"")}},_.prototype._getStyles=function(e,t,n){if(!e)return _._emptyObj;for(var r=this._conditions.length,o=0;o<r;++o){var i,l=this._conditions[o],a=l._fn;try{var s=a&&a(e,t,n)}catch(e){}if(s)return this._coloringType===_.ColoringTypes.HEATMAP?(i=s>0?_.blendColor(l.baseColor,l.upColor,s):_.blendColor(l.baseColor,l.downColor,-s),l.textMode?(_._colorObj.color=_.num2Hex(i),_._colorObj):(_._bgObj.backgroundColor=_.num2Hex(i),_._bgObj.color=_.blackAndWhite(i),_._bgObj)):this._coloringType===_.ColoringTypes.TEXT?(_._colorObj.color=s>0?l.upColor:s<0?l.downColor:this._levelColorDisabled?"":l.levelColor,_._colorObj):l}return _._emptyObj},_.blendColor=function(e,t,n){n>1?n=1:n<0&&(n=0);for(var r=_.hex2Num(e),o=_.hex2Num(t),i=[],l=0;l<3;++l){var a=(o[l]-r[l])*n;i.push(r[l]+a)}return i},_.blackAndWhite=function(e){return Math.sqrt(e[0]*e[0]*.241+e[1]*e[1]*.691+e[2]*e[2]*.068)>=135?"#000000":"#FFFFFF"},_.rgb2Hex=d.f,_.num2Hex=function(e){return"#"+(16777216+(e[2]|e[1]<<8|e[0]<<16)).toString(16).slice(1)},_.num2Rgb=function(e){return"rgb("+e[0]+", "+e[1]+", "+e[2]+")"},_.hex2Num=function(e){var t=parseInt(e.replace(/[^0-9A-F]/gi,""),16);return[t>>16&255,t>>8&255,255&t]},_.hex2Rgb=function(e){if(e){var t=parseInt(e.replace(/[^0-9A-F]/gi,""),16);return"rgb("+(t>>16&255)+", "+(t>>8&255)+", "+(255&t)+")"}return""},_.themeChanged=function(){},_.setThemeColors=function(){},_._onThemeChanged=function(){for(var e=_._painters,t=e.length;--t>=0;)e[t].applyThemeColor()},_.loadThemeColors=function(){return _.themeReady||(_.themeReady=f.a.getThemeColors(_._onThemeChanged).then(_._onThemeChanged).catch(_._onThemeChanged)),_.themeReady},_.reloadThemeColors=function(){return _.themeReady=f.a.reloadThemeColors().then(_._onThemeChanged).catch(_._onThemeChanged),_.themeReady},_.clearCellStyle=function(e,t){var n=e.getElement();if(n){var r=e.blinking;r&&(_._clearBlinkTimer(r),delete e.blinking,r.cell=null);for(var o=(t=t||_.supportedStyles).length;--o>=0;)n.style[t[o]]=""}},_._setUpDownColors=function(e,t,n,r,o){null!=t&&(e.upColor=t,o&&(e.contrastUpColor=_.getOppositeColor(t))),null!=n&&(e.downColor=n,o&&(e.contrastDownColor=_.getOppositeColor(n))),null!=r&&(e.levelColor=r,o&&(e.contrastLevelColor=_.getOppositeColor(r)))},_._clearBlinkTimer=function(e,t){return!!e.blinkTimer&&(clearTimeout(e.blinkTimer),e.blinkTimer=0,!0)},_.getOppositeColor=function(e){if("string"==typeof e){if("#"===e.charAt(0)){var t=_.hex2Num(e);return _.blackAndWhite(t)}}else if(Array.isArray(e))return _.blackAndWhite(e);return""},_.prototype.render=function(e,t,n,r,o){null!=n&&n==n?this._paintCell(e,t,n,r):this._conditions.length&&this._coloringType===_.ColoringTypes.CONDITIONAL&&this._paintCell(e,t)},_.prototype.renderHeatMap=function(e,t,n,r){this._paintCell(e,t,n,r)},_.prototype.renderColoring=function(e,t){this._paintCell(e,t)},_.prototype._paintCell=function(e,t,n,r){if(e){var o=e.getElement();if(o){var i,l=this._blinkCondition;if(!(l&&(i=e.blinking)&&i.blinkTimer)||l.border){var a=this._getStyles(t,n,r),s=a.cssClass;if(s)o._coloringCssClass!==s&&(o.classList.remove(o._coloringCssClass),o._coloringCssClass=null),o.classList.add(s),o._coloringCssClass=s;else{o._coloringCssClass&&(o.classList.remove(o._coloringCssClass),o._coloringCssClass=null);for(var u=_.bgStyles,d=o.style,c=u.length;--c>=0;){var p=u[c];d[p]=a[p]||""}}}}}},_.prototype.blink=function(e,t,n){this._blinkCell(e,n,t)},_.prototype.blinkCell=function(e,t,n,r){if(!this._blinkCondition)return!1;var o=this._blinkCondition._fn(t,n);return this._blinkCell(e,r,o)},_.prototype._blinkCell=function(e,t,n){if(!e)return!1;if(this._levelColorDisabled&&!n)return!1;var r=e.getElement();if(!r)return!1;var o=this._blinkCondition;if(!o)return!1;var i,l,a=e.blinking;if(a||((a={}).cell=e,e.blinking=a,this._scopes.push(a)),a.blinkId!==o.blinkId){a.blinkId=o.blinkId,a.field=o.field;var s=o.border?_._borderRestorer:_._cellRestorer;a._restorer=s.bind(this,a)}a.rowData=t,n>0?(i=o.upColor,l=o.contrastUpColor):n<0?(i=o.downColor,l=o.contrastDownColor):(i=o.levelColor,l=o.contrastLevelColor);var u=!0;return o.border?(r.style.border="1px solid "+i,u=!1):(r.style.backgroundColor=i,r.style.color=l),_._clearBlinkTimer(a),a.blinkTimer=setTimeout(a._restorer,_._blinkingDuration),u},_.prototype.verifyBlinking=function(e,t){var n=e.blinking;n&&n.blinkTimer&&n.rowData!==t&&(n.rowData=t,_._clearBlinkTimer(n)&&n._restorer())},_.prototype.disableLevelColor=function(e){this._levelColorDisabled=!1!==e};var h=n(4),m=/\[[^\[\]]*\]/g,g=function(e){var t=[];if(e&&"string"==typeof e)for(var n=e.match(m),r=0;r<n.length;r++)t.push(n[r].replace(/[\[\]]/g,""));return t},v=function(){this._onSectionBinding=this._onSectionBinding.bind(this),this._onColumnAdded=this._onColumnAdded.bind(this),this._onColumnRemoved=this._onColumnRemoved.bind(this),this._onThemeLoaded=this._onThemeLoaded.bind(this),v.cleanUpPrevRows=v.cleanUpPrevRows.bind(this),v._cleanUpPrevFields=v._cleanUpPrevFields.bind(this),this._hosts=[]};r.inherits(v,l),v._cleanUpTimer=0,v._controlClass="predefined-conditional-color",v.prototype._blinkingEnabled=!1,v.prototype._pendingFields,v.prototype._predefinedColors=null,v.prototype.getName=function(){return"ConditionalColoringPlugin"},v.prototype.hasMultiTableSupport=function(){return!0},v.prototype.initialize=function(e,t){e._prevDataRows={};var n=this._hosts;if(!(n.indexOf(e)>=0)){n.push(e);var r=t.conditionalColoring;if(r){var o=r.predefinedColors;null!=o&&"object"==typeof o&&(this._injectStyles(o),e.enableClass(v._controlClass))}1===n.length?this.config(t):this._applyStyle(e,t),e.listen("postSectionDataBinding",this._onSectionBinding),e.listen("columnAdded",this._onColumnAdded),e.listen("columnRemoved",this._onColumnRemoved),_.themeReady||_.loadThemeColors().then(this._onThemeLoaded).catch(this._onThemeLoaded),f.a.getThemeColors(this._onThemeLoaded)}},v.prototype._afterInit=function(){var e=this._pendingFields;if(e){for(var t,n,r,o=0;o<e.length;o++)t=e[o][0],n=e[o][1],r=e[o][2],this._addDataFields(t,n,r);this._pendingFields=null}},v.prototype.unload=function(e){var t=this._hosts.indexOf(e);t<0||(this._hosts.splice(t,1),e.unlisten("postSectionDataBinding",this._onSectionBinding),e.unlisten("columnAdded",this._onColumnAdded),e.unlisten("columnRemoved",this._onColumnRemoved),e._prevDataRows=null,this._dispose())},v.prototype.beforeProcessOption=function(e,t){if("blinker"==e)return null},v.prototype.config=function(e){if(e){var t=e.columns;if(t)for(var n=t.length,r=0;r<n;++r)this.setColumnColoring(r,t[r])}},v.prototype.getConfigObject=function(e){var t=e||{};if(null!=this._predefinedColors){var n=t.conditionalColoring;n||(n=t.conditionalColoring={}),n.predefinedColors=this._predefinedColors}var r=t.columns;r||(r=t.columns=[]);for(var o=this.getColumnCount(),i=0;i<o;++i){var l=r[i];l||(l=r[i]={}),this.getColumnColoring(i,l)}return t},v.prototype.getColumnColoring=function(e,t){t||(t={});var n=this._hosts[0],r=this._getColumnOption(e,"conditions",n);if(Array.isArray(r)&&r.length>0){t.conditions=[];for(var o=r.length,i=0;i<o;i++){var l={};Object(d.a)(l,r[i],["expression","backgroundColor","color","cssClass"]),t.conditions.push(l)}}var a=this._getColumnOption(e,"colorText",n);a&&(t.colorText=a);var s=this._getColumnOption(e,"tickColor",n);s&&(t.tickColor=s);var u=this._getColumnOption(e,"blinking",n);u&&(t.blinking=u);var c=this._getField(e);return c&&(t.field=c),t},v.prototype._applyStyle=function(e,t){if(t){var n=t.columns;if(n)for(var r,o=n.length,i=0;i<o;++i)r=this.getColumnPainter(i),this._isValidPainter(r)&&e.enableColumnClass(i,"conditionally-colored",!0)}},v.prototype._enableColumnStyle=function(e,t){t=!1!==t;for(var n=this._hosts,r=n.length;--r>=0;)n[r].enableColumnClass(e,"conditionally-colored",t)},v.prototype._isValidPainter=function(e){return!!e&&e.getColoringType()!==_.ColoringTypes.HEATMAP},v.prototype._clearCellStyles=function(e){var t,n,r,o,i,l=this._hosts;for(t=l.length;--t>=0;)for(r=(n=l[t].getSection("content")).getRowCount(),o=0;o<r;++o)(i=n.getCell(e,o,!1))&&_.clearCellStyle(i)},v.prototype._cachePreviousValue=function(){var e,t,n,r=this.getColumnCount(),o=this._hosts,i=o.length;for(e=0;e<i;e++)for(n=o[e],t=0;t<r;++t)this._cacheColumnPreviousValue(t,n)},v.prototype._cacheColumnPreviousValue=function(e,t){var n=t._prevDataRows||{},r=t.getDataSource(),o=r.getRowCount(),i=this._getColumnData(e);if(i.blinking){var l,a,s,u,d=i.blinkingField||this._getField(e);for(l=0;l<o;l++)a=r.getRowId(l),null!=(s=this._getData(r,l,d))&&((u=n[a])||(u=n[a]={}),u[d]=s);t._prevDataRows=n}},v.prototype._addDataFields=function(e,t,n){if(this._realTimeGrid&&e&&n){var r=null;if(null!=t){var o="object"==typeof t?t:this._realTimeGrid.getColumnDefinition(t);r=o?o.getId()+"_"+n:null}this._realTimeGrid.addDataFields(e,r)}},v.prototype._removeDataFields=function(e,t,n){if(this._realTimeGrid&&e&&n){var r=null;if(null!=t){var o="object"==typeof t?t:this._realTimeGrid.getColumnDefinition(t);r=o?o.getId()+"_"+n:null}this._realTimeGrid.removeDataFields(e,r)}},v.prototype._removeFieldReferrer=function(e,t){if(this._realTimeGrid&&t){var n=null;if(null!=e){var r="object"==typeof e?e:this._realTimeGrid.getColumnDefinition(e);n=r?r.getId()+"_"+t:null,this._realTimeGrid.removeFieldReferrer(n)}}},v.prototype.setColumnColoring=function(e,t){var n,r,o=this._newColumnData(e);t?(o.conditions=t.conditions,o.colorText=t.colorText,o.tickColor=t.tickColor,o.blinking=n=t.blinking,o.field=r=t.field):(o.conditions=null,o.colorText=null,o.tickColor=null,o.blinking=null),this.setColumnBlinking(e,n,r),this.setConditionalColoring(e,t),!o.painter||o.coloringFields||o.blinkingField||this._clearPainter(o)},v.prototype.setConditionalColoring=function(e,t){var n=this._newColumnData(e),r=n.painter,o=n.coloringFields?Object.keys(n.coloringFields):null,i=this._prepareColorOptions(e,t);if(i.hasColor){var l=i.fields;if(r){if(o){for(var a,s=[],u=0;u<o.length;u++)l[a=o[u]]||s.push(a);s.length&&this._removeDataFields(s,e,"coloring")}}else r=n.painter=new _;i.condColoring?r.setConditions(i.condColoring.conditions):i.colorText&&(r.resetColoring(),r.addColorTextWithTheme(i.colorText.field));var d=Object.keys(l);this._initializedGrid?this._addDataFields(d,e,"coloring"):(this._pendingFields||(this._pendingFields=[]),this._pendingFields.push([d,e,"coloring"])),this._enableColumnStyle(e,!0),r.inputField=i.inputField,n.coloringFields=l,this._initializedGrid&&this._requestRowRefresh()}else this._isValidPainter(r)&&(r.resetColoring(),o&&this._clearCellStyles(e)),o&&this._removeFieldReferrer(e,"coloring"),n.coloringFields=null,this._enableColumnStyle(e,!1)},v.prototype.setColumnBlinking=function(e,t,n){var r=this._newColumnData(e),o=r.blinkingField;r.blinking=t;var i=r.painter,l=this._prepareBlinkingOptions(e,t,n);if(l){var a=l.field;if(i?o&&(i.clearBlinking(),o!==a&&this._removeDataFields(o,e,"blinking")):r.painter=i=new _,i.disableLevelColor(!1===l.level),l.customColor?i.addBlink(a,l.up,l.down,l.level,l.border):i.addBlinkWithTheme(a,l.border),r.blinkingField=a,this._blinkingEnabled=!0,!o&&(this._compositeGrid||this._initializedGrid))for(var s,u=this._hosts,d=0;d<u.length;d++)s=u[d],this._cacheColumnPreviousValue(e,s);v._startCleanUpInterval(),this._initializedGrid?this._addDataFields(a,e,"blinking"):(this._pendingFields||(this._pendingFields=[]),this._pendingFields.push([a,e,"blinking"]))}else o&&(i&&(i.clearBlinking(),v._cleanUpPrevFields()),this._removeFieldReferrer(e,"blinking")),r.blinkingField=null},v.prototype.blinkRow=function(e,t,n){if(n=n||this._hosts[0]){var r=n.getDataSource();if(r){var o=n.getSection("content");if(o)for(var i=r.getRowDataAt(e),l=o.getColumnCount(),a=0;a<l;++a){var s=this.getColumnPainter(a);if(s){var u=o.getCell(a,e,!1);u&&s.blink(u,t,i)}}}}},v.prototype._prepareBlinkingOptions=function(e,t,n){if(null==e||!t)return null;var r={},o=n||this._getField(e),i=o;return"string"==typeof t?i=t:"object"==typeof t&&(i=t.field||o,r.border=t.border,(t.up||t.down||t.level)&&(r.customColor=!0,r.up=t.up,r.down=t.down,r.level=t.level),!1===t.level&&(r.level=!1)),r.field=v._convertKeyword(i,o),r.inputField=i,r},v.prototype._prepareColorOptions=function(e,t){var n={};if(!t)return n;var r=this._getField(e),o=t.field||r,i=t.inputField||"";n.inputField=i,o=v._convertKeyword(i,o);var l=t.colorText||t.tickColor,a=t.conditions,s=a?a.length:0;if(s){n.hasColor=1,n.fields={},n.condColoring={},n.condColoring.conditions=a;var u=o==r?t.textFormatter:null,d=v.getFilterBuilder();d.setFieldDefinition(o,u,o);for(var c=s;--c>=0;){var p=a[c],f=p.expression;if(!f&&o){var _=p.condition,h=p.value1,m=p.value1;"BTW"!==_?d.addCondition(_,h):(d.addCondition("GTE",h),d.addCondition("LTE",m)),f=d.buildFilter(),p.expression=f,n.fields[o]=!0}else for(var y=g(f),C=0;C<y.length;C++)n.fields[y[C]]=!0}}else if(l){n.hasColor=1,n.fields={},n.colorText={};var b=typeof l;"string"===b?o=l:"object"===b&&(o=l.field||o),n.colorText.field=o,n.fields[o]=!0}return n},v._convertKeyword=function(e,t){return e?e.indexOf("THIS_COLUMN")>-1?t:e:t},v._mapInsertedRowId=function(e){for(var t={},n=e?e.length:0,r=0;r<n;++r){var o=e[r];"inserted"===o.type&&(t[o.rid]=!0)}return t},v._mergeUpdates=function(e){var t,n,r=e.events,o=r?r.length:0,i=e.dataSource,l=[];for(n=0;n<o;++n)if("updated"===(t=r[n]).type){var a=i.getRowIndex(t.rid);l[a]||(l[a]={changed:{},rid:t.rid});var s=l[a].changed,u=t.changes;for(var d in u)s[d]=1}return l},v.prototype._injectStyles=function(e){var t,n,r,o=".tr-grid."+v._controlClass+" .tr-lg .cell",i=[];for(var l in e)i.push(o+"."+l),t=[],(r=(n=e[l]).backgroundColor)&&t.push("background-color: "+r+";"),(r=n.color)&&t.push("color: "+r+";"),i.push(t);var a=this._hosts[0];this._styleTag&&(this._styleTag.parentNode.removeChild(this._styleTag),this._styleTag=null),this._styleTag=Object(d.b)(Object(d.e)(i),a.getElement()),this._predefinedColors=e},v.prototype.setPredefinedColors=function(e){null!=e&&"object"==typeof e&&this._injectStyles(e)},v.getFilterBuilder=function(){return v._fb||(v._fb=new h.a),v._fb},v._fb=null,v.prototype._requestRowRefresh=function(){for(var e=this._hosts.length;--e>=0;)this._hosts[e].requestRowRefresh()},v.prototype.getColumnPainter=function(e){return this._getColumnOption(e,"painter")},v.prototype.applyColor=function(e,t,n){var r=this.getColumnPainter(e);if(r){n||(n={});var o={};o[this._getField(e)]=1,r.render(t,n,NaN,NaN,o)}},v.prototype._onSectionBinding=function(e){var t=e.dataRows;if(t){var n,r,o,i,l,a,s,u,d,c,p,f,_,h,m,g,y=e.section,C=y.getColumnCount(),b=e.fromRowIndex,T=e.toRowIndex,D=e.actualUpdate,w=e.dataSource,k=e.sender,F=D&&this._blinkingEnabled;F&&(p=v._mapInsertedRowId(e.events),this._compositeGrid&&(d=v._mergeUpdates(e)));var O,S=k._prevDataRows;for(r=b;r<T;++r)if(c=this._rowGetter(t[r])){for(l=null,F&&(this._realTimeGrid?(s=(a=c.ROW_DEF)?a.getRowId():"")&&!p[s]&&(l=a.getUpdates()):(u=d[r])&&(p[s=u.rid]||(l=u.changed))),s||(s=this._realTimeGrid?(a=c.ROW_DEF)?a.getRowId():"":w.getRowId(r)),O=S[s],m={},g=!1,n=0;n<C;++n)if((o=y.getCell(n,r,!1))&&(i=this.getColumnPainter(n))){if(h=!1,_=!1,(f=this._getColumnData(n)).blinking&&D){var x=f.blinkingField||this._getField(n),A=c[x];if(O){var N=O[x];null!=N&&l&&l[x]&&(_=!0,h=i.blinkCell(o,A,N,c,c))}_||i.verifyBlinking(o,c),m[x]=A,g=!0}f.coloringFields&&!h&&i.renderColoring(o,c)}g&&(S[s]=m),s=null}}},v.prototype._onColumnAdded=function(e){e.context&&this.setColumnColoring(e.colIndex,e.context,e.sender)},v.prototype._onColumnRemoved=function(e){var t=e.columnData;if(t){this._clearPainter(t);var n=t.COL_DEF;n&&(t.coloringFields&&this._removeFieldReferrer(n,"coloring"),t.blinkingField&&this._removeFieldReferrer(n,"blinking"));var r=t.field;if(r)if(!n||!n.isRealTimeField())for(var o=this.getColumnCount(),i=0;i<o;i++)(t=this._getColumnData(i)).coloringFields&&t.coloringFields[r]&&this.setConditionalColoring(i,null),t.blinkingField===r&&this.setColumnBlinking(i,null)}},v.prototype._onThemeLoaded=function(){this._requestRowRefresh()},v.prototype._clearPainter=function(e){if(e){v._cleanUpPrevFields();var t=e.painter;if(t){if(this._isValidPainter(t))return t.dispose(),e.painter=null,!0;t.clearBlinking()}}return!1},v._cleanUpPrevFields=function(){for(var e,t=this.getColumnCount(),n={},r=!1,o=0;o<t;o++)(e=this._getColumnData(o)).blinking&&(n[e.blinkingField]=r=!0);var i,l=this._hosts,a=l.length;if(r){var s,u,d,c;for(i=0;i<a;i++)for(d in u=l[i]._prevDataRows)for(c in s=u[d])n[c]||delete s[c]}else{for(i=0;i<a;i++)l[i]._prevDataRows={};v._stopCleanUpInterval()}},v.cleanUpPrevRows=function(){var e,t,n,r,o,i,l,a=this._hosts,s=a.length;for(n=0;n<s;n++)if(t=(e=a[n]).getDataSource())for(l=e._prevDataRows,o=Object.keys(l),r=0;r<o.length;r++)i=o[r],t.getRowData(i)||delete l[i]},v._startCleanUpInterval=function(){v._cleanUpTimer||(v._cleanUpTimer=setInterval(v.cleanUpPrevRows,18e5))},v._stopCleanUpInterval=function(){v._cleanUpTimer&&(clearInterval(v._cleanUpTimer),v._cleanUpTimer=0)},v.setThemeColors=_.setThemeColors,v.prototype.reloadThemeColors=function(){return _.reloadThemeColors().then(this._onThemeLoaded).catch(this._onThemeLoaded)};!function(e,t){if(e&&t&&t.prototype.getName){var n=t.prototype.getName().replace(/Plugin$/,"");if(n){var r=e.tr;r||(r=e.tr={});var o=r.grid;o||(o=r.grid={}),o[n+"Plugin"]=t,r[n+"Extension"]=t}}}(window,v)}]);