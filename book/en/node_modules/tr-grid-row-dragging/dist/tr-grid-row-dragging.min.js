!function(e){var t={};function o(r){if(t[r])return t[r].exports;var n=t[r]={i:r,l:!1,exports:{}};return e[r].call(n.exports,n,n.exports,o),n.l=!0,n.exports}o.m=e,o.c=t,o.d=function(e,t,r){o.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},o.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},o.t=function(e,t){if(1&t&&(e=o(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(o.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var n in e)o.d(r,n,function(t){return e[t]}.bind(null,n));return r},o.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return o.d(t,"a",t),t},o.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},o.p="",o(o.s=0)}([function(e,t,o){"use strict";o.r(t);var r={inherits:function(e,t){function o(){}o.prototype=t.prototype,e.prototype=new o,e.prototype.constructor=e,e.base=function(e,o,r){o||(o="constructor");for(var n=arguments.length,i=new Array(n),s=2;s<n;s++)i[s-2]=arguments[s];return t.prototype[o].apply(e,i)}}},n=function(){};n.prototype._events=null,n.prototype._listenerCount=0,n.prototype.addEventListener=function(e,t){if(e&&t){this._events||(this._events={});var o=this._events[e];o?o.indexOf(t)<0&&(o.push(t),++this._listenerCount):(this._events[e]=[t],++this._listenerCount)}},n.prototype.removeEventListener=function(e,t){var o=this._events?this._events[e]:null;if(o){var r=o.indexOf(t);r>=0&&(o.splice(r,1),--this._listenerCount)}},n.prototype.removeAllEventListeners=function(){this._events=null,this._listenerCount=0},n.prototype.hasListener=function(e){if(this._listenerCount){if(e){var t=this._events?this._events[e]:null;return!!t&&t.length>0}return!0}return!1},n.prototype.getListener=function(e,t){if(e){var o=this._events?this._events[e]:null;if(o)return t||(t=0),o[t]||null}return null},n.prototype.addListener=function(e,t){var o=e?e[t]:null;"function"==typeof o&&this.addEventListener(t,o)},n.prototype._prepareEventArguments=function(e,t){return t},n.prototype._dispatch=function(e,t){var o=this._events?this._events[e]:null;if(o){t=this._prepareEventArguments(e,t);for(var r=o.length,n=0;n<r;++n)o[n](t)}};n.preventDefault=function(e){e&&e.preventDefault&&(e.preventDefault(),e.stopPropagation())};var i=function(e,t,o){this.resolve=this.resolve.bind(this),this.reject=this.reject.bind(this),"function"==typeof e&&(this._resolveHandler=e),"function"==typeof t&&(this._rejectHandler=t),null!=o&&(this._ctx=o),this.promise=new Promise(function(e,t){this._resolve=e,this._reject=t}.bind(this))};i.prototype.promise=null,i.prototype._resolve=null,i.prototype._reject=null,i.prototype._resolveHandler=null,i.prototype._rejectHandler=null,i.prototype._ctx=null,i.prototype._fulfilled=!1,i.prototype.resolve=function(e){if(this._resolve){if(this._resolveHandler){var t=this._resolveHandler(e,this._ctx||this);null!=t&&(e=t)}this._resolve(e),this._finally()}},i.prototype.reject=function(e){if(this._reject){if(this._rejectHandler){var t=this._rejectHandler(e,this._ctx||this);null!=t&&(e=t)}this._reject(e),this._finally()}},i.prototype.isFulfilled=function(){return this._fulfilled},i.prototype._finally=function(){this._fulfilled=!0,this._ctx=this._resolveHandler=this._rejectHandler=null,this._resolve=this._reject=null};var s=function(){};r.inherits(s,n),s.prototype._hosts=null,s.prototype._compositeGrid=null,s.prototype._realTimeGrid=null,s.prototype._rowGetter=null,s.prototype._initializedGrid=!1,s.prototype.listen=s.prototype.addEventListener,s.prototype.unlisten=s.prototype.removeEventListener,s.prototype.afterInit=function(e,t,o){var r=null;o&&o.getCoreGrid&&(r=o.getCoreGrid()),r&&(this.getGridApi()||this.setGridWrapper("compositegrid",o),this._compositeGrid&&r.loadPlugin(this,t)),this._initializedGrid||(this._initializedGrid=!0,this._rowGetter=this._realTimeGrid?u:d,this._afterInit())},s.prototype._afterInit=function(){},s.prototype._dispose=function(){this._hosts&&(this._hosts.length||(this._compositeGrid=this._realTimeGrid=null,this._initializedGrid=!1))},s.prototype.hasMultiTableSupport=function(){return!1},s.prototype._prepareEventArguments=function(e,t){return t||(t={}),t.api=this.getGridApi(),t},s.prototype.getName=function(){return"GridPlugin"},s.prototype.initialize=function(e,t){},s.prototype.unload=function(e){this._dispose()},s.prototype.getRelativeGrid=function(e){var t=null;if(e.target){var o=(t=e.target).api;if(o&&o.getCoreGrid)return o.getCoreGrid()}else e.getElement?t=e.getElement():1===e.nodeType&&(t=e);if(t)for(var r=this._hosts.length;--r>=0;){var n=this._hosts[r];if(n.getElement().contains(t))return n}return null},s.prototype.setGridWrapper=function(e,t){e&&("compositegrid"===(e=e.toLowerCase())?this._compositeGrid=t:"realtimegrid"===e&&(this._realTimeGrid=t))},s.prototype.getGridApi=function(e){if(null==e)return this._compositeGrid||this._realTimeGrid;var t="number"==typeof e?this._hosts[e]:e;return t&&t._wrapper||null},s.prototype.getColumnName=function(e){if(this._compositeGrid){var t=this._compositeGrid.getColumnModel(e);if(t)return t.title?t.title:t.field}else{var o=this.getColumnIndex(e),r=this._realTimeGrid.getColumnDefinition(o);if(r)return r.getName()}return""},s.prototype.getColumnIndex=function(e){if("number"==typeof e)return e;if(this._compositeGrid){var t=this._compositeGrid.getColumnFields().indexOf(e);return t>-1?t:this._compositeGrid.getColumnIndex(e)}return this._realTimeGrid.getColumnIndex(e)},s.prototype.getColumnIndices=function(e){var t=this.getGridApi();if(t.getColumnIndices)return t.getColumnIndices(e);if(this._compositeGrid){for(var o,r=this._compositeGrid.getColumnFields(),n=this._compositeGrid.getColumnCount(),i=[],s=0;s<e.length;s++)if("number"==typeof(o=e[s]))o>=0&&o<n&&i.push(o);else{var a=r.indexOf(o);-1!==a&&i.push(a)}return i}return this._realTimeGrid.getColumnIndices(e)},s.prototype.getColumnId=function(e){if("string"==typeof e)return e;var t=this.getColumnCount();if(e<0||e>=t)return"";if(this._compositeGrid)return this._compositeGrid.getColumnId(e);var o=this._realTimeGrid.getColumnDefinition(e);return o?o.getId():""},s.prototype.getColumnIds=function(){return this._hosts&&this._hosts.length?this._hosts[0].getColumnIds():[]},s.prototype.getColumnField=function(e){return this._hosts&&this._hosts.length?this._hosts[0].getColumnField(e):""},s.prototype.getColumnFields=function(){return this._hosts&&this._hosts.length?this._hosts[0].getColumnFields():[]},s.prototype.getColumnCount=function(){if(this._hosts){var e=this._hosts[0];return e?e.getColumnCount():0}return 0},s.prototype._moveColumnById=function(e,t){var o=this._hosts,r=o?o.length:0;if(r){for(var n=0,i=0;i<r;++i)n|=o[i].moveColumnById(e,t);return!!n}return!1},s.prototype._reorderColumns=function(e,t){var o=this._hosts,r=o?o.length:0;if(r){for(var n=0,i=0;i<r;++i)n|=o[i].reorderColumns(e,t);return!!n}return!1},s.prototype._loadPlugin=function(e,t,o){return e||(e=t.getPlugin(o))||(e=t.loadPlugin(o))&&this._initializedGrid&&(e._initializedGrid=!0),e},s.prototype._requestPlugin=function(e,t,o){return this._initializedGrid?s.requestPlugin(e,t,o,this._compositeGrid,this._realTimeGrid):Promise.reject("Plugin should be requested after the initialization")},s.requestPlugin=function(e,t,o,r,n){var a=null;if(e){var l=null;1===e.nodeType?l=e.api:e.getCoreGrid?l=e:e.getPlugin&&(a=e),l&&(a=l.getCoreGrid(),r||n||(l.getModel?r=l:n=l))}if(!a)return Promise.reject("Cannot find grid element");var d=a.getPlugin(t);if(d)return Promise.resolve(d);var u=new i;return setTimeout(s._onPluginRequested.bind(null,{grid:a,pluginRef:t,compositeGrid:r,realTimeGrid:n,config:o,deferred:u}),10),u.promise},s._onPluginRequested=function(e){var t=e.grid;if(!t.getElement())return e.deferred.reject("Grid has been disposed before the plugin is fully loaded: "+e.pluginRef);var o=t.getPlugin(e.pluginRef);if(o)return e.deferred.resolve(o);var r=!1;return e.pluginRef.beforeInit&&(r=!0,e.pluginRef.beforeInit(t.getElement(),e.config,!0)),(o=t.loadPlugin(e.pluginRef,e.config))?(!r&&o.beforeInit&&(r=!0,o.beforeInit(t.getElement(),e.config)),o.setGridWrapper&&(e.compositeGrid?o.setGridWrapper("compositegrid",e.compositeGrid):e.realTimeGrid&&o.setGridWrapper("realtimegrid",e.realTimeGrid)),o.afterInit&&o.afterInit(),e.deferred.resolve(o)):e.deferred.reject("Unable to load required dependency: "+e.pluginRef)},s.prototype._getPlugin=function(e,t){return null==t&&(t=this._hosts[0]),t?t.getPlugin(e):null},s.prototype._getColumnData=function(e,t){return null==t&&(t=this._hosts[0]),t?t.getColumnData(e):null},s.prototype._getColumnOption=function(e,t,o){var r=this._getColumnData(e,o);return r?r[t]:null},s.prototype._newColumnData=function(e,t){if(null==t&&(t=this._hosts[0]),!t)return{};var o=t.getColumnData(e);return o||(o=t.setColumnData(e,{})),o},s.prototype._getField=function(e){var t=this._compositeGrid||this._realTimeGrid;return t?t.getColumnField(e):""},s.prototype._getRowData=function(e){return this._realTimeGrid&&e?e.ROW_DEF.getRowData():e},s.prototype._getRow=function(e,t){return g(e.getRowDataAt(t))},s.prototype._getData=function(e,t,o){var r=this._getRow(e,t);return r?r[o]:void 0},s.prototype._setData=function(e,t,o,r){if(this._realTimeGrid){var n=l(e,t);n&&n.setData(o,r)}else"number"==typeof t?e.setDataAt(t,o,r):e.setData(t,o,r)},s.prototype._setRowData=function(e,t,o){if(this._realTimeGrid){var r=l(e,t);r&&r.setRowData(o)}else"number"==typeof t?e.setRowDataAt(t,o):e.setRowData(t,o)},s.prototype._setStaticData=function(e,t,o,r){if(this._realTimeGrid){var n=l(e,t);n&&n.setStaticData(o,r)}else this._setData(e,t,o,r)},s.prototype._setColumnData=function(e,t,o,r){if(t){var n=Array.isArray(r)?r:e.getAllRowIds(!0),i=n?n.length:0;if(i)if(1!==i){var s=Array.isArray(o)?o:n.map((function(){return o}));if(this._realTimeGrid){for(var a=0;a<i;++a){var l=e.getRowData(n[a]);if(l){var d=l.ROW_DEF;d&&(d.getRowData()[t]=s[a])}}e.dispatchGlobalChange||(e=e.getDataSource()),e&&e.dispatchGlobalChange&&e.dispatchGlobalChange()}else e.setColumnData(t,s,n)}else this._setData(e,n[0],t,Array.isArray(o)?o[0]:o)}},s.prototype._activateColumnRenderer=function(e,t,o){if(null!=e){var r=this._realTimeGrid;r?r.activateColumnRenderer(e,t,o):"function"==typeof o?this._hosts[0].setColumnDataBindingHandler(e,o):this._hosts[0].setColumnDataBindingHandler(e,null)}},s.prototype._mockMouseEvent=function(e,t,o){null==e&&(e=0),null==t&&(t=0);var r=o||{};if(e>=0&&t>=0){var n=this._activeGrid||this._hosts[0],i=n?n.getCell(r.sectionType||"content",e,t):null;r.target=i?i.getElement():null}return r};var a={left:37,right:39,up:38,down:40,tab:9};s.prototype._mockKeyboardEvent=function(e,t){var o=t||{};return o.preventDefault=function(){},o.stopPropagation=function(){},"string"==typeof e&&(e=e.toLowerCase(),e=a[e]),o.keyCode=e,o};var l=function(e,t){var o="number"==typeof t?e.getRowDataAt(t):e.getRowData(t);return o&&o.ROW_DEF||null},d=function(e){return e},u=function(e){return e?e.ROW_DEF.getRowData():null},g=function(e){if(e){var t=e.ROW_DEF;return t?t.getRowData():e}return null},p=function(e,t){return function(e,t,o){if(!e)return null;if(!t||e===t)return e;var r;if(o)for(var n=o.length,i=0;i<n;++i)(r=o[i])&&c(e,t,r);else for(r in t)c(e,t,r);return e}({},e,t)},c=function(e,t,o){var r=t[o];if(null!=r){var n=e[o];Array.isArray(n)?e[o]=n.concat(r):Array.isArray(r)&&n?e[o]=r.concat(n):e[o]=r}},h=function(e){return Array.isArray(e)?"{\n"+e.join("\n")+"\n}":e},_=function(e){return e.replace(/\n+/g,"\n\t").replace(/\n\t}$/,"\n}")},f=function(e){if(e){var t="";if(Array.isArray(e))t=e.map(h).join("\n").replace(/{\s*{/g,"{").replace(/\s+{/g," {");else t="string"==typeof e?e:e+"";if(t)return t.replace(/{[\w\W]*?}/g,_)}return""},m=function(e,t){if(!e)return null;var o=document.createElement("style");o.textContent="\n"+e+"\n";var r,n=function(e){var t;if(e&&(e.shadowRoot?t=e.shadowRoot:e.getRootNode&&(t=e.getRootNode()),t&&t!==document&&t!==e))return t;return null}(t),i=!0;return n||(i=!1,n=document.head),i&&n.children&&n.children.length&&(r=n.children[0]),r?n.insertBefore(o,r):n.appendChild(o),o},v=function(e,t){for(var o in t||(t=[]),e){var r=e[o];"object"==typeof r?v(r,t):t.push(r)}return t},y=function(e){if(!e||"string"!=typeof e)return"";if("#"===e.charAt(0))return e;var t=e.match(/\d+/g);if(!t||t.length<3)return e;for(var o="#",r=0;r<3;r++){var n=+t[r];n>=16||(o+="0"),o+=n?n.toString(16).toUpperCase():"0"}return o},w={},b=function(e,t){"attributes"==t.type&&"lang"==t.attributeName&&(e.lang=t.target.lang||"en")},C=function(e,t,o){"attributes"===o.type&&(null!=t?o.attributeName===t&&e(o.target.getAttribute(t)):e(o.target))};w._getNewId=function(){return"observer_"+ ++w._id},w._addObserver=function(e,t,o){var r=o;r||(r={}),r.attributes=!0,w._observer.observe(e,r),w._addListener(e,t)},w._onMutationCallback=function(e){for(var t=0;t<e.length;t++)for(var o=e[t],r=w._listeners[o.target._observeId],n=0;n<r.length;n++)r[n](o)},w._addListener=function(e,t){var o=w._listeners;if(o||(o=w._listeners={}),!e._observeId){var r=w._getNewId();e._observeId=r}o[e._observeId]||(o[e._observeId]=[]);var n=o[e._observeId];n.indexOf(t)<0&&n.push(t)},w.addLanguageListener=function(e){e&&(e.lang=document.documentElement.lang||"en",w._addObserver(document.documentElement,b.bind(null,e)))},w.addAttributeListener=function(e,t,o){e&&t&&w._addObserver(e,C.bind(null,t,o))},w._observer=new MutationObserver(w._onMutationCallback),w._listeners={},w._id=0;var D={en:!0,de:!0,ja:!0,zh:!0,"zh-Hant":!0},R={_deferred:null,themeReady:null,_defaultColors:{up:"#39C46E",down:"#F5475B",level:"#C2C2C2",tickUp:"#39C46E",tickDown:"#F5475B",baseGrid:"#1A1A1C",baseText:"#C2C2C2",trackColor:"#FF9933"}};R.themeColors=R._defaultColors,R._components={},R._themeName="",R._elfVersion=0,R._dummyIcon=null,R._iconLoaded=!1,R._profileName=null,R._callbacks=[],R._observed=!1,R._pendingResolve=!1,R._themeLoaded=!1,R._icons={"elf-theme-halo":{rowGrouping:{expander:"down"},sorting:{ascending:"hollow-arrow-up",descending:"hollow-arrow-down",sortable:"sort-up-down"},columnStack:{stack:"map-layers",expand:"right",collapse:"left"}},"elf-theme-solar":{columnStack:{stack:"list",expand:"right",collapse:"left"}}},R._icons["halo-theme"]=R._icons["elf-theme-halo"],R._icons["solar-theme"]=R._icons["elf-theme-solar"],R.getElfVersion=function(){if(!R._elfVersion){var e=0;if(window.EFX_GRID){var t=window.EFX_GRID.version;e=+(t=t.split("."))[0]}else if(window.elf)if(window.elf.version){var o=window.elf.version.match(/\d/);o&&o[0]&&(e=parseInt(o[0],10))}else window.elf.customElements?e=3:window.customElements&&(e=4);else window.Polymer&&(e=1);R._elfVersion=e}return R._elfVersion},R.hasComponent=function(e){var t=R._components[e];if(null==t){t=0;var o=R.getElfVersion();if(e)1===o?document.createElement(e).is===e&&(t=o):o>1&&(window.customElements&&window.customElements.get(e)||document.createElement(e).constructor!==HTMLElement)&&(t=o),R._components[e]=t}return t},R.toLangString=function(e){if(!e)return"";if("zh-hant"===(e=e.toLowerCase()))return"zh-Hant";var t=e.replace(/-.*/,"");return D[t]?t:""},R.hasTheme=function(e){return e===R.getThemeName()},R.getThemeName=function(e){return R._themeName||(R._themeName=R.getCssVariable("--theme-name",document.documentElement)),R._themeName},R.setThemeName=function(e){R._themeName=e},R.isThemeLoaded=function(){return R._themeLoaded},R.getColors=function(){return R.themeColors},R.isHaloTheme=function(e){return null==e&&(e=R.getThemeName()),!!e&&e.indexOf("halo")>=0},R.injectIcons=function(e,t){if("object"==typeof e){var o=R.getThemeName();e.themeName=o;var r=R.getElfVersion();e.elfVersion=r;var n=R._icons[o];n&&(e.icons=n)}},R.getIconList=function(){var e=R._icons[R.getThemeName()];return e?v(e):[]},R._onIconPreloaded=function(){if(R._dummyIcon){var e=R._dummyIcon.parentNode;e&&e.removeChild(R._dummyIcon),R._dummyIcon=null}},R.prepareIconPreloading=function(){if(!R._iconLoaded){R._iconLoaded=!0;var e=R.getIconList();if(e.length){setTimeout(R._onIconPreloaded,10);var t=R._dummyIcon=document.createElement("coral-icon");return t.style.transform="scale(0)",document.body.appendChild(t),e}}return null},R.getCssVariable=function(e,t){var o="",r=t||document.body;return window&&"string"==typeof e&&1===r.nodeType&&e.match(/^--/)&&(o=(o=window.getComputedStyle(r).getPropertyValue(e)).replace(/[\"\']/g,"")),o},R.getCssVariables=function(e,t){var o=t||document.body;if(window&&1===o.nodeType){var r=window.getComputedStyle(o);for(var n in e){var i=e[n];i&&i.match(/^--/)&&(e[n]=r.getPropertyValue(i).replace(/\"/g,""))}}return e||null},R.setRTK=function(e){null!=e&&(R._rtk=e)},R.getMovementColorProfile=function(){return document.documentElement.getAttribute("movement-color-profile")},R._addThemeChangedCallback=function(e){var t=R._callbacks;t.indexOf(e)<0&&t.push(e)},R.reloadThemeColors=function(){return R._deferred&&R._deferred.isFulfilled()?(R._profileName="",R._themeLoaded=!1,R.themeReady=null,R.getThemeColors()):R.themeReady},R.getThemeColors=function(e){if("function"==typeof e&&R._addThemeChangedCallback(e),R.themeReady)return R.themeReady;var t=R._deferred=new i;R.themeReady=t.promise;var o=R.getMovementColorProfile();if(o)o!==R._profileName?setTimeout(R._profileNameRetrieved,100):R._deferred.resolve(R.themeColors);else{var r={providerName:"Configuration",settingName:"RDE_USER_CURRENT_TICK_COLOR"},n=window?window.JET:null;if(R._themeLoaded=!1,R._rtk&&R._rtk.Settings)R._rtk.Settings.getAsync(r).then(R._loadingProfileSuccess).catch(R._loadingProfileFailure);else if(n&&n.Settings)try{n.Settings.read(R._loadingProfileSuccess,r)}catch(e){R._loadingProfileFailure()}else setTimeout(R._profileNameRetrieved,100)}return t.promise};var T=function(e){if(e!==R._profileName){R._retrieveThemeColors(e),R._pendingResolve&&(R._pendingResolve=!1,R._deferred.resolve(R.themeColors));for(var t=R._callbacks,o=0;o<t.length;o++)t[o]()}};R._loadingProfileSuccess=function(e){e&&document.documentElement.setAttribute("movement-color-profile",e.toLowerCase()),R._observed?R._pendingResolve=!0:R._profileNameRetrieved(e)},R._loadingProfileFailure=function(){R._retrieveThemeColors(),R._observed||(R._observed=!0,w.addAttributeListener(document.documentElement,T,"movement-color-profile")),R._deferred.reject("Failed to get movement color profile from settings.")},R._profileNameRetrieved=function(){var e=R.getMovementColorProfile();R._retrieveThemeColors(e),R._observed||(R._observed=!0,w.addAttributeListener(document.documentElement,T,"movement-color-profile")),R._deferred.resolve(R.themeColors)},R._retrieveThemeColors=function(e){R._themeLoaded=!0,R._profileName=e;var t=R.themeColors=R.getCssVariables({primary:"--color-scheme-primary",secondary:"--color-scheme-secondary",tertiary:"--color-scheme-tertiary",complementary:"--color-scheme-complementary",up:"--color-scheme-positive",down:"--color-scheme-negative",level:"--color-scheme-neutral",tickUp:"--color-scheme-tickup",tickDown:"--color-scheme-tickdown"});t.up||(t.up=R._defaultColors.up,t.down=R._defaultColors.down,t.level=R._defaultColors.level,t.tickUp=R._defaultColors.tickUp,t.tickDown=R._defaultColors.tickDown),t.positive=t.up,t.negative=t.down,t.neutral=t.level;var o=document.createElement("table");o.style.visibility="hidden",o.style.position="fixed",o.style.left="0",o.style.top="0",o.style.width="0";var r=o.insertRow(-1),n=r.insertCell(-1);document.body.appendChild(o);var i=window.getComputedStyle(r);t.tableBg=i.backgroundColor;var s=window.getComputedStyle(n);t.tableText=s.color,t.tableBorder=s.borderColor,t.tableText===t.tableBorder&&(n.className="tr-lg",s=window.getComputedStyle(n),t.tableBg=s.backgroundColor,t.tableText=s.color,t.tableBorder=s.borderColor,t.tableText===t.tableBorder&&(t.tableBg=R._defaultColors.baseGrid,t.tableText=R._defaultColors.baseText,t.tableBorder="")),t.tableBg=y(t.tableBg),t.tableText=y(t.tableText),t.tableBorder=y(t.tableBorder),document.body.removeChild(o),t.baseGrid=t.tableBg,t.baseText=t.tableText,t.trackColor=t.primary||R._defaultColors.trackColor};var x=R,E={create:function(e,t){var o=document.createElement(e);return t&&(o.className=t),o},div:function(e){return E.create("div",e)},text:function(e,t){var o=E.create("span",t);return(e||0===e)&&(o.textContent=e),o},appendChild:function(e,t){if(!e)return null;var o,r;Array.isArray(arguments[1])?(r=arguments[1],o=0):(r=arguments,o=1);for(var n=r.length;o<n;)e.appendChild(r[o]),++o;return e},buildTree:function(e,t){if(!e)return null;for(var o=arguments,r=o.length,n=1;n<r;++n){var i,s=o[n];if(s)Array.isArray(s)?i=E.buildTree.apply(null,s):1===s.nodeType&&(i=s),i&&e.appendChild(i)}return e},removeParent:function(e){if(!e)return null;var t=e.parentNode;return t&&t.removeChild(e),t},setParent:function(e,t){return e?t?(t.appendChild(e),t):E.removeParent(e):null},removeChildren:function(e,t){if(e){var o=e.childNodes.length;for((null==t||t>o)&&(t=o);--t>=0;)e.removeChild(e.lastChild)}},setContent:function(e,t){if(e)if(t||0===t){var o=t.nodeType;1===o||3===o?t!==e.lastChild&&(E.removeChildren(e),e.appendChild(t)):Array.isArray(t)?(E.removeChildren(e),E.appendChild(e,t)):e.textContent=t}else E.removeChildren(e)},toggleAttribute:function(e,t,o){o?e.setAttribute(t,"string"==typeof o?o:""):null==o?e.hasAttribute(t)?e.removeAttribute(t):e.setAttribute(t,""):e.removeAttribute(t)},toggleClass:function(e,t,o){o?e.classList.add(t):null==o?e.classList.contains(t)?e.classList.remove(t):e.classList.add(t):e.classList.remove(t)},addClasses:function(e,t){if(e)for(var o=Array.isArray(t)?t:arguments,r=o.length,n=0;n<r;++n){var i=o[n];i&&"string"==typeof i&&e.classList.add(i)}},removeClasses:function(e,t){if(e)for(var o=Array.isArray(t)?t:arguments,r=o.length,n=0;n<r;++n){var i=o[n];i&&"string"==typeof i&&e.classList.remove(i)}},preventDefault:function(e){e.preventDefault(),e.stopPropagation()},stopPropagation:function(e){e.stopPropagation()},getClientPosition:function(e,t){var o=t||{x:0,y:0};if(e.getBoundingClientRect){var r=e.getBoundingClientRect();o.x=r.left,o.y=r.top}else o.x=e.clientX,o.y=e.clientY;return o},getRelativePosition:function(e,t,o){o=E.getClientPosition(e,o);var r=E.getClientPosition(t);return o.x-=r.x,o.y-=r.y,o},closestElement:function(e,t){for(var o=e;o;){if(o.classList&&o.classList.contains(t))return o;o=o.parentNode||o.host}return null},closestTagName:function(e,t){for(var o=e;o;){if(o.tagName&&o.tagName==t)return o;o=o.parentNode||o.host}return null}},I=E,P=function(e){this._dragBox=e.dragBox,this._dragBoxIcon=e.dragBoxIcon,this._dragBoxContent=document.createElement("div"),this._dragBoxContent.className="drag-box-content",this._dragBox.appendChild(this._dragBoxContent)};P._styles="",P.prototype._guideline=null,P.prototype._dragBox=null,P.prototype._dragBoxIcon=null,P.prototype._grid=null,P.applyThemeColor=function(e){e&&!e._dragUIStyles&&P._styles&&(e._dragUIStyles=!0,m(P._styles,e.getElement()))},P.prototype.onThemeLoaded=function(e){if(!P._styles){var t=x.getElfVersion(),o="grabbing";t<3&&(o="move");var r=[".tr-row-guideline",["position: absolute;","left: 0;","top: 0;","pointer-events: none;","text-align: center;","border-top-width: 3px;","border-top-style: solid;"],".guideline",["position: absolute;","left: 0;","top: 0;","pointer-events: none;","text-align: center;","border-top-style: solid;","width: 3px;","border-top-color: var(--grid-title-icon-color);","color: var(--grid-title-icon-color);","background-color: var(--grid-title-icon-color);"],".drag-box",["position: absolute;","left: 0;","top: 0;","pointer-events: none;","background-color: var(--grid-dragbox-bgcolor);","border: solid 1px var(--grid-title-sort-icon-color);","width: 134px;","height: 29px;","line-height: 29px;","white-space: nowrap;","overflow-x: clip;","text-overflow: ellipsis;","padding: 0 7px 0 7px;","box-shadow: 0 0 8px var(--grid-dragbox-bordercolor);"],".drag-box-disabled",["width: 100px;","left: 0;","top: 0;","position: absolute;"],".drag-box-content",["overflow-x: clip;","text-overflow: ellipsis;"],".drag-box-icon",["top: -4px;","left: 12px;","padding: 2px;","border-radius: 100%;","font-size: 11px;","position: absolute;"],".drag-box-icon[icon='void']",["background-color:var(--grid-void-icon-bgcolor);","color:var(--grid-void-icon-color);"],".drag-box-icon[icon='add']",["background-color:var(--grid-insertion-icon-bgcolor);","color:var(--grid-insertion-icon-color);"],":host",["--grid-dragbox-bgcolor: #ffffff;","--grid-insertion-icon-bgcolor: #39c46e;","--grid-insertion-icon-color: #1A1A1A;","--grid-void-icon-bgcolor: #F5475B;","--grid-void-icon-color: #FFFFFF;","--grid-title-icon-color: var(--grid-guideline-color);"],".mouse-dragging .cell:hover",["cursor: "+o+" !important;"],".tr-grid .column .cell.drag-indicator",["border-top: var(--grid-drag-indicator) !important;","border-right: var(--grid-drag-indicator);","border-bottom: var(--grid-drag-indicator);","border-left: var(--grid-drag-indicator);"],".tr-dragging, .tr-dragging *",["-webkit-touch-callout: none;",".user-select(none);"],".tr-dragbox",["background-color: unset;"]],n="#ff9933";e.primary&&(n=e.primary),n+=";",r.push(".tr-row-guideline",["border-top-color: "+n,"color: "+n]),t<3&&r.push(".pearl .tr-row-guideline, *[theme=pearl] .tr-row-guideline",["border-top-color: #ee7600;","color: #ee7600;","background-image: linear-gradient(to bottom, rgba(0, 0, 0, 0), rgba(0, 0, 0, 0.1));"]),P._styles=f(r)}},P.prototype.renderDragBox=function(e,t){if(!t)return!1;var o=t.getElement(),r=o,n=t.getParent().parentNode;11===n.nodeType&&(r=n);var i=this._dragBox.parentNode;i||r.appendChild(this._dragBox);var s=e.dragBoxIcon||this._dragBox.dragBoxIcon;this._dragBoxIcon.style.visibility="visible",i=this._dragBoxIcon.parentNode;var a=!0;"insertion"===s?(a=!1,this._dragBoxIcon.icon="add",i||this._dragBox.appendChild(this._dragBoxIcon)):"not-allowed"===s||"no-drop"===s||"void"===s?(a=!1,this._dragBoxIcon.icon="void",i||this._dragBox.appendChild(this._dragBoxIcon)):I.removeParent(this._dragBoxIcon);var l=o.getBoundingClientRect(),d=e.clientX-l.left,u=e.pageY-l.top;return this._dragBox.style.left=d-5+"px",this._dragBox.style.top=u+8+"px",a},P.prototype.setContent=function(e){e&&e.getElement&&(e=e.getElement());var t=this._dragBoxContent;e!==t._content&&(t._content=e,I.setContent(t,e))};var G=function(e){return!(!e||"content"!==e.sectionType)},B=function(e){return!e||("CONTENT"===e||("CHAIN"===e||"GROUP_HEADER"===e))},S=function(e){var t=this;t.startDrag=t.startDrag.bind(t),t.stopDrag=t.stopDrag.bind(t),t._clearCache=t._clearCache.bind(t),t._onMouseDown=t._onMouseDown.bind(t),t._onDragPulse=t._onDragPulse.bind(t),t._onDragStart=t._onDragStart.bind(t),t._onMouseMove=t._onMouseMove.bind(t),t._onDragEnd=t._onDragEnd.bind(t),t._onThemeLoaded=t._onThemeLoaded.bind(t),t._onJETDrop=t._onJETDrop.bind(t),t._onJETDragOver=t._onJETDragOver.bind(t),t._delayStart=t._delayStart.bind(t),t._hosts=[],t._guideline=document.createElement("div"),t._guideline.className="tr-row-guideline",t._dragBox=document.createElement("div"),t._dragBox.className="drag-box-disabled",t._dragBoxIcon=document.createElement("coral-icon"),t._dragBoxIcon.className="drag-box-icon",e&&t.config({rowDragging:e})};r.inherits(S,s),S._styles="",S._stylePromise=null,S.prototype._guideline=null,S.prototype._dragBox=null,S.prototype._dragBoxIcon=null,S.prototype._uiDisabled=!1,S.prototype._disabled=!1,S.prototype._dragTarget=null,S.prototype._dragBoxRenderer=null,S.prototype._legacyRowReorder=null,S.prototype._pos=null,S.prototype._startingRid="",S.prototype._startingRowType="",S.prototype._startingGrid=null,S.prototype._dragPulseId=0,S.prototype._topBound=0,S.prototype._btmBound=0,S.prototype._scrollStep=40,S.prototype._dragging=!1,S.prototype._scrollingZone=!1,S.prototype._touchMode=!1,S.prototype._mouseInput=!0,S.prototype._dragBoxEnabled=!1,S.prototype._dataTransfer=!0,S.prototype._autoScroll=!0,S.prototype._dragUI=null,S.prototype._timerId=-1,S.prototype._jetDnD=!1,S.prototype._jetDragContent=null,S.prototype._jetContentHasRic=!1,S.prototype._jetContentHasField=!1,S.prototype._entryPoint="";var A=function(e){S._applyThemeColor(e),P.applyThemeColor(e)};S.prototype.beforeProcessOption=function(e,t){if("rowReorder"===e)return this._legacyRowReorder=t,!1},S.prototype.hasMultiTableSupport=function(){return!0},S.prototype.getName=function(){return"RowDraggingPlugin"},S.prototype.initialize=function(e,t){this._hosts.indexOf(e)>=0||(this._hosts.push(e),this.config(t),this._mouseInput&&(e.setAttribute("draggable","true"),e.listen("dragstart",this.startDrag)),e.listen("mousedown",this._onMouseDown),e.listen("touchstart",this._onMouseDown),this._dragUI=new P({dragBox:this._dragBox,dragBoxIcon:this._dragBoxIcon}),P.stylePromise||(P.stylePromise=R.getThemeColors()).then(this._onThemeLoaded).catch(this._onThemeLoaded),setTimeout(A.bind(this,e),0))},S.prototype.unload=function(e){var t=this._hosts.indexOf(e);t<0||(e.unlisten("dragstart",this.startDrag),e.unlisten("mousedown",this._onMouseDown),e.unlisten("touchstart",this._onMouseDown),this._hosts.splice(t,1),this._hosts.length||this._clearCache(),this._dispose())},S.prototype._onThemeLoaded=function(){if(!S._styles){S._styles=f([":host .row-dragging .cover-layer .selection-bound",["border: var(--grid-drag-indicator)"],":host .row-dragging .tr-lg .cell.selected-row",["background-color: unset;"]])}var e=R.getColors();this._dragUI.onThemeLoaded(e);for(var t=this._hosts.length;--t>=0;)A(this._hosts[t])},S._applyThemeColor=function(e){e&&!e._rowDraggingStyles&&S._styles&&(e._rowDraggingStyles=!0,m(S._styles,e.getParent()))},S.prototype.config=function(e){if(e){var t=e.rowDragging||this._legacyRowReorder;if(t){if("function"==typeof t.dragBoxRenderer){this._dragBoxRenderer=t.dragBoxRenderer;var o="drag-box";R.getElfVersion()<3&&(o="tr-dragbox content-dragging"),this._dragBox.className=o}else this._dragBox.className="drag-box-disabled";this._dragBoxEnabled=!!t.dragBox;var r=t.mouseInput;null!=r&&(this._mouseInput=!!r),null!=(r=t.dataTransfer)&&(this._dataTransfer=!!r),null!=(r=t.autoScroll)&&(this._autoScroll=!!r),t.disabled&&(this._uiDisabled=!0),this.addListener(t,"dragStart"),this.addListener(t,"drag"),this.addListener(t,"dragEnd"),this.addListener(t,"dataMoved"),this.addListener(t,"beforeDataMoved")}}},S.prototype.getConfigObject=function(e){var t=e||{},o=t.rowDragging;return o||(o=t.rowDragging={}),o.dragBox=this._dragBoxEnabled,o.mouseInput=this._mouseInput,o.autoScroll=this._autoScroll,o.dataTransfer=this._dataTransfer,o.disabled=this._uiDisabled,t},S.prototype.dragStart=function(e,t){t||(t={}),t.type="dragstart";var o=this._hosts[0],r=o?o.getCell("content",0,e):null;t.target=r?r.getElement():null,this._onMouseDown(t),this.startDrag(t)},S.prototype.dragMove=function(e,t){t||(t={}),t.type="mousemove",t.which=1;var o=this._hosts[0],r=o?o.getCell("content",0,e):null,n=o.getRelativePosition(r);t.clientX=n.x,t.pageY=n.y,t.target=r?r.getElement():null,t.stopPropagation=function(){},t.preventDefault=function(){},this._onMouseMove(t)},S.prototype.dragEnd=function(e,t){t||(t={}),t.type="mouseup";var o=this._hosts[0],r=o?o.getCell("content",0,e):null;t.target=r?r.getElement():null,t.stopPropagation=function(){},t.preventDefault=function(){},this._onDragEnd(t)},S.prototype.startDrag=function(e){this._startDrag(!1,e)},S.prototype.stopDrag=function(){this._dragging?(this.cancelDrag(),this._onDragEnd()):this.cancelDrag()},S.prototype.cancelDrag=function(){this._pos&&(this._pos.cancel=!0)},S.prototype.getGuideline=function(){return this._guideline},S.prototype.disable=function(e){this._disabled=!1!==e},S.prototype.isDisabled=function(){return this._disabled},S.prototype.disableUIs=function(e){this._uiDisabled=!1!==e},S.prototype.allowDrag=function(e){this._pos&&(this._pos.invalidTarget=!1===e)},S.prototype.allowDrop=S.prototype.allowDrag,S.prototype.setDragContent=function(e){this._dragUI.setContent(e)},S.prototype.getDragBox=function(){return this._dragBox},S.prototype.getDragSource=function(){return this._entryPoint},S.prototype.isDragging=function(){return this._dragging},S.prototype.disableDragging=function(e){this._disabled=!1!==e},S.prototype.enableJETDragAndDrop=function(e){var t=!1!==e;if(this._jetDnD!==t){this._jetDnD=t;var o=window.JET;o&&(o.ContainerDescription&&"EikonNowContainer"!==o.ContainerDescription.name?this._jetDnD?(o.onDrop(this._onJETDrop),o.onDragOver(this._onJETDragOver),o.onDragLeave(this.stopDrag)):(o.onDrop(null),o.onDragOver(null),o.onDragLeave(null)):this._jetDnD=!1)}},S.prototype.getJETDragContent=function(){return this._jetDragContent},S.prototype.setJETDragContent=function(e){this._jetDragContent=e;var t=window.tr,o=t?t.grid:null,r=o?o.JetDragContent:null;if(e&&r){var n=new r(e),i=n.getRicsToDrop(),s=n.getFieldsToDrop();this._jetContentHasRic=!!(i&&i.length>0),this._jetContentHasField=!!(s&&s.length>0)}else this._jetContentHasRic=!1,this._jetContentHasField=!1},S.prototype._hitTest=function(e){var t=this.getRelativeGrid(e);if(t){var o;if(e.changedTouches){var r=e.changedTouches[0];o=t.getRelativePosition(document.elementFromPoint(r.clientX,r.clientY)),I.getRelativePosition(r,t.getElement(),o)}else o=t.getRelativePosition(e);return o}return e||{}},S.prototype._onMouseDown=function(e){e.changedTouches&&(this._touchMode=!0),this._dragTarget=e.target,this._setEntryPoint("grid")},S.prototype._onDragStart=function(e,t){if(!this._dragging&&this._pos){this._listenAbortActions(!1);var o=!1,r=window.JET;if(t)o=!0;else{if(this._dispatch("dragStart",this._pos),this._isDragCancelled())return;r&&this._jetDnD&&this._jetDragContent&&(o=!0,r.dragStart(this._jetDragContent))}if(this._dragging=!0,document.body.classList.add("tr-dragging"),o||(window.addEventListener("mousemove",this._onMouseMove,!1),window.addEventListener("touchmove",this._onMouseMove,!1)),window.addEventListener("mouseup",this._onDragEnd,!1),window.addEventListener("touchend",this._onDragEnd,!1),window.addEventListener("touchcancel",this._onDragEnd,!1),this._touchMode)for(var n=this._hosts.length;--n>=0;){var i=this._hosts[n];i.getVScrollbar().disableTouchInput(),i.getHScrollbar().disableTouchInput()}if(!this._uiDisabled){var s=this._pos.grid||null;if(!s)return;if(this._dataTransfer){var a=this._pos.rowIndex,l=s.getDataSource();this._startingRid=l.getRowId(a),this._startingGrid=s;var d=this.getGridApi().getRowType(a);if(this._startingRowType=d,this._dragBoxRenderer){var u=p(e);u.dragBox=this._dragBox,u.dataRow=this._getRowData(l.getRowDataAt(a)),this._legacyRowReorder?this._dragBoxRenderer(e,u.dragBox,[u.dataRow]):this._dragBoxRenderer(u)}}var g=s.getElement();if(g.classList.add("mouse-dragging"),g.classList.add("row-dragging"),this._updateGuidePosition(),this._autoScroll){var c=s.getVScrollbar();this._topBound=c.getTop()+50,this._btmBound=c.getTop()+c.getHeight()-50,this._topBound<this._btmBound&&(this._scrollStep=Math.floor(s.getScrollHeight()/25),this._scrollStep<40?this._scrollStep=40:this._scrollStep>400&&(this._scrollStep=400),this._dragPulseId=setInterval(this._onDragPulse,130))}}}},S.prototype._onMouseMove=function(e){if(this._dragging){if("touchmove"!=e.type){if(!e||1!==e.which)return void this.stopDrag();I.preventDefault(e)}this._pos=this._hitTest(e),this._pos.dragBox=this._dragBox,this._pos.grid&&this._shouldPreventDrop(this._pos.rowIndex)&&(this._pos.dragBoxIcon="void");var t=!0;if("JET"!==this._entryPoint||this._jetContentHasRic||(t=!1),t&&this._updateGuidePosition(e),this._dispatch("drag",this._pos),!this._uiDisabled&&t)e.dragBoxIcon=this._pos.dragBoxIcon,this._dragUI.renderDragBox(e,this._startingGrid)||this.cancelDrag()}},S.prototype._onDragEnd=function(e){if(this._dragging){if(this._dragging=!1,e&&I.preventDefault(e),I.removeParent(this._guideline),I.removeParent(this._dragBox),document.body.classList.remove("tr-dragging"),window.removeEventListener("mousemove",this._onMouseMove,!1),window.removeEventListener("touchmove",this._onMouseMove,!1),window.removeEventListener("mouseup",this._onDragEnd,!1),window.removeEventListener("touchend",this._onDragEnd,!1),window.removeEventListener("touchcancel",this._onDragEnd,!1),this._touchMode)for(var t=this._hosts.length;--t>=0;){var o=this._hosts[t];o.getVScrollbar().disableTouchInput(!1),o.getHScrollbar().disableTouchInput(!1)}var r=this._startingGrid||this._hosts[0],n=r.getElement();n.classList.remove("mouse-dragging"),n.classList.remove("row-dragging");var i=this._pos;if(!this._isDragCancelled()){if(i.srcGrid=r,i.dropTarget=e?e.target:null,!this._jetDnD&&this._dataTransfer&&G(this._pos)){var s=i.grid||r,a=i.rowIndex,l=r.getPlugin("RowSelectionPlugin"),d=l&&l.getSelectedRows();d&&d.length||(d=this._startingRid),this._moveRows(d,a,r,s,i)}var u=i.cellElement,g=0;if(e&&u){var p=u.getBoundingClientRect(),c=(e.clientX-p.left)/i.zoomFactor;g=Math.round(c/u.offsetWidth)}i.colIndex+=g,i.currentPosition=i,i.data=this._jetDragContent,i.dropTarget=e.target}this._dispatch("dragEnd",i||{}),this._clearCache(),this._jetDragContent=null}},S.prototype._moveRows=function(e,t,o,r,n){var i,s,a=null,l=o.getDataSource(),d=r.getDataSource();if("string"==typeof e){var u=l.getRowIndex(this._startingRid);u>=0&&(a=[u])}else Array.isArray(e)&&(a=e);if(!a)return 0;var g=a.length,p=new Array(g),c=[],h="",_=this.getGridApi();for(_&&!_.getRowType&&(_=null),i=0;i<g;++i){var f=a[i],m=_?_.getRowType(f):"CONTENT";p[i]=l.getRowId(f),c[i]=m,h?h!==m&&(h="MIXED"):h=m}h||(h="CONTENT");var v,y,w=_?_.getRowType(t):"",b=d.getRowId(t);if(this.hasListener("beforeDataMoved")&&(n.srcRowIndices=a,n.srcRowIds=p,n.srcRowTypes=c,n.consolidatedSrcRowType=h,n.destRowIndex=t,n.destRowId=b,n.destRowType=w,this._dispatch("beforeDataMoved",n),n.cancel))return 0;var C=o.getPlugin("RowSegmentingPlugin"),D=null;if(o===r){if("MIXED"===h)D=l.moveRow(p,b);else if("CONTENT"===h)"GROUP_HEADER"===w?(y=C.getSegmentChildIds(b))?D=l.moveRow(p,b):(C.addSegmentChildren(b,p),D=p):B(w)?D=l.moveRow(p,b):"GROUP_MEMBER"===w&&(v=C.getSegmentParentRowId(b),C.addSegmentChildren(v,p),l.moveRow(p,b),D=p);else if("CHAIN"===h||"GROUP_HEADER"===h)B(w)&&(D=l.moveRow(p,b));else if("GROUP_MEMBER"===h)if(1===g){var R=p[0];v=C.getSegmentParentRowId(R);var T=(y=C.getSegmentChildIds(v))?y.length:0;if(t===l.getRowIndex(v)+T+1)D=l.moveRow(p,b);else if("GROUP_MEMBER"===w){var x=C.getSegmentParentRowId(b);v===x||(C.removeSegmentChild(v,R),C.addSegmentChild(x,R)),D=l.moveRow(p,b)}else B(w)&&(C.removeSegmentChild(v,p[0]),D=l.moveRow(p[0],b))}else D=l.moveRow(p,b)}else{D=p,n.destGrid=r;var E=[];for(i=0;i<g;++i){var I=l.getRowData(rowId);I&&E.push(I)}if(s=E.length)if(l.removeRows(a),this._realTimeGrid)for(i=0;i<s;++i){E[i].ROW_DEF.registerToView(d,b)}else for(i=0;i<s;++i)d.insertRow(b,E[i])}var P=D?D.length:0;return P&&(n.originRowId=D[0],n.originRowIds=D,n.destinationRowId=b,this._dispatch("dataMoved",n)),P},S.prototype._isDragCancelled=function(){return!(!this._pos||!this._pos.cancel)},S.prototype._updateGuidePosition=function(e){var t=this._pos;if(!this._uiDisabled&&t&&!t.invalidTarget)if("not-allowed"!==t.dragBoxIcon&&"void"!==t.dragBoxIcon){if(G(t)){var o=this._guideline,r=t.section,n=r.getColumnHost();n!==o.parentNode&&(o.style.width=r.getWidth()+"px",n.appendChild(o));var i=t.cellElement,s=I.getRelativePosition(i,n),a=s.y,l=t.rowIndex,d=0;if(l&&(d=-1,e)){var u=r.getRowCount()-1;if(l>=u){var g=r.getRowHeight(u);(s=I.getRelativePosition(e,i)).y>=g/2|0&&(d=g-3,++t.rowIndex)}}o.style.top=a+d+"px"}}else I.removeParent(this._guideline)},S.prototype._shouldPreventDrop=function(e){var t=this.getGridApi();if(!t)return!1;if("CONSTITUENT"===this._startingRowType||"SUBGROUP_HEADER"===this._startingRowType)return!0;var o=this._pos.grid.getPlugin("RowSegmentingPlugin");if(!o)return!1;var r=o.getSegmentParentRowId(e),n=o.getSegmentParentRowId(this._startingRid);if("GROUP_MEMBER"===this._startingRowType){if("SUBGROUP_HEADER"===t.getRowType(n))return t.getRowType(r),!n||!r||r!==n}else if("CHAIN"===this._startingRowType){if(r)return!0}else if("GROUP_HEADER"===this._startingRowType&&r!==n)return!0;var i=t.getRowType(e);return"CONSTITUENT"===i||"SUBGROUP_HEADER"===i||"GROUP_MEMBER"===i&&"SUBGROUP_HEADER"===t.getRowType(r)},S.prototype._clearCache=function(){this._dragPulseId&&(clearInterval(this._dragPulseId),this._dragPulseId=0),this._pos=this._dragTarget=this._startingGrid=null,this._scrollingZone=!1},S.prototype._onDragPulse=function(){if(this._dragging){this._dispatch("dragInterval",this._pos);var e=this._pos.grid||this._startingGrid;if(e&&e.getVScrollbar().isActive()){var t=this._pos.y;if(null!=t)if(t>=this._topBound&&t<=this._btmBound)this._scrollingZone=!1;else{this._scrollingZone=!0;var o=this._scrollStep*(.8+Math.random())|0;t<this._topBound&&(o=-o),e.scrollDown(o)}}}},S.prototype.setJETDragContent=function(e){this._jetDragContent=e;var t=window.tr,o=t?t.grid:null,r=o?o.JetDragContent:null;if(e&&r){var n=new r(e),i=n.getRicsToDrop(),s=n.getFieldsToDrop();this._jetContentHasRic=!!(i&&i.length>0),this._jetContentHasField=!!(s&&s.length>0)}else this._jetContentHasRic=!1,this._jetContentHasField=!1},S.prototype._setEntryPoint=function(e){this._entryPoint=e,this.setDragContent(null)},S.prototype._onMouseOut=function(e){var t=(e=e||window.event).relatedTarget||e.toElement;t&&"HTML"!=t.nodeName||(this._timerId>=0&&(clearTimeout(this._timerId),this._timerId=-1),this._onDragStart(),this.stopDrag())},S.prototype._delayStart=function(e){this._startingGrid.unlisten("mousemove",this._delayStart),this._timerId<0&&(this._timerId=window.setTimeout(this._onDragStart,200)),this._jetDnD&&document.addEventListener("mouseout",this._onMouseOut,!1)},S.prototype._listenAbortActions=function(e){!1!==e?window.addEventListener("mouseup",this._clearCache,!1):window.removeEventListener("mouseup",this._clearCache,!1)},S.prototype._startDrag=function(e,t,o){if(!(this._dragging||this._hosts.length<=0||this._disabled)){var r;if(t)if("dragstart"===t.type){t.preventDefault&&I.preventDefault(t);var n=this.getRelativeGrid(t);n&&(r=n.getRelativePosition(this._dragTarget))}else r=this._hitTest(t);else{var i=this._dragTarget||this._hosts[0].getSection("content").getCell(0,0);r=this._hitTest(i)}G(r)&&(this._clearCache(),this._pos=r,this._startingGrid=r.grid,e?(this._startingGrid.listen("mousemove",this._delayStart),this._listenAbortActions()):this._onDragStart(t,o))}},S.prototype._onJETDragOver=function(e){if(e)if(this._dragging)this._onDrag(e.e);else{if(!e.dropData)return;this._setEntryPoint("JET"),this.setJETDragContent(e.dropData),this._startDrag(!1,e.e,!0)}},S.prototype._onJETDrop=function(e){this._dragging&&(this._jetDragContent||(this._jetDragContent=e),this._onDragEnd(e.mouse.srcEvent))};!function(e,t){if(e&&t&&t.prototype.getName){var o=t.prototype.getName().replace(/Plugin$/,"");if(o){var r=e.tr;r||(r=e.tr={});var n=r.grid;n||(n=r.grid={}),n[o+"Plugin"]=t,r[o+"Extension"]=t}}}(window,S)}]);