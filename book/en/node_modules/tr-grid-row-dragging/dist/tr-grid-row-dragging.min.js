!function(e){var t={};function o(n){if(t[n])return t[n].exports;var r=t[n]={i:n,l:!1,exports:{}};return e[n].call(r.exports,r,r.exports,o),r.l=!0,r.exports}o.m=e,o.c=t,o.d=function(e,t,n){o.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},o.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},o.t=function(e,t){if(1&t&&(e=o(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(o.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var r in e)o.d(n,r,function(t){return e[t]}.bind(null,r));return n},o.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return o.d(t,"a",t),t},o.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},o.p="",o(o.s=0)}([function(e,t,o){"use strict";o.r(t);let n={inherits:function(e,t){function o(){}o.prototype=t.prototype,e.prototype=new o,e.prototype.constructor=e,e.base=function(e,o,n){o||(o="constructor");let r=arguments.length,i=new Array(r);for(let e=2;e<r;e++)i[e-2]=arguments[e];return t.prototype[o].apply(e,i)}}};let r=function(){};r.prototype._events=null,r.prototype._listenerCount=0,r.prototype.addEventListener=function(e,t){if(!e||!t)return;this._events||(this._events={});let o=this._events[e];o?o.indexOf(t)<0&&(o.push(t),++this._listenerCount):(this._events[e]=[t],++this._listenerCount)},r.prototype.removeEventListener=function(e,t){let o=this._events?this._events[e]:null;if(o){let e=o.indexOf(t);e>=0&&(o.splice(e,1),--this._listenerCount)}},r.prototype.removeAllEventListeners=function(){this._events=null,this._listenerCount=0},r.prototype.hasListener=function(e){if(this._listenerCount){if(e){let t=this._events?this._events[e]:null;return!!t&&t.length>0}return!0}return!1},r.prototype.getListener=function(e,t){if(e){let o=this._events?this._events[e]:null;if(o)return t||(t=0),o[t]||null}return null},r.prototype.addListener=function(e,t){let o=e?e[t]:null;"function"==typeof o&&this.addEventListener(t,o)},r.prototype._prepareEventArguments=function(e,t){return t},r.prototype._dispatch=function(e,t){let o=this._events?this._events[e]:null;if(o){t=this._prepareEventArguments(e,t);let n=o.length;for(let e=0;e<n;++e)o[e](t)}};r.preventDefault=function(e){e&&e.preventDefault&&(e.preventDefault(),e.stopPropagation())};let i=function(e,t,o){this.resolve=this.resolve.bind(this),this.reject=this.reject.bind(this),"function"==typeof e&&(this._resolveHandler=e),"function"==typeof t&&(this._rejectHandler=t),null!=o&&(this._ctx=o),this.promise=new Promise(function(e,t){this._resolve=e,this._reject=t}.bind(this))};i.prototype.promise=null,i.prototype._resolve=null,i.prototype._reject=null,i.prototype._resolveHandler=null,i.prototype._rejectHandler=null,i.prototype._ctx=null,i.prototype._fulfilled=!1,i.prototype.resolve=function(e){if(this._resolve){if(this._resolveHandler){let t=this._resolveHandler(e,this._ctx||this);null!=t&&(e=t)}this._resolve(e),this._finally()}},i.prototype.reject=function(e){if(this._reject){if(this._rejectHandler){let t=this._rejectHandler(e,this._ctx||this);null!=t&&(e=t)}this._reject(e),this._finally()}},i.prototype.isFulfilled=function(){return this._fulfilled},i.prototype._finally=function(){this._fulfilled=!0,this._ctx=this._resolveHandler=this._rejectHandler=null,this._resolve=this._reject=null};let l=function(e,t){return function(e,t,o){if(!e)return null;if(!t||e===t)return e;let n;if(o){let r=o.length;for(let i=0;i<r;++i)n=o[i],n&&s(e,t,n)}else for(n in t)s(e,t,n);return e}({},e,t)},s=function(e,t,o){let n=t[o];if(null!=n){let t=e[o];Array.isArray(t)?e[o]=t.concat(n):Array.isArray(n)&&t?e[o]=n.concat(t):e[o]=n}},a=function(e){return Array.isArray(e)?"{\n"+e.join("\n")+"\n}":e},d=function(e){return e.replace(/\n+/g,"\n\t").replace(/\n\t}$/,"\n}")},u=function(e){if(e){let t="";if(Array.isArray(e)){t=e.map(a).join("\n").replace(/{\s*{/g,"{").replace(/\s+{/g," {")}else t="string"==typeof e?e:e+"";if(t)return t.replace(/{[\w\W]*?}/g,d)}return""},g=function(e,t){if(!e)return null;let o=document.createElement("style");o.textContent="\n"+e+"\n";let n,r=function(e){if(e){let t;if(e.shadowRoot?t=e.shadowRoot:e.getRootNode&&(t=e.getRootNode()),t&&t!==document&&t!==e)return t}return null}(t),i=!0;return r||(i=!1,r=document.head),i&&r.children&&r.children.length&&(n=r.children[0]),n?r.insertBefore(o,n):r.appendChild(o),o},p=function(e,t){t||(t=[]);for(let o in e){let n=e[o];"object"==typeof n?p(n,t):t.push(n)}return t},c=function(e){if(!e||"string"!=typeof e)return"";if("#"===e.charAt(0))return e;let t=e.match(/\d+/g);if(!t||t.length<3)return e;let o="#";for(let e=0;e<3;e++){let n=+t[e];n>=16||(o+="0"),o+=n?n.toString(16).toUpperCase():"0"}return o};let h={},_=function(e,t){"attributes"==t.type&&"lang"==t.attributeName&&(e.lang=t.target.lang||"en")},f=function(e,t,o){"attributes"===o.type&&(null!=t?o.attributeName===t&&e(o.target.getAttribute(t)):e(o.target))};h._getNewId=function(){return"observer_"+ ++h._id},h._addObserver=function(e,t,o){let n=o;n||(n={}),n.attributes=!0,h._observer.observe(e,n),h._addListener(e,t)},h._onMutationCallback=function(e){for(let t=0;t<e.length;t++){let o=e[t],n=h._listeners[o.target._observeId];for(let e=0;e<n.length;e++)n[e](o)}},h._addListener=function(e,t){let o=h._listeners;if(o||(o=h._listeners={}),!e._observeId){let t=h._getNewId();e._observeId=t}o[e._observeId]||(o[e._observeId]=[]);let n=o[e._observeId];n.indexOf(t)<0&&n.push(t)},h.addLanguageListener=function(e){e&&(e.lang=document.documentElement.lang||"en",h._addObserver(document.documentElement,_.bind(null,e)))},h.addAttributeListener=function(e,t,o){e&&t&&h._addObserver(e,f.bind(null,t,o))},h._observer=new MutationObserver(h._onMutationCallback),h._listeners={},h._id=0;let m={en:!0,de:!0,ja:!0,zh:!0,"zh-Hant":!0},y={_deferred:null,themeReady:null,_defaultColors:{up:"#39C46E",down:"#F5475B",level:"#C2C2C2",tickUp:"#39C46E",tickDown:"#F5475B",baseGrid:"#1A1A1C",baseText:"#C2C2C2",trackColor:"#FF9933"}};y.themeColors=y._defaultColors,y._components={},y._themeName="",y._elfVersion=0,y._dummyIcon=null,y._iconLoaded=!1,y._profileName=null,y._callbacks=[],y._observed=!1,y._pendingResolve=!1,y._themeLoaded=!1,y._icons={"elf-theme-halo":{rowGrouping:{expander:"down"},sorting:{ascending:"hollow-arrow-up",descending:"hollow-arrow-down",sortable:"sort-up-down"},columnStack:{stack:"map-layers",expand:"right",collapse:"left"}},"elf-theme-solar":{columnStack:{stack:"list",expand:"right",collapse:"left"}}},y._icons["halo-theme"]=y._icons["elf-theme-halo"],y._icons["solar-theme"]=y._icons["elf-theme-solar"],y.getElfVersion=function(){if(!y._elfVersion){let e=0;if(window.EFX_GRID){let t=window.EFX_GRID.version;t=t.split("."),e=+t[0]}else if(window.elf)if(window.elf.version){let t=window.elf.version.match(/\d/);t&&t[0]&&(e=parseInt(t[0],10))}else window.elf.customElements?e=3:window.customElements&&(e=4);else window.Polymer&&(e=1);y._elfVersion=e}return y._elfVersion},y.hasComponent=function(e){let t=y._components[e];if(null==t){t=0;let o=y.getElfVersion();if(e){let n;1===o?(n=document.createElement(e),n.is===e&&(t=o)):o>1&&(window.customElements&&window.customElements.get(e)||document.createElement(e).constructor!==HTMLElement)&&(t=o),y._components[e]=t}}return t},y.toLangString=function(e){if(!e)return"";if("zh-hant"===(e=e.toLowerCase()))return"zh-Hant";let t=e.replace(/-.*/,"");return m[t]?t:""},y.hasTheme=function(e){return e===y.getThemeName()},y.getThemeName=function(e){return y._themeName||(y._themeName=y.getCssVariable("--theme-name",document.documentElement)),y._themeName},y.setThemeName=function(e){y._themeName=e},y.isThemeLoaded=function(){return y._themeLoaded},y.getColors=function(){return y.themeColors},y.isHaloTheme=function(e){return null==e&&(e=y.getThemeName()),!!e&&e.indexOf("halo")>=0},y.injectIcons=function(e,t){if("object"!=typeof e)return;let o=y.getThemeName();e.themeName=o;let n=y.getElfVersion();e.elfVersion=n;let r=y._icons[o];r&&(e.icons=r)},y.getIconList=function(){let e=y._icons[y.getThemeName()];return e?p(e):[]},y._onIconPreloaded=function(){if(y._dummyIcon){let e=y._dummyIcon.parentNode;e&&e.removeChild(y._dummyIcon),y._dummyIcon=null}},y.prepareIconPreloading=function(){if(!y._iconLoaded){y._iconLoaded=!0;let e=y.getIconList();if(e.length){setTimeout(y._onIconPreloaded,10);let t=y._dummyIcon=document.createElement("coral-icon");return t.style.transform="scale(0)",document.body.appendChild(t),e}}return null},y.getCssVariable=function(e,t){let o="",n=t||document.body;return window&&"string"==typeof e&&1===n.nodeType&&e.match(/^--/)&&(o=window.getComputedStyle(n).getPropertyValue(e),o=o.replace(/[\"\']/g,"")),o},y.getCssVariables=function(e,t){let o=t||document.body;if(window&&1===o.nodeType){let t=window.getComputedStyle(o);for(let o in e){let n=e[o];n&&n.match(/^--/)&&(e[o]=t.getPropertyValue(n).replace(/\"/g,""))}}return e||null},y.setRTK=function(e){null!=e&&(y._rtk=e)},y.getMovementColorProfile=function(){return document.documentElement.getAttribute("movement-color-profile")},y._addThemeChangedCallback=function(e){let t=y._callbacks;t.indexOf(e)<0&&t.push(e)},y.reloadThemeColors=function(){return y._deferred&&y._deferred.isFulfilled()?(y._profileName="",y._themeLoaded=!1,y.themeReady=null,y.getThemeColors()):y.themeReady},y.getThemeColors=function(e){if("function"==typeof e&&y._addThemeChangedCallback(e),y.themeReady)return y.themeReady;let t=y._deferred=new i;y.themeReady=t.promise;let o=y.getMovementColorProfile();if(o)o!==y._profileName?setTimeout(y._profileNameRetrieved,100):y._deferred.resolve(y.themeColors);else{let e={providerName:"Configuration",settingName:"RDE_USER_CURRENT_TICK_COLOR"},t=window?window.JET:null;if(y._themeLoaded=!1,y._rtk&&y._rtk.Settings)y._rtk.Settings.getAsync(e).then(y._loadingProfileSuccess).catch(y._loadingProfileFailure);else if(t&&t.Settings)try{t.Settings.read(y._loadingProfileSuccess,e)}catch(e){y._loadingProfileFailure()}else setTimeout(y._profileNameRetrieved,100)}return t.promise};let v=function(e){if(e!==y._profileName){y._retrieveThemeColors(e),y._pendingResolve&&(y._pendingResolve=!1,y._deferred.resolve(y.themeColors));let t=y._callbacks;for(let e=0;e<t.length;e++)t[e]()}};y._loadingProfileSuccess=function(e){e&&document.documentElement.setAttribute("movement-color-profile",e.toLowerCase()),y._observed?y._pendingResolve=!0:y._profileNameRetrieved(e)},y._loadingProfileFailure=function(){y._retrieveThemeColors(),y._observed||(y._observed=!0,h.addAttributeListener(document.documentElement,v,"movement-color-profile")),y._deferred.reject("Failed to get movement color profile from settings.")},y._profileNameRetrieved=function(){let e=y.getMovementColorProfile();y._retrieveThemeColors(e),y._observed||(y._observed=!0,h.addAttributeListener(document.documentElement,v,"movement-color-profile")),y._deferred.resolve(y.themeColors)},y._retrieveThemeColors=function(e){y._themeLoaded=!0,y._profileName=e;let t=y.themeColors=y.getCssVariables({primary:"--color-scheme-primary",secondary:"--color-scheme-secondary",tertiary:"--color-scheme-tertiary",complementary:"--color-scheme-complementary",up:"--color-scheme-positive",down:"--color-scheme-negative",level:"--color-scheme-neutral",tickUp:"--color-scheme-tickup",tickDown:"--color-scheme-tickdown"});t.up||(t.up=y._defaultColors.up,t.down=y._defaultColors.down,t.level=y._defaultColors.level,t.tickUp=y._defaultColors.tickUp,t.tickDown=y._defaultColors.tickDown),t.positive=t.up,t.negative=t.down,t.neutral=t.level;let o=document.createElement("table");o.style.visibility="hidden",o.style.position="fixed",o.style.left="0",o.style.top="0",o.style.width="0";let n=o.insertRow(-1),r=n.insertCell(-1);document.body.appendChild(o);let i=window.getComputedStyle(n);t.tableBg=i.backgroundColor;let l=window.getComputedStyle(r);t.tableText=l.color,t.tableBorder=l.borderColor,t.tableText===t.tableBorder&&(r.className="tr-lg",l=window.getComputedStyle(r),t.tableBg=l.backgroundColor,t.tableText=l.color,t.tableBorder=l.borderColor,t.tableText===t.tableBorder&&(t.tableBg=y._defaultColors.baseGrid,t.tableText=y._defaultColors.baseText,t.tableBorder="")),t.tableBg=c(t.tableBg),t.tableText=c(t.tableText),t.tableBorder=c(t.tableBorder),document.body.removeChild(o),t.baseGrid=t.tableBg,t.baseText=t.tableText,t.trackColor=t.primary||y._defaultColors.trackColor};var b=y;let w=function(){};n.inherits(w,r),w.prototype._hosts=null,w.prototype._compositeGrid=null,w.prototype._realTimeGrid=null,w.prototype._rowGetter=null,w.prototype._initializedGrid=!1,w.prototype.listen=w.prototype.addEventListener,w.prototype.unlisten=w.prototype.removeEventListener,w.prototype.afterInit=function(e,t,o){let n=null;o&&o.getCoreGrid&&(n=o.getCoreGrid()),n&&(this.getGridApi()||this.setGridWrapper("compositegrid",o),this._compositeGrid&&n.loadPlugin(this,t)),this._initializedGrid||(this._initializedGrid=!0,this._rowGetter=this._realTimeGrid?x:T,this._afterInit())},w.prototype._afterInit=function(){},w.prototype._dispose=function(){this._hosts&&(this._hosts.length||(this._compositeGrid=this._realTimeGrid=null,this._initializedGrid=!1))},w.prototype.hasMultiTableSupport=function(){return!1},w.prototype._prepareEventArguments=function(e,t){return t||(t={}),t.api=this.getGridApi(),t},w.prototype.getName=function(){return"GridPlugin"},w.prototype.initialize=function(e,t){},w.prototype.unload=function(e){this._dispose()},w.prototype.getRelativeGrid=function(e){let t=null;if(e.target){t=e.target;let o=t.api;if(o&&o.getCoreGrid)return o.getCoreGrid()}else e.getElement?t=e.getElement():1===e.nodeType&&(t=e);if(t)for(let e=this._hosts.length;--e>=0;){let o=this._hosts[e];if(o.getElement().contains(t))return o}return null},w.prototype.setGridWrapper=function(e,t){e&&("compositegrid"===(e=e.toLowerCase())?this._compositeGrid=t:"realtimegrid"===e&&(this._realTimeGrid=t))},w.prototype.getGridApi=function(e){if(null==e)return this._compositeGrid||this._realTimeGrid;{let t="number"==typeof e?this._hosts[e]:e;return t&&t._wrapper||null}},w.prototype.getColumnName=function(e){if(this._compositeGrid){let t=this._compositeGrid.getColumnModel(e);if(t)return t.title?t.title:t.field}else{let t=this.getColumnIndex(e),o=this._realTimeGrid.getColumnDefinition(t);if(o)return o.getName()}return""},w.prototype.getColumnIndex=function(e){if("number"==typeof e)return e;if(this._compositeGrid){let t=this._compositeGrid.getColumnFields().indexOf(e);return t>-1?t:this._compositeGrid.getColumnIndex(e)}return this._realTimeGrid.getColumnIndex(e)},w.prototype.getColumnIndices=function(e){let t=this.getGridApi();if(t.getColumnIndices)return t.getColumnIndices(e);if(this._compositeGrid){let t,o=this._compositeGrid.getColumnFields(),n=this._compositeGrid.getColumnCount(),r=[];for(let i=0;i<e.length;i++)if(t=e[i],"number"==typeof t)t>=0&&t<n&&r.push(t);else{let e=o.indexOf(t);-1!==e&&r.push(e)}return r}return this._realTimeGrid.getColumnIndices(e)},w.prototype.getColumnId=function(e){if("string"==typeof e)return e;let t=this.getColumnCount();if(e<0||e>=t)return"";if(this._compositeGrid)return this._compositeGrid.getColumnId(e);{let t=this._realTimeGrid.getColumnDefinition(e);if(t)return t.getId()}return""},w.prototype.getColumnIds=function(){return this._hosts&&this._hosts.length?this._hosts[0].getColumnIds():[]},w.prototype.getColumnField=function(e){return this._hosts&&this._hosts.length?this._hosts[0].getColumnField(e):""},w.prototype.getColumnFields=function(){return this._hosts&&this._hosts.length?this._hosts[0].getColumnFields():[]},w.prototype.getColumnCount=function(){if(this._hosts){let e=this._hosts[0];return e?e.getColumnCount():0}return 0},w.prototype._moveColumnById=function(e,t){let o=this._hosts,n=o?o.length:0;if(n){let r=0;for(let i=0;i<n;++i)r|=o[i].moveColumnById(e,t);return!!r}return!1},w.prototype._reorderColumns=function(e,t){let o=this._hosts,n=o?o.length:0;if(n){let r=0;for(let i=0;i<n;++i)r|=o[i].reorderColumns(e,t);return!!r}return!1},w.prototype._loadPlugin=function(e,t,o){return e||(e=t.getPlugin(o))||(e=t.loadPlugin(o))&&this._initializedGrid&&(e._initializedGrid=!0),e},w.prototype._requestPlugin=function(e,t,o){return this._initializedGrid?w.requestPlugin(e,t,o,this._compositeGrid,this._realTimeGrid):Promise.reject("Plugin should be requested after the initialization")},w.requestPlugin=function(e,t,o,n,r){let l=null;if(e){let t=null;1===e.nodeType?t=e.api:e.getCoreGrid?t=e:e.getPlugin&&(l=e),t&&(l=t.getCoreGrid(),n||r||(t.getModel?n=t:r=t))}if(!l)return Promise.reject("Cannot find grid element");let s=l.getPlugin(t);if(s)return Promise.resolve(s);{let e=new i;return setTimeout(w._onPluginRequested.bind(null,{grid:l,pluginRef:t,compositeGrid:n,realTimeGrid:r,config:o,deferred:e}),10),e.promise}},w._onPluginRequested=function(e){let t=e.grid;if(!t.getElement())return e.deferred.reject("Grid has been disposed before the plugin is fully loaded: "+e.pluginRef);let o=t.getPlugin(e.pluginRef);if(o)return e.deferred.resolve(o);let n=!1;return e.pluginRef.beforeInit&&(n=!0,e.pluginRef.beforeInit(t.getElement(),e.config,!0)),o=t.loadPlugin(e.pluginRef,e.config),o?(!n&&o.beforeInit&&o.beforeInit(t.getElement(),e.config),o.setGridWrapper&&(e.compositeGrid?o.setGridWrapper("compositegrid",e.compositeGrid):e.realTimeGrid&&o.setGridWrapper("realtimegrid",e.realTimeGrid)),o.afterInit&&o.afterInit(),e.deferred.resolve(o)):e.deferred.reject("Unable to load required dependency: "+e.pluginRef)},w.prototype._getPlugin=function(e,t){return null==t&&(t=this._hosts[0]),t?t.getPlugin(e):null},w.prototype._getColumnData=function(e,t){return null==t&&(t=this._hosts[0]),t?t.getColumnData(e):null},w.prototype._getColumnOption=function(e,t,o){let n=this._getColumnData(e,o);return n?n[t]:null},w.prototype._newColumnData=function(e,t){if(null==t&&(t=this._hosts[0]),!t)return{};let o=t.getColumnData(e);return o||(o=t.setColumnData(e,{})),o},w.prototype._getField=function(e){let t=this._compositeGrid||this._realTimeGrid;return t?t.getColumnField(e):""},w.prototype._getRowData=function(e){return this._realTimeGrid&&e?e.ROW_DEF.getRowData():e},w.prototype._getRow=function(e,t){return E(e.getRowDataAt(t))},w.prototype._getData=function(e,t,o){let n=this._getRow(e,t);return n?n[o]:void 0},w.prototype._setData=function(e,t,o,n){if(this._realTimeGrid){let r=R(e,t);r&&r.setData(o,n)}else"number"==typeof t?e.setDataAt(t,o,n):e.setData(t,o,n)},w.prototype._setRowData=function(e,t,o){if(this._realTimeGrid){let n=R(e,t);n&&n.setRowData(o)}else"number"==typeof t?e.setRowDataAt(t,o):e.setRowData(t,o)},w.prototype._setStaticData=function(e,t,o,n){if(this._realTimeGrid){let r=R(e,t);r&&r.setStaticData(o,n)}else this._setData(e,t,o,n)},w.prototype._setColumnData=function(e,t,o,n){if(!t)return;let r=Array.isArray(n)?n:e.getAllRowIds(!0),i=r?r.length:0;if(!i)return;if(1===i)return void this._setData(e,r[0],t,Array.isArray(o)?o[0]:o);let l=Array.isArray(o)?o:r.map((function(){return o}));if(this._realTimeGrid){for(let o=0;o<i;++o){let n=e.getRowData(r[o]);if(n){let e=n.ROW_DEF;e&&(e.getRowData()[t]=l[o])}}e.dispatchGlobalChange||(e=e.getDataSource()),e&&e.dispatchGlobalChange&&e.dispatchGlobalChange()}else e.setColumnData(t,l,r)},w.prototype._activateColumnRenderer=function(e,t,o){if(null==e)return;let n=this._realTimeGrid;n?n.activateColumnRenderer(e,t,o):"function"==typeof o?this._hosts[0].setColumnDataBindingHandler(e,o):this._hosts[0].setColumnDataBindingHandler(e,null)};let C=function(){},D={left:37,right:39,up:38,down:40,backspace:8,tab:9,enter:13,esc:27,escape:27,space:32,pageup:33,pagedown:34,del:46,delete:46};w.prototype._mockMouseEvent=function(e,t,o){null==e&&(e=0),null==t&&(t=0);let n=o||{};if(n.preventDefault=C,n.stopPropagation=C,e>=0&&t>=0){let o=this._activeGrid||this._hosts[0],r=o?o.getCell(n.sectionType||"content",e,t):null;n.target=r?r.getElement():null}return n},w.prototype._mockKeyboardEvent=function(e,t){let o=t||{};if(o.preventDefault=C,o.stopPropagation=C,"string"==typeof e){let t=D[e.toLowerCase()]||0;e=t||e.charCodeAt(0)}return o.keyCode=e,o},w._staticStyles={},w._themeLoaders={},w._themeLoadSuccess=function(e,t){let o=this.getName(),n=w._staticStyles[o]=e(t);this.applyStyles(n,o)},w.prototype.applyStaticStyles=function(e){let t=this.getName(),o=w._staticStyles[t];o?this.applyStyles(o,t):e&&(w._themeLoaders[t]||(w._themeLoaders[t]=y.getThemeColors()),w._themeLoaders[t].then(w._themeLoadSuccess.bind(this,e)))},w.prototype.applyStyles=function(e,t,o){t||(t=this.getName());let n,r,i="_style"+t,l=this._hosts,s=l.length;if(s)if(o)for(n=0;n<s;n++)r=l[n],this.revokeStyles(r,t),r[i]=g(e,r.getElement());else for(n=0;n<s;n++)r=l[n],r[i]||(g(e,r.getElement()),r[i]=!0)},w.prototype.revokeStyles=function(e,t){if(!e||!t)return;let o=e[t="_style"+t];o&&1===o.nodeType&&(o.parentNode.removeChild(o),e[t]=null)};let R=function(e,t){let o="number"==typeof t?e.getRowDataAt(t):e.getRowData(t);return o&&o.ROW_DEF||null},T=function(e){return e},x=function(e){return e?e.ROW_DEF.getRowData():null},E=function(e){if(e){let t=e.ROW_DEF;return t?t.getRowData():e}return null};let I={create:function(e,t){let o=document.createElement(e);return t&&(o.className=t),o},div:function(e){return I.create("div",e)},text:function(e,t){let o=I.create("span",t);return(e||0===e)&&(o.textContent=e),o},appendChild:function(e,t){if(!e)return null;let o,n;Array.isArray(arguments[1])?(n=arguments[1],o=0):(n=arguments,o=1);let r=n.length;for(;o<r;)e.appendChild(n[o]),++o;return e},buildTree:function(e,t){if(!e)return null;let o=arguments,n=o.length;for(let t=1;t<n;++t){let n=o[t];if(n){let t;Array.isArray(n)?t=I.buildTree.apply(null,n):1===n.nodeType&&(t=n),t&&e.appendChild(t)}}return e},removeParent:function(e){if(!e)return null;let t=e.parentNode;return t&&t.removeChild(e),t},setParent:function(e,t){return e?t?(t.appendChild(e),t):I.removeParent(e):null},removeChildren:function(e,t){if(e){let o=e.childNodes.length;for((null==t||t>o)&&(t=o);--t>=0;)e.removeChild(e.lastChild)}},setContent:function(e,t){if(e)if(t||0===t){let o=t.nodeType;1===o||3===o?t!==e.lastChild&&(I.removeChildren(e),e.appendChild(t)):Array.isArray(t)?(I.removeChildren(e),I.appendChild(e,t)):e.textContent=t}else I.removeChildren(e)},toggleAttribute:function(e,t,o){o?e.setAttribute(t,"string"==typeof o?o:""):null==o?e.hasAttribute(t)?e.removeAttribute(t):e.setAttribute(t,""):e.removeAttribute(t)},toggleClass:function(e,t,o){o?e.classList.add(t):null==o?e.classList.contains(t)?e.classList.remove(t):e.classList.add(t):e.classList.remove(t)},addClasses:function(e,t){if(e){let o=Array.isArray(t)?t:arguments,n=o.length;for(let t=0;t<n;++t){let n=o[t];n&&"string"==typeof n&&e.classList.add(n)}}},removeClasses:function(e,t){if(e){let o=Array.isArray(t)?t:arguments,n=o.length;for(let t=0;t<n;++t){let n=o[t];n&&"string"==typeof n&&e.classList.remove(n)}}},preventDefault:function(e){e.preventDefault(),e.stopPropagation()},stopPropagation:function(e){e.stopPropagation()},getClientPosition:function(e,t){let o=t||{x:0,y:0};if(e.getBoundingClientRect){let t=e.getBoundingClientRect();o.x=t.left,o.y=t.top}else o.x=e.clientX,o.y=e.clientY;return o},getRelativePosition:function(e,t,o){o=I.getClientPosition(e,o);let n=I.getClientPosition(t);return o.x-=n.x,o.y-=n.y,o},closestElement:function(e,t){let o=e;for(;o;){if(o.classList&&o.classList.contains(t))return o;o=o.parentNode||o.host}return null},closestTagName:function(e,t){let o=e;for(;o;){if(o.tagName&&o.tagName==t)return o;o=o.parentNode||o.host}return null}};var P=I;let G=function(e){this._dragBox=e.dragBox,this._dragBoxIcon=e.dragBoxIcon,this._dragBoxContent=document.createElement("div"),this._dragBoxContent.className="drag-box-content",this._dragBox.appendChild(this._dragBoxContent)};G._styles="",G.prototype._guideline=null,G.prototype._dragBox=null,G.prototype._dragBoxIcon=null,G.prototype._grid=null,G.applyThemeColor=function(e){e&&!e._dragUIStyles&&G._styles&&(e._dragUIStyles=!0,g(G._styles,e.getElement()))},G.prototype.onThemeLoaded=function(e){if(!G._styles){let t=b.getElfVersion(),o="grabbing";t<3&&(o="move");let n=[".tr-row-guideline",["position: absolute;","left: 0;","top: 0;","pointer-events: none;","text-align: center;","border-top-width: 3px;","border-top-style: solid;"],".guideline",["position: absolute;","left: 0;","top: 0;","pointer-events: none;","text-align: center;","border-top-style: solid;","width: 3px;","border-top-color: var(--grid-title-icon-color);","color: var(--grid-title-icon-color);","background-color: var(--grid-title-icon-color);"],".drag-box",["position: absolute;","left: 0;","top: 0;","pointer-events: none;","background-color: var(--grid-dragbox-bgcolor);","border: solid 1px var(--grid-title-sort-icon-color);","width: 134px;","height: 29px;","line-height: 29px;","white-space: nowrap;","overflow-x: clip;","text-overflow: ellipsis;","padding: 0 7px 0 7px;","box-shadow: 0 0 8px var(--grid-dragbox-bordercolor);","z-index: 2"],".drag-box-disabled",["width: 100px;","left: 0;","top: 0;","position: absolute;"],".drag-box-content",["overflow-x: clip;","text-overflow: ellipsis;"],".drag-box-icon",["top: -4px;","left: 12px;","padding: 2px;","border-radius: 100%;","font-size: 11px;","position: absolute;"],".drag-box-icon[icon='void']",["background-color:var(--grid-void-icon-bgcolor);","color:var(--grid-void-icon-color);"],".drag-box-icon[icon='add']",["background-color:var(--grid-insertion-icon-bgcolor);","color:var(--grid-insertion-icon-color);"],":host",["--grid-dragbox-bgcolor: #ffffff;","--grid-insertion-icon-bgcolor: #39c46e;","--grid-insertion-icon-color: #1A1A1A;","--grid-void-icon-bgcolor: #F5475B;","--grid-void-icon-color: #FFFFFF;","--grid-title-icon-color: var(--grid-guideline-color);"],".mouse-dragging *",["cursor: "+o+" !important;"],".tr-grid .column .cell.drag-indicator",["border-top: var(--grid-drag-indicator) !important;","border-right: var(--grid-drag-indicator) !important;","border-bottom: var(--grid-drag-indicator);","border-left: var(--grid-drag-indicator);"],".tr-dragging, .tr-dragging *",["-webkit-touch-callout: none;",".user-select(none);"],".tr-dragbox",["background-color: unset;"]],r="#ff9933";e.primary&&(r=e.primary),r+=";",n.push(".tr-row-guideline",["border-top-color: "+r,"color: "+r]),t<3&&n.push(".pearl .tr-row-guideline, *[theme=pearl] .tr-row-guideline",["border-top-color: #ee7600;","color: #ee7600;","background-image: linear-gradient(to bottom, rgba(0, 0, 0, 0), rgba(0, 0, 0, 0.1));"]),G._styles=u(n)}},G.prototype.renderDragBox=function(e,t){if(!t)return!1;let o=t.getElement(),n=o,r=t.getParent().parentNode;11===r.nodeType&&(n=r);let i=this._dragBox.parentNode;i||n.appendChild(this._dragBox);let l=e.dragBoxIcon||this._dragBox.dragBoxIcon;this._dragBoxIcon.style.visibility="visible",i=this._dragBoxIcon.parentNode;let s=!0;"insertion"===l?(s=!1,this._dragBoxIcon.icon="add",i||this._dragBox.appendChild(this._dragBoxIcon)):"not-allowed"===l||"no-drop"===l||"void"===l?(s=!1,this._dragBoxIcon.icon="void",i||this._dragBox.appendChild(this._dragBoxIcon)):P.removeParent(this._dragBoxIcon);let a=o.getBoundingClientRect(),d=e.clientX-a.left,u=e.pageY-a.top;return this._dragBox.style.left=d-5+"px",this._dragBox.style.top=u+8+"px",s},G.prototype.setContent=function(e){e&&e.getElement&&(e=e.getElement());let t=this._dragBoxContent;e!==t._content&&(t._content=e,P.setContent(t,e))};let B=function(e){return!(!e||"content"!==e.sectionType)},S=function(e){return!e||("CONTENT"===e||("CHAIN"===e||"GROUP_HEADER"===e))},A=function(e){let t=this;t.startDrag=t.startDrag.bind(t),t.stopDrag=t.stopDrag.bind(t),t._clearCache=t._clearCache.bind(t),t._onMouseDown=t._onMouseDown.bind(t),t._onDragPulse=t._onDragPulse.bind(t),t._onDragStart=t._onDragStart.bind(t),t._onMouseMove=t._onMouseMove.bind(t),t._onDragEnd=t._onDragEnd.bind(t),t._onThemeLoaded=t._onThemeLoaded.bind(t),t._onJETDrop=t._onJETDrop.bind(t),t._onJETDragOver=t._onJETDragOver.bind(t),t._delayStart=t._delayStart.bind(t),t._hosts=[],t._guideline=document.createElement("div"),t._guideline.className="tr-row-guideline",t._dragBox=document.createElement("div"),t._dragBox.className="drag-box-disabled",t._dragBoxIcon=document.createElement("coral-icon"),t._dragBoxIcon.className="drag-box-icon",e&&t.config({rowDragging:e})};n.inherits(A,w),A._styles="",A._stylePromise=null,A.prototype._guideline=null,A.prototype._dragBox=null,A.prototype._dragBoxIcon=null,A.prototype._uiDisabled=!1,A.prototype._disabled=!1,A.prototype._dragTarget=null,A.prototype._dragBoxRenderer=null,A.prototype._legacyRowReorder=null,A.prototype._pos=null,A.prototype._startingRid="",A.prototype._startingRowType="",A.prototype._startingGrid=null,A.prototype._dragPulseId=0,A.prototype._topBound=0,A.prototype._btmBound=0,A.prototype._scrollStep=40,A.prototype._dragging=!1,A.prototype._scrollingZone=!1,A.prototype._touchMode=!1,A.prototype._mouseInput=!0,A.prototype._dragBoxEnabled=!1,A.prototype._dataTransfer=!0,A.prototype._autoScroll=!0,A.prototype._dragUI=null,A.prototype._timerId=-1,A.prototype._jetDnD=!1,A.prototype._jetDragContent=null,A.prototype._jetContentHasRic=!1,A.prototype._jetContentHasField=!1,A.prototype._entryPoint="";let L=function(e){A._applyThemeColor(e),G.applyThemeColor(e)};A.prototype.beforeProcessOption=function(e,t){if("rowReorder"===e)return this._legacyRowReorder=t,!1},A.prototype.hasMultiTableSupport=function(){return!0},A.prototype.getName=function(){return"RowDraggingPlugin"},A.prototype.initialize=function(e,t){this._hosts.indexOf(e)>=0||(this._hosts.push(e),this.config(t),this._mouseInput&&(e.setAttribute("draggable","true"),e.listen("dragstart",this.startDrag)),e.listen("mousedown",this._onMouseDown),e.listen("touchstart",this._onMouseDown),this._dragUI=new G({dragBox:this._dragBox,dragBoxIcon:this._dragBoxIcon}),G.stylePromise||(G.stylePromise=y.getThemeColors()).then(this._onThemeLoaded).catch(this._onThemeLoaded),setTimeout(L.bind(this,e),0))},A.prototype.unload=function(e){let t=this._hosts.indexOf(e);t<0||(e.unlisten("dragstart",this.startDrag),e.unlisten("mousedown",this._onMouseDown),e.unlisten("touchstart",this._onMouseDown),this._hosts.splice(t,1),this._hosts.length||this._clearCache(),this._dispose())},A.prototype._onThemeLoaded=function(){if(!A._styles){A._styles=u([":host .row-dragging .cover-layer .selection-bound",["border: var(--grid-drag-indicator)"],":host .row-dragging .tr-lg .cell.selected-row",["background-color: unset;"]])}let e=y.getColors();this._dragUI.onThemeLoaded(e);for(let e=this._hosts.length;--e>=0;)L(this._hosts[e])},A._applyThemeColor=function(e){e&&!e._rowDraggingStyles&&A._styles&&(e._rowDraggingStyles=!0,g(A._styles,e.getParent()))},A.prototype.config=function(e){if(!e)return;let t=e.rowDragging||this._legacyRowReorder;if(!t)return;if("function"==typeof t.dragBoxRenderer){this._dragBoxRenderer=t.dragBoxRenderer;let e="drag-box";y.getElfVersion()<3&&(e="tr-dragbox content-dragging"),this._dragBox.className=e}else this._dragBox.className="drag-box-disabled";this._dragBoxEnabled=!!t.dragBox;let o=t.mouseInput;null!=o&&(this._mouseInput=!!o),o=t.dataTransfer,null!=o&&(this._dataTransfer=!!o),o=t.autoScroll,null!=o&&(this._autoScroll=!!o),t.disabled&&(this._uiDisabled=!0),this.addListener(t,"dragStart"),this.addListener(t,"drag"),this.addListener(t,"dragEnd"),this.addListener(t,"dataMoved"),this.addListener(t,"beforeDataMoved")},A.prototype.getConfigObject=function(e){let t=e||{},o=t.rowDragging;return o||(o=t.rowDragging={}),o.dragBox=this._dragBoxEnabled,o.mouseInput=this._mouseInput,o.autoScroll=this._autoScroll,o.dataTransfer=this._dataTransfer,o.disabled=this._uiDisabled,t},A.prototype.dragStart=function(e,t){t||(t={}),t.type="dragstart";let o=this._hosts[0],n=o?o.getCell("content",0,e):null;t.target=n?n.getElement():null,this._onMouseDown(t),this.startDrag(t)},A.prototype.dragMove=function(e,t){t||(t={}),t.type="mousemove",t.which=1;let o=this._hosts[0],n=o?o.getCell("content",0,e):null,r=o.getRelativePosition(n);t.clientX=r.x,t.pageY=r.y,t.target=n?n.getElement():null,t.stopPropagation=function(){},t.preventDefault=function(){},this._onMouseMove(t)},A.prototype.dragEnd=function(e,t){t||(t={}),t.type="mouseup";let o=this._hosts[0],n=o?o.getCell("content",0,e):null;t.target=n?n.getElement():null,t.stopPropagation=function(){},t.preventDefault=function(){},this._onDragEnd(t)},A.prototype.startDrag=function(e){this._startDrag(!1,e)},A.prototype.stopDrag=function(){this._dragging?(this.cancelDrag(),this._onDragEnd()):this.cancelDrag()},A.prototype.cancelDrag=function(){this._pos&&(this._pos.cancel=!0)},A.prototype.getGuideline=function(){return this._guideline},A.prototype.disable=function(e){this._disabled=!1!==e},A.prototype.isDisabled=function(){return this._disabled},A.prototype.disableUIs=function(e){this._uiDisabled=!1!==e},A.prototype.allowDrag=function(e){this._pos&&(this._pos.invalidTarget=!1===e)},A.prototype.allowDrop=A.prototype.allowDrag,A.prototype.setDragContent=function(e){this._dragUI.setContent(e)},A.prototype.getDragBox=function(){return this._dragBox},A.prototype.getDragSource=function(){return this._entryPoint},A.prototype.isDragging=function(){return this._dragging},A.prototype.disableDragging=function(e){this._disabled=!1!==e},A.prototype.enableJETDragAndDrop=function(e){let t=!1!==e;if(this._jetDnD===t)return;this._jetDnD=t;let o=window.JET;o&&(o.ContainerDescription&&"EikonNowContainer"!==o.ContainerDescription.name?this._jetDnD?(o.onDrop(this._onJETDrop),o.onDragOver(this._onJETDragOver),o.onDragLeave(this.stopDrag)):(o.onDrop(null),o.onDragOver(null),o.onDragLeave(null)):this._jetDnD=!1)},A.prototype.getJETDragContent=function(){return this._jetDragContent},A.prototype.setJETDragContent=function(e){this._jetDragContent=e;let t=window.tr,o=t?t.grid:null,n=o?o.JetDragContent:null;if(e&&n){let t=new n(e),o=t.getRicsToDrop(),r=t.getFieldsToDrop();this._jetContentHasRic=!!(o&&o.length>0),this._jetContentHasField=!!(r&&r.length>0)}else this._jetContentHasRic=!1,this._jetContentHasField=!1},A.prototype._hitTest=function(e){let t=this.getRelativeGrid(e);if(t){let o;if(e.changedTouches){let n=e.changedTouches[0];o=t.getRelativePosition(document.elementFromPoint(n.clientX,n.clientY)),P.getRelativePosition(n,t.getElement(),o)}else o=t.getRelativePosition(e);return o}return e||{}},A.prototype._onMouseDown=function(e){e.changedTouches&&(this._touchMode=!0),this._dragTarget=e.target,this._setEntryPoint("grid")},A.prototype._onDragStart=function(e,t){if(this._dragging)return;if(!this._pos)return;this._listenAbortActions(!1);let o=!1,n=window.JET;if(t)o=!0;else{if(this._dispatch("dragStart",this._pos),this._isDragCancelled())return;n&&this._jetDnD&&this._jetDragContent&&(o=!0,n.dragStart(this._jetDragContent))}if(this._dragging=!0,document.body.classList.add("tr-dragging"),o||(window.addEventListener("mousemove",this._onMouseMove,!1),window.addEventListener("touchmove",this._onMouseMove,!1)),window.addEventListener("mouseup",this._onDragEnd,!1),window.addEventListener("touchend",this._onDragEnd,!1),window.addEventListener("touchcancel",this._onDragEnd,!1),this._touchMode)for(let e=this._hosts.length;--e>=0;){let t=this._hosts[e];t.getVScrollbar().disableTouchInput(),t.getHScrollbar().disableTouchInput()}if(!this._uiDisabled){let t=this._pos.grid||null;if(!t)return;if(this._dataTransfer){let o=this._pos.rowIndex,n=t.getDataSource();this._startingRid=n.getRowId(o),this._startingGrid=t;let r=this.getGridApi().getRowType(o);if(this._startingRowType=r,this._dragBoxRenderer){let t=l(e);t.dragBox=this._dragBox,t.dataRow=this._getRowData(n.getRowDataAt(o)),this._legacyRowReorder?this._dragBoxRenderer(e,t.dragBox,[t.dataRow]):this._dragBoxRenderer(t)}}let o=t.getElement();if(o.classList.add("mouse-dragging"),o.classList.add("row-dragging"),this._updateGuidePosition(),this._autoScroll){let e=t.getVScrollbar();this._topBound=e.getTop()+50,this._btmBound=e.getTop()+e.getHeight()-50,this._topBound<this._btmBound&&(this._scrollStep=Math.floor(t.getScrollHeight()/25),this._scrollStep<40?this._scrollStep=40:this._scrollStep>400&&(this._scrollStep=400),this._dragPulseId=setInterval(this._onDragPulse,130))}}},A.prototype._onMouseMove=function(e){if(!this._dragging)return;if("touchmove"!=e.type){if(!e||1!==e.which)return void this.stopDrag();P.preventDefault(e)}this._pos=this._hitTest(e),this._pos.dragBox=this._dragBox,this._pos.grid&&this._shouldPreventDrop(this._pos.rowIndex)&&(this._pos.dragBoxIcon="void");let t=!0;if("JET"!==this._entryPoint||this._jetContentHasRic||(t=!1),t&&this._updateGuidePosition(e),this._dispatch("drag",this._pos),!this._uiDisabled&&t){e.dragBoxIcon=this._pos.dragBoxIcon,this._dragUI.renderDragBox(e,this._startingGrid)||this.cancelDrag()}},A.prototype._onDragEnd=function(e){if(!this._dragging)return;if(this._dragging=!1,e&&P.preventDefault(e),P.removeParent(this._guideline),P.removeParent(this._dragBox),document.body.classList.remove("tr-dragging"),window.removeEventListener("mousemove",this._onMouseMove,!1),window.removeEventListener("touchmove",this._onMouseMove,!1),window.removeEventListener("mouseup",this._onDragEnd,!1),window.removeEventListener("touchend",this._onDragEnd,!1),window.removeEventListener("touchcancel",this._onDragEnd,!1),this._touchMode)for(let e=this._hosts.length;--e>=0;){let t=this._hosts[e];t.getVScrollbar().disableTouchInput(!1),t.getHScrollbar().disableTouchInput(!1)}let t=this._startingGrid||this._hosts[0],o=t.getElement();o.classList.remove("mouse-dragging"),o.classList.remove("row-dragging");let n=this._pos;if(!this._isDragCancelled()){if(n.srcGrid=t,n.dropTarget=e?e.target:null,!this._jetDnD&&this._dataTransfer&&B(this._pos)){let e=n.grid||t,o=n.rowIndex,r=t.getPlugin("RowSelectionPlugin"),i=r&&r.getSelectedRows();i&&i.length||(i=this._startingRid),this._moveRows(i,o,t,e,n)}let o=n.cellElement,r=0;if(e&&o){let t=o.getBoundingClientRect(),i=(e.clientX-t.left)/n.zoomFactor;r=Math.round(i/o.offsetWidth)}n.colIndex+=r,n.currentPosition=n,n.data=this._jetDragContent,n.dropTarget=e.target}this._dispatch("dragEnd",n||{}),this._clearCache(),this._jetDragContent=null},A.prototype._moveRows=function(e,t,o,n,r){let i,l,s=null,a=o.getDataSource(),d=n.getDataSource();if("string"==typeof e){let e=a.getRowIndex(this._startingRid);e>=0&&(s=[e])}else Array.isArray(e)&&(s=e);if(!s)return 0;let u=s.length,g=new Array(u),p=[],c="",h=this.getGridApi();for(h&&!h.getRowType&&(h=null),i=0;i<u;++i){let e=s[i],t=h?h.getRowType(e):"CONTENT";g[i]=a.getRowId(e),p[i]=t,c?c!==t&&(c="MIXED"):c=t}c||(c="CONTENT");let _,f,m=h?h.getRowType(t):"",y=d.getRowId(t);if(this.hasListener("beforeDataMoved")&&(r.srcRowIndices=s,r.srcRowIds=g,r.srcRowTypes=p,r.consolidatedSrcRowType=c,r.destRowIndex=t,r.destRowId=y,r.destRowType=m,this._dispatch("beforeDataMoved",r),r.cancel))return 0;let v=o.getPlugin("RowSegmentingPlugin"),b=null;if(o===n){if("MIXED"===c)b=a.moveRow(g,y);else if("CONTENT"===c)"GROUP_HEADER"===m?(f=v.getSegmentChildIds(y),f?b=a.moveRow(g,y):(v.addSegmentChildren(y,g),b=g)):S(m)?b=a.moveRow(g,y):"GROUP_MEMBER"===m&&(_=v.getSegmentParentRowId(y),v.addSegmentChildren(_,g),a.moveRow(g,y),b=g);else if("CHAIN"===c||"GROUP_HEADER"===c)S(m)&&(b=a.moveRow(g,y));else if("GROUP_MEMBER"===c)if(1===u){let e=g[0];_=v.getSegmentParentRowId(e),f=v.getSegmentChildIds(_);let o=f?f.length:0;if(t===a.getRowIndex(_)+o+1)b=a.moveRow(g,y);else if("GROUP_MEMBER"===m){let t=v.getSegmentParentRowId(y);_===t||(v.removeSegmentChild(_,e),v.addSegmentChild(t,e)),b=a.moveRow(g,y)}else S(m)&&(v.removeSegmentChild(_,g[0]),b=a.moveRow(g[0],y))}else b=a.moveRow(g,y)}else{b=g,r.destGrid=n;let e=[];for(i=0;i<u;++i){let t=a.getRowData(g[i]);t&&e.push(t)}if(l=e.length,l)if(a.removeRows(s),this._realTimeGrid)for(i=0;i<l;++i){e[i].ROW_DEF.registerToView(d,y)}else for(i=0;i<l;++i)d.insertRow(y,e[i])}let w=b?b.length:0;return w&&(r.originRowId=b[0],r.originRowIds=b,r.destinationRowId=y,this._dispatch("dataMoved",r)),w},A.prototype._isDragCancelled=function(){return!(!this._pos||!this._pos.cancel)},A.prototype._updateGuidePosition=function(e){let t=this._pos;if(!this._uiDisabled&&t&&!t.invalidTarget)if("not-allowed"!==t.dragBoxIcon&&"void"!==t.dragBoxIcon){if(B(t)){let o=this._guideline,n=t.section,r=n.getColumnHost();r!==o.parentNode&&(o.style.width=n.getWidth()+"px",r.appendChild(o));let i=t.cellElement,l=P.getRelativePosition(i,r),s=l.y,a=t.rowIndex,d=0;if(a&&(d=-1,e)){let o=n.getRowCount()-1;if(a>=o){let r=n.getRowHeight(o);l=P.getRelativePosition(e,i),l.y>=r/2|0&&(d=r-3,++t.rowIndex)}}o.style.top=s+d+"px"}}else P.removeParent(this._guideline)},A.prototype._shouldPreventDrop=function(e){let t=this.getGridApi();if(!t)return!1;if("CONSTITUENT"===this._startingRowType||"SUBGROUP_HEADER"===this._startingRowType)return!0;let o=this._pos.grid.getPlugin("RowSegmentingPlugin");if(!o)return!1;let n,r=o.getSegmentParentRowId(e),i=o.getSegmentParentRowId(this._startingRid);if("GROUP_MEMBER"===this._startingRowType){if("SUBGROUP_HEADER"===t.getRowType(i))return n=t.getRowType(r),!i||!r||r!==i}else if("CHAIN"===this._startingRowType){if(r)return!0}else if("GROUP_HEADER"===this._startingRowType&&r!==i)return!0;let l=t.getRowType(e);return"CONSTITUENT"===l||"SUBGROUP_HEADER"===l||"GROUP_MEMBER"===l&&(n=t.getRowType(r),"SUBGROUP_HEADER"===n)},A.prototype._clearCache=function(){this._dragPulseId&&(clearInterval(this._dragPulseId),this._dragPulseId=0),this._pos=this._dragTarget=this._startingGrid=null,this._scrollingZone=!1},A.prototype._onDragPulse=function(){if(!this._dragging)return;this._dispatch("dragInterval",this._pos);let e=this._pos.grid||this._startingGrid;if(!e||!e.getVScrollbar().isActive())return;let t=this._pos.y;if(null!=t)if(t>=this._topBound&&t<=this._btmBound)this._scrollingZone=!1;else{this._scrollingZone=!0;let o=this._scrollStep*(.8+Math.random())|0;t<this._topBound&&(o=-o),e.scrollDown(o)}},A.prototype.setJETDragContent=function(e){this._jetDragContent=e;let t=window.tr,o=t?t.grid:null,n=o?o.JetDragContent:null;if(e&&n){let t=new n(e),o=t.getRicsToDrop(),r=t.getFieldsToDrop();this._jetContentHasRic=!!(o&&o.length>0),this._jetContentHasField=!!(r&&r.length>0)}else this._jetContentHasRic=!1,this._jetContentHasField=!1},A.prototype._setEntryPoint=function(e){this._entryPoint=e,this.setDragContent(null)},A.prototype._onMouseOut=function(e){let t=(e=e||window.event).relatedTarget||e.toElement;t&&"HTML"!=t.nodeName||(this._timerId>=0&&(clearTimeout(this._timerId),this._timerId=-1),this._onDragStart(),this.stopDrag())},A.prototype._delayStart=function(e){this._startingGrid.unlisten("mousemove",this._delayStart),this._timerId<0&&(this._timerId=window.setTimeout(this._onDragStart,200)),this._jetDnD&&document.addEventListener("mouseout",this._onMouseOut,!1)},A.prototype._listenAbortActions=function(e){!1!==e?window.addEventListener("mouseup",this._clearCache,!1):window.removeEventListener("mouseup",this._clearCache,!1)},A.prototype._startDrag=function(e,t,o){if(this._dragging||this._hosts.length<=0)return;if(this._disabled)return;let n;if(t)if("dragstart"===t.type){t.preventDefault&&P.preventDefault(t);let e=this.getRelativeGrid(t);e&&(n=e.getRelativePosition(this._dragTarget))}else n=this._hitTest(t);else{let e=this._dragTarget||this._hosts[0].getSection("content").getCell(0,0);n=this._hitTest(e)}B(n)&&(this._clearCache(),this._pos=n,this._startingGrid=n.grid,e?(this._startingGrid.listen("mousemove",this._delayStart),this._listenAbortActions()):this._onDragStart(t,o))},A.prototype._onJETDragOver=function(e){if(e)if(this._dragging)this._onDrag(e.e);else{if(!e.dropData)return;this._setEntryPoint("JET"),this.setJETDragContent(e.dropData),this._startDrag(!1,e.e,!0)}},A.prototype._onJETDrop=function(e){this._dragging&&(this._jetDragContent||(this._jetDragContent=e),this._onDragEnd(e.mouse.srcEvent))};!function(e,t){if(!e||!t)return;if(!t.prototype.getName)return;let o=t.prototype.getName().replace(/Plugin$/,"");if(!o)return;let n=e.tr;n||(n=e.tr={});let r=n.grid;r||(r=n.grid={}),r[o+"Plugin"]=t,n[o+"Extension"]=t}(window,A)}]);