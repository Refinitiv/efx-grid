!function(t){var e={};function n(r){if(e[r])return e[r].exports;var i=e[r]={i:r,l:!1,exports:{}};return t[r].call(i.exports,i,i.exports,n),i.l=!0,i.exports}n.m=t,n.c=e,n.d=function(t,e,r){n.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:r})},n.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},n.t=function(t,e){if(1&e&&(t=n(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var i in t)n.d(r,i,function(e){return t[e]}.bind(null,i));return r},n.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p="",n(n.s=1)}([function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"a",(function(){return cloneObject})),__webpack_require__.d(__webpack_exports__,"d",(function(){return prettifyCss})),__webpack_require__.d(__webpack_exports__,"b",(function(){return injectCss})),__webpack_require__.d(__webpack_exports__,"c",(function(){return nestedObjectToArray})),__webpack_require__.d(__webpack_exports__,"e",(function(){return rgb2Hex}));var Util={post:function(t,e){return Util._post(t,e).then(Util.toJSON)},requestText:function(t,e){return Util._post(t,e,"text/plain").then(Util.toText)},requestByUrlEncoded:function(t,e){return Util._post(t,e,"application/x-www-form-urlencoded").then(Util.toJSON)},toJSON:function(t){return Util._logError(t)?Promise.reject(t):t.json()},toText:function(t){return Util._logError(t)?Promise.reject(t):t.text()},_logError:function(t){return!!(t&&t.status>=300)&&(console.log("Response "+t.status+": "+t.statusText),!0)},_post:function(t,e,n){var r={method:e?"POST":"GET",headers:{"Content-Type":n||"application/json"}};return e&&(r.body="string"==typeof e?e:JSON.stringify(e)),fetch(t,r)}},extendObject=function(t,e,n){if(!t)return null;if(!e||t===e)return t;var r;if(n)for(var i=n.length,o=0;o<i;++o)(r=n[o])&&extendProperty(t,e,r);else for(r in e)extendProperty(t,e,r);return t},cloneObject=function(t,e){return extendObject({},t,e)},isEmptyObject=function(t){for(var e in t)return!1;return!0},arrayToObject=function(t,e){if(!Array.isArray(t))return t;if(!e)return null;var n=t;t={};for(var r=n.length,i=0;i<r;++i){var o=e[i];o&&void 0!==n[i]&&(t[o]=n[i])}return t},extendProperty=function(t,e,n){var r=e[n];if(null!=r){var i=t[n];Array.isArray(i)?t[n]=i.concat(r):Array.isArray(r)&&i?t[n]=r.concat(i):t[n]=r}},deepEqual=function(t,e){if(t===e)return!0;if(typeof t!=typeof e)return!1;if("object"==typeof t){if(Array.isArray(t)){if(t.length!==e.length)return!1;for(var n=0;n<t.length;n++)if(!deepEqual(t[n],e[n]))return!1}else{if(Object.keys(t).length!==Object.keys(e).length)return!1;for(var r in t)if(!deepEqual(t[r],e[r]))return!1}return!0}return!1},extendArrayProperty=function(t,e,n){var r=null;if(n){var i=t[e];r=i?Array.isArray(i)?i:t[e]=[i]:t[e]=[],Array.isArray(n)?n.length&&(n.length>1?Array.prototype.push.apply(r,n):r.push(n[0])):r.push(n)}return r},_bracketExp=new RegExp(/\[[^\[]*\]/g),parseCondition=function(expression){if(!expression)return null;if("string"!=typeof expression)return"function"==typeof expression?expression:null;for(var brackets=expression.match(_bracketExp),map={},fields=[],len=brackets?brackets.length:0,i=len;--i>=0;){var field=brackets[i];map[field]||(map[field]="f["+fields.length+"]",fields.push(field.substring(1,field.length-1)))}expression=expression.replace(_bracketExp,(function(t){return"rowData["+map[t]+"]"}));var finalExp="(function(f, rowData) { return ("+expression+"); })",fn=null;try{fn=eval(finalExp),fn=fn.bind(null,fields)}catch(t){console.log(t.message)}return fn||null},_encloseBracket=function(t){return Array.isArray(t)?"{\n"+t.join("\n")+"\n}":t},_indentBracketContent=function(t){return t.replace(/\n+/g,"\n\t").replace(/\n\t}$/,"\n}")},prettifyCss=function(t){if(t){var e="";if(Array.isArray(t))e=t.map(_encloseBracket).join("\n").replace(/{\s*{/g,"{").replace(/\s+{/g," {");else e="string"==typeof t?t:t+"";if(e)return e.replace(/{[\w\W]*?}/g,_indentBracketContent)}return""},getShadowRoot=function(t){var e;if(t&&(t.shadowRoot?e=t.shadowRoot:t.getRootNode&&(e=t.getRootNode()),e&&e!==document&&e!==t))return e;return null},injectCss=function(t,e){if(!t)return null;var n=document.createElement("style");n.textContent="\n"+t+"\n";var r,i=getShadowRoot(e),o=!0;return i||(o=!1,i=document.head),o&&i.children&&i.children.length&&(r=i.children[0]),r?i.insertBefore(n,r):i.appendChild(n),n},isIE=function(){var t=window.navigator.userAgent;return t.indexOf("MSIE ")>0||t.indexOf("Trident/")>0||t.indexOf("Edge/")>0},isMac=function(){return/Mac/.test(navigator.platform)},isTouchDevice=function(){return!!(navigator.maxTouchPoints&&navigator.maxTouchPoints<256||navigator.msMaxTouchPoints&&navigator.msMaxTouchPoints<256)},nestedObjectToArray=function(t,e){for(var n in e||(e=[]),t){var r=t[n];"object"==typeof r?nestedObjectToArray(r,e):e.push(r)}return e},rgb2Hex=function(t){if(!t||"string"!=typeof t)return"";if("#"===t.charAt(0))return t;var e=t.match(/\d+/g);if(!e||e.length<3)return t;for(var n="#",r=0;r<3;r++){var i=+e[r];i>=16||(n+="0"),n+=i?i.toString(16).toUpperCase():"0"}return n},prepareTSVContent=function(t){if(null==t)return"";var e="string"==typeof t?t:t.toString();return e.length?(e.indexOf("\n")>=0&&(e=e.replace(/[\r\n]/g," ")),e.indexOf("\t")>=0&&(e=e.replace(/\t/g," "))," "!==e.charAt(0)&&" "!==e.charAt(e.length-1)||(e=e.trim()),e):""},_unused_webpack_default_export=Util},function(t,e,n){"use strict";n.r(e);var r={inherits:function(t,e){function n(){}n.prototype=e.prototype,t.prototype=new n,t.prototype.constructor=t,t.base=function(t,n,r){n||(n="constructor");for(var i=arguments.length,o=new Array(i),s=2;s<i;s++)o[s-2]=arguments[s];return e.prototype[n].apply(t,o)}}},i=function(){};i.prototype._events=null,i.prototype._listenerCount=0,i.prototype.addEventListener=function(t,e){if(t&&e){this._events||(this._events={});var n=this._events[t];n?n.indexOf(e)<0&&(n.push(e),++this._listenerCount):(this._events[t]=[e],++this._listenerCount)}},i.prototype.removeEventListener=function(t,e){var n=this._events?this._events[t]:null;if(n){var r=n.indexOf(e);r>=0&&(n.splice(r,1),--this._listenerCount)}},i.prototype.removeAllEventListeners=function(){this._events=null,this._listenerCount=0},i.prototype.hasListener=function(t){if(this._listenerCount){if(t){var e=this._events?this._events[t]:null;return!!e&&e.length>0}return!0}return!1},i.prototype.getListener=function(t,e){if(t){var n=this._events?this._events[t]:null;if(n)return e||(e=0),n[e]||null}return null},i.prototype.addListener=function(t,e){var n=t?t[e]:null;"function"==typeof n&&this.addEventListener(e,n)},i.prototype._prepareEventArguments=function(t,e){return e},i.prototype._dispatch=function(t,e){var n=this._events?this._events[t]:null;if(n){e=this._prepareEventArguments(t,e);for(var r=n.length,i=0;i<r;++i)n[i](e)}};i.preventDefault=function(t){t&&t.preventDefault&&(t.preventDefault(),t.stopPropagation())};var o=function(t,e,n){this.resolve=this.resolve.bind(this),this.reject=this.reject.bind(this),"function"==typeof t&&(this._resolveHandler=t),"function"==typeof e&&(this._rejectHandler=e),null!=n&&(this._ctx=n),this.promise=new Promise(function(t,e){this._resolve=t,this._reject=e}.bind(this))};o.prototype.promise=null,o.prototype._resolve=null,o.prototype._reject=null,o.prototype._resolveHandler=null,o.prototype._rejectHandler=null,o.prototype._ctx=null,o.prototype._fulfilled=!1,o.prototype.resolve=function(t){if(this._resolve){if(this._resolveHandler){var e=this._resolveHandler(t,this._ctx||this);null!=e&&(t=e)}this._resolve(t),this._finally()}},o.prototype.reject=function(t){if(this._reject){if(this._rejectHandler){var e=this._rejectHandler(t,this._ctx||this);null!=e&&(t=e)}this._reject(t),this._finally()}},o.prototype.isFulfilled=function(){return this._fulfilled},o.prototype._finally=function(){this._fulfilled=!0,this._ctx=this._resolveHandler=this._rejectHandler=null,this._resolve=this._reject=null};var s=function(){};r.inherits(s,i),s.prototype._hosts=null,s.prototype._compositeGrid=null,s.prototype._realTimeGrid=null,s.prototype._rowGetter=null,s.prototype._initializedGrid=!1,s.prototype.listen=s.prototype.addEventListener,s.prototype.unlisten=s.prototype.removeEventListener,s.prototype.afterInit=function(t,e,n){var r=null;n&&n.getCoreGrid&&(r=n.getCoreGrid()),r&&(this.getGridApi()||this.setGridWrapper("compositegrid",n),this._compositeGrid&&r.loadPlugin(this,e)),this._initializedGrid||(this._initializedGrid=!0,this._rowGetter=this._realTimeGrid?a:l,this._afterInit())},s.prototype._afterInit=function(){},s.prototype._dispose=function(){this._hosts&&(this._hosts.length||(this._compositeGrid=this._realTimeGrid=null,this._initializedGrid=!1))},s.prototype.hasMultiTableSupport=function(){return!1},s.prototype._prepareEventArguments=function(t,e){return e||(e={}),e.api=this.getGridApi(),e},s.prototype.getName=function(){return"GridPlugin"},s.prototype.initialize=function(t,e){},s.prototype.unload=function(t){this._dispose()},s.prototype.getRelativeGrid=function(t){var e=null;if(t.target){var n=(e=t.target).api;if(n&&n.getCoreGrid)return n.getCoreGrid()}else t.getElement?e=t.getElement():1===t.nodeType&&(e=t);if(e)for(var r=this._hosts.length;--r>=0;){var i=this._hosts[r];if(i.getElement().contains(e))return i}return null},s.prototype.setGridWrapper=function(t,e){t&&("compositegrid"===(t=t.toLowerCase())?this._compositeGrid=e:"realtimegrid"===t&&(this._realTimeGrid=e))},s.prototype.getGridApi=function(t){if(null==t)return this._compositeGrid||this._realTimeGrid;var e="number"==typeof t?this._hosts[t]:t;return e&&e._wrapper||null},s.prototype.getColumnName=function(t){if(this._compositeGrid){var e=this._compositeGrid.getColumnModel(t);if(e)return e.title?e.title:e.field}else{var n=this.getColumnIndex(t),r=this._realTimeGrid.getColumnDefinition(n);if(r)return r.getName()}return""},s.prototype.getColumnIndex=function(t){if("number"==typeof t)return t;if(this._compositeGrid){var e=this._compositeGrid.getColumnFields().indexOf(t);return e>-1?e:this._compositeGrid.getColumnIndex(t)}return this._realTimeGrid.getColumnIndex(t)},s.prototype.getColumnIndices=function(t){if(this._compositeGrid){for(var e,n=this._compositeGrid.getColumnFields(),r=this._compositeGrid.getColumnCount(),i=[],o=0;o<t.length;o++)if("number"==typeof(e=t[o]))e>=0&&e<r&&i.push(e);else{var s=n.indexOf(e);-1!==s&&i.push(s)}return i}return this._realTimeGrid.getColumnIndices(t)},s.prototype.getColumnId=function(t){if("string"==typeof t)return t;if(this._compositeGrid)return this._compositeGrid.getColumnId(t);var e=this._realTimeGrid.getColumnDefinition(t);return e?e.getId():""},s.prototype.getColumnIds=function(){return this._hosts&&this._hosts.length?this._hosts[0].getColumnIds():[]},s.prototype.getColumnField=function(t){return this._hosts&&this._hosts.length?this._hosts[0].getColumnField(t):""},s.prototype.getColumnFields=function(){return this._hosts&&this._hosts.length?this._hosts[0].getColumnFields():[]},s.prototype.getColumnCount=function(){if(this._hosts){var t=this._hosts[0];return t?t.getColumnCount():0}return 0},s.prototype._moveColumnById=function(t,e){var n=this._hosts,r=n?n.length:0;if(r){for(var i=0,o=0;o<r;++o)i|=n[o].moveColumnById(t,e);return!!i}return!1},s.prototype._reorderColumns=function(t,e){var n=this._hosts,r=n?n.length:0;if(r){for(var i=0,o=0;o<r;++o)i|=n[o].reorderColumns(t,e);return!!i}return!1},s.prototype._loadPlugin=function(t,e,n){return t||(t=e.getPlugin(n))||(t=e.loadPlugin(n))&&this._initializedGrid&&(t._initializedGrid=!0),t},s.prototype._requestPlugin=function(t,e,n){return this._initializedGrid?s.requestPlugin(t,e,n,this._compositeGrid,this._realTimeGrid):Promise.reject("Plugin should be requested after the initialization")},s.requestPlugin=function(t,e,n,r,i){var l=null;if(t){var a=null;1===t.nodeType?a=t.api:t.getCoreGrid?a=t:t.getPlugin&&(l=t),a&&(l=a.getCoreGrid(),r||i||(a.getModel?r=a:i=a))}if(!l)return Promise.reject("Cannot find grid element");var u=l.getPlugin(e);if(u)return Promise.resolve(u);var p=new o;return setTimeout(s._onPluginRequested.bind(null,{grid:l,pluginRef:e,compositeGrid:r,realTimeGrid:i,config:n,deferred:p}),10),p.promise},s._onPluginRequested=function(t){var e=t.grid;if(!e.getElement())return t.deferred.reject("Grid has been disposed before the plugin is fully loaded: "+t.pluginRef);var n=e.getPlugin(t.pluginRef);if(n)return t.deferred.resolve(n);var r=!1;return t.pluginRef.beforeInit&&(r=!0,t.pluginRef.beforeInit(e.getElement(),t.config,!0)),(n=e.loadPlugin(t.pluginRef,t.config))?(!r&&n.beforeInit&&(r=!0,n.beforeInit(e.getElement(),t.config)),n.setGridWrapper&&(t.compositeGrid?n.setGridWrapper("compositegrid",t.compositeGrid):t.realTimeGrid&&n.setGridWrapper("realtimegrid",t.realTimeGrid)),n.afterInit&&n.afterInit(),t.deferred.resolve(n)):t.deferred.reject("Unable to load required dependency: "+t.pluginRef)},s.prototype._getPlugin=function(t,e){return null==e&&(e=this._hosts[0]),e?e.getPlugin(t):null},s.prototype._getColumnData=function(t,e){return null==e&&(e=this._hosts[0]),e?e.getColumnData(t):null},s.prototype._getColumnOption=function(t,e,n){var r=this._getColumnData(t,n);return r?r[e]:null},s.prototype._newColumnData=function(t,e){if(null==e&&(e=this._hosts[0]),!e)return{};var n=e.getColumnData(t);return n||(n=e.setColumnData(t,{})),n},s.prototype._getField=function(t){var e=this._compositeGrid||this._realTimeGrid;return e?e.getColumnField(t):""},s.prototype._getRowData=function(t){return this._realTimeGrid&&t?t.ROW_DEF.getRowData():t},s.prototype._getRow=function(t,e){return u(t.getRowDataAt(e))},s.prototype._getData=function(t,e,n){var r=this._getRow(t,e);return r?r[n]:void 0},s.prototype._setData=function(t,e,n,r){if(this._realTimeGrid){var i=t.getRowDataAt(e);i&&i.ROW_DEF.setData(n,r)}else t.setDataAt(e,n,r)},s.prototype._setRowData=function(t,e,n){if(this._realTimeGrid){var r=t.getRowDataAt(e);r&&r.ROW_DEF.setRowData(n)}else t.setRowDataAt(e,n)},s.prototype._setStaticData=function(t,e,n,r){if(this._realTimeGrid){var i=t.getRowDataAt(e);i&&i.ROW_DEF.setStaticData(n,r)}else t.setDataAt(e,n,r)},s.prototype._setColumnData=function(t,e,n,r){if(r=r||t.getAllRowIds()||[],this._realTimeGrid){for(var i=t.getDataSource(),o=i.freeze(),s=n.length<r.length?n.length:r.length,l=0;l<s;++l){var a=t.getRowData(r[l]);a&&a.ROW_DEF.setData(e,n[l])}i.freeze(o)}else t.setColumnData(e,n,r)},s.prototype._activateColumnRenderer=function(t,e,n){if(null!=t){var r=this._realTimeGrid;r?r.activateColumnRenderer(t,e,n):"function"==typeof n?this._hosts[0].setColumnDataBindingHandler(t,n):this._hosts[0].setColumnDataBindingHandler(t,null)}};var l=function(t){return t},a=function(t){return t?t.ROW_DEF.getRowData():null},u=function(t){if(t){var e=t.ROW_DEF;return e?e.getRowData():t}return null},p={inherits:function(t,e){function n(){}n.prototype=e.prototype,t.prototype=new n,t.prototype.constructor=t,t.base=function(t,n,r){n||(n="constructor");for(var i=arguments.length,o=new Array(i),s=2;s<i;s++)o[s-2]=arguments[s];return e.prototype[n].apply(t,o)}}},d=function(){};d.prototype._events=null,d.prototype._listenerCount=0,d.prototype.addEventListener=function(t,e){if(t&&e){this._events||(this._events={});var n=this._events[t];n?n.indexOf(e)<0&&(n.push(e),++this._listenerCount):(this._events[t]=[e],++this._listenerCount)}},d.prototype.removeEventListener=function(t,e){var n=this._events?this._events[t]:null;if(n){var r=n.indexOf(e);r>=0&&(n.splice(r,1),--this._listenerCount)}},d.prototype.removeAllEventListeners=function(){this._events=null,this._listenerCount=0},d.prototype.hasListener=function(t){if(this._listenerCount){if(t){var e=this._events?this._events[t]:null;return!!e&&e.length>0}return!0}return!1},d.prototype.getListener=function(t,e){if(t){var n=this._events?this._events[t]:null;if(n)return e||(e=0),n[e]||null}return null},d.prototype.addListener=function(t,e){var n=t?t[e]:null;"function"==typeof n&&this.addEventListener(e,n)},d.prototype._prepareEventArguments=function(t,e){return e},d.prototype._dispatch=function(t,e){var n=this._events?this._events[t]:null;if(n){e=this._prepareEventArguments(t,e);for(var r=n.length,i=0;i<r;++i)n[i](e)}};var c=function(t){t&&t.preventDefault&&(t.preventDefault(),t.stopPropagation())};d.preventDefault=c;var h=function(t,e,n){this.resolve=this.resolve.bind(this),this.reject=this.reject.bind(this),"function"==typeof t&&(this._resolveHandler=t),"function"==typeof e&&(this._rejectHandler=e),null!=n&&(this._ctx=n),this.promise=new Promise(function(t,e){this._resolve=t,this._reject=e}.bind(this))};h.prototype.promise=null,h.prototype._resolve=null,h.prototype._reject=null,h.prototype._resolveHandler=null,h.prototype._rejectHandler=null,h.prototype._ctx=null,h.prototype._fulfilled=!1,h.prototype.resolve=function(t){if(this._resolve){if(this._resolveHandler){var e=this._resolveHandler(t,this._ctx||this);null!=e&&(t=e)}this._resolve(t),this._finally()}},h.prototype.reject=function(t){if(this._reject){if(this._rejectHandler){var e=this._rejectHandler(t,this._ctx||this);null!=e&&(t=e)}this._reject(t),this._finally()}},h.prototype.isFulfilled=function(){return this._fulfilled},h.prototype._finally=function(){this._fulfilled=!0,this._ctx=this._resolveHandler=this._rejectHandler=null,this._resolve=this._reject=null};var f=function(){};p.inherits(f,d),f.prototype._hosts=null,f.prototype._compositeGrid=null,f.prototype._realTimeGrid=null,f.prototype._rowGetter=null,f.prototype._initializedGrid=!1,f.prototype.listen=f.prototype.addEventListener,f.prototype.unlisten=f.prototype.removeEventListener,f.prototype.afterInit=function(t,e,n){var r=null;n&&n.getCoreGrid&&(r=n.getCoreGrid()),r&&(this.getGridApi()||this.setGridWrapper("compositegrid",n),this._compositeGrid&&r.loadPlugin(this,e)),this._initializedGrid||(this._initializedGrid=!0,this._rowGetter=this._realTimeGrid?g:_,this._afterInit())},f.prototype._afterInit=function(){},f.prototype._dispose=function(){this._hosts&&(this._hosts.length||(this._compositeGrid=this._realTimeGrid=null,this._initializedGrid=!1))},f.prototype.hasMultiTableSupport=function(){return!1},f.prototype._prepareEventArguments=function(t,e){return e||(e={}),e.api=this.getGridApi(),e},f.prototype.getName=function(){return"GridPlugin"},f.prototype.initialize=function(t,e){},f.prototype.unload=function(t){this._dispose()},f.prototype.getRelativeGrid=function(t){var e=null;if(t.target){var n=(e=t.target).api;if(n&&n.getCoreGrid)return n.getCoreGrid()}else t.getElement?e=t.getElement():1===t.nodeType&&(e=t);if(e)for(var r=this._hosts.length;--r>=0;){var i=this._hosts[r];if(i.getElement().contains(e))return i}return null},f.prototype.setGridWrapper=function(t,e){t&&("compositegrid"===(t=t.toLowerCase())?this._compositeGrid=e:"realtimegrid"===t&&(this._realTimeGrid=e))},f.prototype.getGridApi=function(t){if(null==t)return this._compositeGrid||this._realTimeGrid;var e="number"==typeof t?this._hosts[t]:t;return e&&e._wrapper||null},f.prototype.getColumnName=function(t){if(this._compositeGrid){var e=this._compositeGrid.getColumnModel(t);if(e)return e.title?e.title:e.field}else{var n=this.getColumnIndex(t),r=this._realTimeGrid.getColumnDefinition(n);if(r)return r.getName()}return""},f.prototype.getColumnIndex=function(t){if("number"==typeof t)return t;if(this._compositeGrid){var e=this._compositeGrid.getColumnFields().indexOf(t);return e>-1?e:this._compositeGrid.getColumnIndex(t)}return this._realTimeGrid.getColumnIndex(t)},f.prototype.getColumnIndices=function(t){if(this._compositeGrid){for(var e,n=this._compositeGrid.getColumnFields(),r=this._compositeGrid.getColumnCount(),i=[],o=0;o<t.length;o++)if("number"==typeof(e=t[o]))e>=0&&e<r&&i.push(e);else{var s=n.indexOf(e);-1!==s&&i.push(s)}return i}return this._realTimeGrid.getColumnIndices(t)},f.prototype.getColumnId=function(t){if("string"==typeof t)return t;if(this._compositeGrid)return this._compositeGrid.getColumnId(t);var e=this._realTimeGrid.getColumnDefinition(t);return e?e.getId():""},f.prototype.getColumnIds=function(){return this._hosts&&this._hosts.length?this._hosts[0].getColumnIds():[]},f.prototype.getColumnField=function(t){return this._hosts&&this._hosts.length?this._hosts[0].getColumnField(t):""},f.prototype.getColumnFields=function(){return this._hosts&&this._hosts.length?this._hosts[0].getColumnFields():[]},f.prototype.getColumnCount=function(){if(this._hosts){var t=this._hosts[0];return t?t.getColumnCount():0}return 0},f.prototype._moveColumnById=function(t,e){var n=this._hosts,r=n?n.length:0;if(r){for(var i=0,o=0;o<r;++o)i|=n[o].moveColumnById(t,e);return!!i}return!1},f.prototype._reorderColumns=function(t,e){var n=this._hosts,r=n?n.length:0;if(r){for(var i=0,o=0;o<r;++o)i|=n[o].reorderColumns(t,e);return!!i}return!1},f.prototype._loadPlugin=function(t,e,n){return t||(t=e.getPlugin(n))||(t=e.loadPlugin(n))&&this._initializedGrid&&(t._initializedGrid=!0),t},f.prototype._requestPlugin=function(t,e,n){return this._initializedGrid?f.requestPlugin(t,e,n,this._compositeGrid,this._realTimeGrid):Promise.reject("Plugin should be requested after the initialization")},f.requestPlugin=function(t,e,n,r,i){var o=null;if(t){var s=null;1===t.nodeType?s=t.api:t.getCoreGrid?s=t:t.getPlugin&&(o=t),s&&(o=s.getCoreGrid(),r||i||(s.getModel?r=s:i=s))}if(!o)return Promise.reject("Cannot find grid element");var l=o.getPlugin(e);if(l)return Promise.resolve(l);var a=new h;return setTimeout(f._onPluginRequested.bind(null,{grid:o,pluginRef:e,compositeGrid:r,realTimeGrid:i,config:n,deferred:a}),10),a.promise},f._onPluginRequested=function(t){var e=t.grid;if(!e.getElement())return t.deferred.reject("Grid has been disposed before the plugin is fully loaded: "+t.pluginRef);var n=e.getPlugin(t.pluginRef);if(n)return t.deferred.resolve(n);var r=!1;return t.pluginRef.beforeInit&&(r=!0,t.pluginRef.beforeInit(e.getElement(),t.config,!0)),(n=e.loadPlugin(t.pluginRef,t.config))?(!r&&n.beforeInit&&(r=!0,n.beforeInit(e.getElement(),t.config)),n.setGridWrapper&&(t.compositeGrid?n.setGridWrapper("compositegrid",t.compositeGrid):t.realTimeGrid&&n.setGridWrapper("realtimegrid",t.realTimeGrid)),n.afterInit&&n.afterInit(),t.deferred.resolve(n)):t.deferred.reject("Unable to load required dependency: "+t.pluginRef)},f.prototype._getPlugin=function(t,e){return null==e&&(e=this._hosts[0]),e?e.getPlugin(t):null},f.prototype._getColumnData=function(t,e){return null==e&&(e=this._hosts[0]),e?e.getColumnData(t):null},f.prototype._getColumnOption=function(t,e,n){var r=this._getColumnData(t,n);return r?r[e]:null},f.prototype._newColumnData=function(t,e){if(null==e&&(e=this._hosts[0]),!e)return{};var n=e.getColumnData(t);return n||(n=e.setColumnData(t,{})),n},f.prototype._getField=function(t){var e=this._compositeGrid||this._realTimeGrid;return e?e.getColumnField(t):""},f.prototype._getRowData=function(t){return this._realTimeGrid&&t?t.ROW_DEF.getRowData():t},f.prototype._getRow=function(t,e){return m(t.getRowDataAt(e))},f.prototype._getData=function(t,e,n){var r=this._getRow(t,e);return r?r[n]:void 0},f.prototype._setData=function(t,e,n,r){if(this._realTimeGrid){var i=t.getRowDataAt(e);i&&i.ROW_DEF.setData(n,r)}else t.setDataAt(e,n,r)},f.prototype._setRowData=function(t,e,n){if(this._realTimeGrid){var r=t.getRowDataAt(e);r&&r.ROW_DEF.setRowData(n)}else t.setRowDataAt(e,n)},f.prototype._setStaticData=function(t,e,n,r){if(this._realTimeGrid){var i=t.getRowDataAt(e);i&&i.ROW_DEF.setStaticData(n,r)}else t.setDataAt(e,n,r)},f.prototype._setColumnData=function(t,e,n,r){if(r=r||t.getAllRowIds()||[],this._realTimeGrid){for(var i=t.getDataSource(),o=i.freeze(),s=n.length<r.length?n.length:r.length,l=0;l<s;++l){var a=t.getRowData(r[l]);a&&a.ROW_DEF.setData(e,n[l])}i.freeze(o)}else t.setColumnData(e,n,r)},f.prototype._activateColumnRenderer=function(t,e,n){if(null!=t){var r=this._realTimeGrid;r?r.activateColumnRenderer(t,e,n):"function"==typeof n?this._hosts[0].setColumnDataBindingHandler(t,n):this._hosts[0].setColumnDataBindingHandler(t,null)}};var _=function(t){return t},g=function(t){return t?t.ROW_DEF.getRowData():null},m=function(t){if(t){var e=t.ROW_DEF;return e?e.getRowData():t}return null},v=function(t,e,n){this._onConflated=this._onConflated.bind(this),this._data=[],"function"==typeof t?this.setFunction(t,n):"function"==typeof e&&this.setFunction(e,n),"number"==typeof e?this.setConflatingTime(e):"number"==typeof t&&this.setConflatingTime(t)};v.prototype._data,v.prototype._func=null,v.prototype._delay=0,v.prototype._timerId=0,v.prototype._conflated=!1,v.prototype._disabled=!1,v.prototype.reset=function(){return this._timerId&&(clearTimeout(this._timerId),this._timerId=0),this.popAllData()},v.prototype.popAllData=function(){if(this._data.length){var t=this._data;return this._data=[],t}return null},v.prototype.dispose=function(){this._timerId&&(clearTimeout(this._timerId),this._timerId=0),this._data.length&&(this._data.length=0),this._func=null},v.prototype.conflate=function(t){return!this._disabled&&(null!=t&&this._data.push(t),!this._conflated&&(this._timerId||(this._timerId=setTimeout(this._onConflated,this._delay)),!0))},v.prototype.isConflating=function(){return this._timerId>0&&!this._conflated&&!this._disabled},v.prototype._onConflated=function(){this._conflated=!0;try{this._func()}catch(t){console.error(t.message||t)}this._timerId=0,this._data.length=0,this._conflated=!1},v.prototype.getData=function(){return this._data},v.prototype.setFunction=function(t,e){this._func=t,this._func=t?e?t.bind(e):t:null},v.prototype.setConflatingTime=function(t){this._delay=t||0,this._delay<0&&(this._delay=0)},v.prototype.getConflatingTime=function(){return this._delay},v.prototype.disable=function(t){this._disabled=!1!==t},v.prototype.isEnabled=function(){return!this._disabled},v.prototype.enable=function(t){this._disabled=!1===t};var y={create:function(t,e){var n=document.createElement("coral-icon");return e&&(n.className=e),t&&n.setAttribute("icon",t),n},box:function(t,e,n){var r=null;return n&&("string"==typeof n?r=document.createElement(n):1===n.nodeType&&(r=n)),r||(r=document.createElement("div")),e&&(r.className=e),r.appendChild(y.create(t)),r},change:function(t,e){t.getAttribute("icon")!==e&&t.setAttribute("icon",e)}},C=n(0),b={},k=function(t,e){"attributes"==e.type&&"lang"==e.attributeName&&(t.lang=e.target.lang||"en")},I=function(t,e,n){"attributes"===n.type&&(null!=e?n.attributeName===e&&t(n.target.getAttribute(e)):t(n.target))};b._getNewId=function(){return"observer_"+ ++b._id},b._addObserver=function(t,e,n){var r=n;r||(r={}),r.attributes=!0,b._observer.observe(t,r),b._addListener(t,e)},b._onMutationCallback=function(t){for(var e=0;e<t.length;e++)for(var n=t[e],r=b._listeners[n.target._observeId],i=0;i<r.length;i++)r[i](n)},b._addListener=function(t,e){var n=b._listeners;if(n||(n=b._listeners={}),!t._observeId){var r=b._getNewId();t._observeId=r}n[t._observeId]||(n[t._observeId]=[]);var i=n[t._observeId];i.indexOf(e)<0&&i.push(e)},b.addLanguageListener=function(t){t&&(t.lang=document.documentElement.lang||"en",b._addObserver(document.documentElement,k.bind(null,t)))},b.addAttributeListener=function(t,e,n){t&&e&&b._addObserver(t,I.bind(null,e,n))},b._observer=new MutationObserver(b._onMutationCallback),b._listeners={},b._id=0;var G={en:!0,de:!0,ja:!0,zh:!0,"zh-Hant":!0},S={_deferred:null,themeReady:null,_defaultColors:{up:"#39C46E",down:"#F5475B",level:"#C2C2C2",tickUp:"#39C46E",tickDown:"#F5475B",baseGrid:"#1A1A1C",baseText:"#C2C2C2",trackColor:"#FF9933"}};S.themeColors=S._defaultColors,S._components={},S._themeName="",S._elfVersion=0,S._dummyIcon=null,S._iconLoaded=!1,S._profileName=null,S._callbacks=[],S._observed=!1,S._pendingResolve=!1,S._themeLoaded=!1,S._icons={"elf-theme-halo":{rowGrouping:{expander:"down"},sorting:{ascending:"hollow-arrow-up",descending:"hollow-arrow-down",sortable:"sort-up-down"},columnStack:{stack:"map-layers",expand:"right",collapse:"left"}},"elf-theme-solar":{columnStack:{stack:"list",expand:"right",collapse:"left"}}},S._icons["halo-theme"]=S._icons["elf-theme-halo"],S._icons["solar-theme"]=S._icons["elf-theme-solar"],S.getElfVersion=function(){if(!S._elfVersion){var t=0;if(window.EFX_GRID){var e=window.EFX_GRID.version;t=+(e=e.split("."))[0]}else if(window.elf)if(window.elf.version){var n=window.elf.version.match(/\d/);n&&n[0]&&(t=parseInt(n[0],10))}else window.elf.customElements?t=3:window.customElements&&(t=4);else window.Polymer&&(t=1);S._elfVersion=t}return S._elfVersion},S.hasComponent=function(t){var e=S._components[t];if(null==e){e=0;var n=S.getElfVersion();if(t)1===n?document.createElement(t).is===t&&(e=n):n>1&&(window.customElements&&window.customElements.get(t)||document.createElement(t).constructor!==HTMLElement)&&(e=n),S._components[t]=e}return e},S.toLangString=function(t){if(!t)return"";if("zh-hant"===(t=t.toLowerCase()))return"zh-Hant";var e=t.replace(/-.*/,"");return G[e]?e:""},S.hasTheme=function(t){return t===S.getThemeName()},S.getThemeName=function(t){return S._themeName||(S._themeName=S.getCssVariable("--theme-name",document.documentElement)),S._themeName},S.setThemeName=function(t){S._themeName=t},S.isThemeLoaded=function(){return S._themeLoaded},S.getColors=function(){return S.themeColors},S.isHaloTheme=function(t){return null==t&&(t=S.getThemeName()),!!t&&t.indexOf("halo")>=0},S.injectIcons=function(t,e){if("object"==typeof t){var n=S.getThemeName();t.themeName=n;var r=S.getElfVersion();t.elfVersion=r;var i=S._icons[n];i&&(t.icons=i)}},S.getIconList=function(){var t=S._icons[S.getThemeName()];return t?Object(C.c)(t):[]},S._onIconPreloaded=function(){if(S._dummyIcon){var t=S._dummyIcon.parentNode;t&&t.removeChild(S._dummyIcon),S._dummyIcon=null}},S.prepareIconPreloading=function(){if(!S._iconLoaded){S._iconLoaded=!0;var t=S.getIconList();if(t.length){setTimeout(S._onIconPreloaded,10);var e=S._dummyIcon=document.createElement("coral-icon");return e.style.transform="scale(0)",document.body.appendChild(e),t}}return null},S.getCssVariable=function(t,e){var n="",r=e||document.body;return window&&"string"==typeof t&&1===r.nodeType&&t.match(/^--/)&&(n=(n=window.getComputedStyle(r).getPropertyValue(t)).replace(/[\"\']/g,"")),n},S.getCssVariables=function(t,e){var n=e||document.body;if(window&&1===n.nodeType){var r=window.getComputedStyle(n);for(var i in t){var o=t[i];o&&o.match(/^--/)&&(t[i]=r.getPropertyValue(o).replace(/\"/g,""))}}return t||null},S.setRTK=function(t){null!=t&&(S._rtk=t)},S.getMovementColorProfile=function(){return document.documentElement.getAttribute("movement-color-profile")},S._addThemeChangedCallback=function(t){var e=S._callbacks;e.indexOf(t)<0&&e.push(t)},S.reloadThemeColors=function(){return S._deferred&&S._deferred.isFulfilled()?(S._profileName="",S._themeLoaded=!1,S.themeReady=null,S.getThemeColors()):S.themeReady},S.getThemeColors=function(t){if("function"==typeof t&&S._addThemeChangedCallback(t),S.themeReady)return S.themeReady;var e=S._deferred=new h;S.themeReady=e.promise;var n=S.getMovementColorProfile();if(n)n!==S._profileName?setTimeout(S._profileNameRetrieved,100):S._deferred.resolve(S.themeColors);else{var r={providerName:"Configuration",settingName:"RDE_USER_CURRENT_TICK_COLOR"},i=window?window.JET:null;if(S._themeLoaded=!1,S._rtk&&S._rtk.Settings)S._rtk.Settings.getAsync(r).then(S._loadingProfileSuccess).catch(S._loadingProfileFailure);else if(i&&i.Settings)try{i.Settings.read(S._loadingProfileSuccess,r)}catch(t){S._loadingProfileFailure()}else setTimeout(S._profileNameRetrieved,100)}return e.promise};var T=function(t){if(t!==S._profileName){S._retrieveThemeColors(t),S._pendingResolve&&(S._pendingResolve=!1,S._deferred.resolve(S.themeColors));for(var e=S._callbacks,n=0;n<e.length;n++)e[n]()}};S._loadingProfileSuccess=function(t){t&&document.documentElement.setAttribute("movement-color-profile",t.toLowerCase()),S._observed?S._pendingResolve=!0:S._profileNameRetrieved(t)},S._loadingProfileFailure=function(){S._retrieveThemeColors(),S._observed||(S._observed=!0,b.addAttributeListener(document.documentElement,T,"movement-color-profile")),S._deferred.reject("Failed to get movement color profile from settings.")},S._profileNameRetrieved=function(){var t=S.getMovementColorProfile();S._retrieveThemeColors(t),S._observed||(S._observed=!0,b.addAttributeListener(document.documentElement,T,"movement-color-profile")),S._deferred.resolve(S.themeColors)},S._retrieveThemeColors=function(t){S._themeLoaded=!0,S._profileName=t;var e=S.themeColors=S.getCssVariables({primary:"--color-scheme-primary",secondary:"--color-scheme-secondary",tertiary:"--color-scheme-tertiary",complementary:"--color-scheme-complementary",up:"--color-scheme-positive",down:"--color-scheme-negative",level:"--color-scheme-neutral",tickUp:"--color-scheme-tickup",tickDown:"--color-scheme-tickdown"});e.up||(e.up=S._defaultColors.up,e.down=S._defaultColors.down,e.level=S._defaultColors.level,e.tickUp=S._defaultColors.tickUp,e.tickDown=S._defaultColors.tickDown),e.positive=e.up,e.negative=e.down,e.neutral=e.level;var n=document.createElement("table");n.style.visibility="hidden",n.style.position="fixed",n.style.left="0",n.style.top="0",n.style.width="0";var r=n.insertRow(-1),i=r.insertCell(-1);document.body.appendChild(n);var o=window.getComputedStyle(r);e.tableBg=o.backgroundColor;var s=window.getComputedStyle(i);e.tableText=s.color,e.tableBorder=s.borderColor,e.tableText===e.tableBorder&&(i.className="tr-lg",s=window.getComputedStyle(i),e.tableBg=s.backgroundColor,e.tableText=s.color,e.tableBorder=s.borderColor,e.tableText===e.tableBorder&&(e.tableBg=S._defaultColors.baseGrid,e.tableText=S._defaultColors.baseText,e.tableBorder="")),e.tableBg=Object(C.e)(e.tableBg),e.tableText=Object(C.e)(e.tableText),e.tableBorder=Object(C.e)(e.tableBorder),document.body.removeChild(n),e.baseGrid=e.tableBg,e.baseText=e.tableText,e.trackColor=e.primary||S._defaultColors.trackColor};var x=function(){this._groupMap={},this._childToParent={}};x.prototype._groupMap,x.prototype._childToParent,x.getGroupId=function(t){return t&&t.id||""},x.calcTreeDepth=function(t,e){for(var n=-1,r=e;r;){if(++n>15){console.log("WARNING: Infinite loop detected during column group creation");break}r=t[r.parentId]}return n},x.getLeafDescendants=function(t,e){var n=t[e];if(!n)return null;for(var r=[],i=[n],o=0,s={};o<i.length;){s[(n=i[o++]).id]=!0;for(var l=n.children,a=l.length,u=0;u<a;++u){var p=l[u];(n=t[p])?s[n.id]||i.push(n):r.push(p)}}return r},x._cloneObject=function(t){var e=Object(C.a)(t);return Array.isArray(e.children)?e.children=e.children:e.children=[],e},x._cloneGroupMap=function(t){var e={};for(var n in t){var r=t[n],i=x._cloneObject(r);i.children=r.children.slice(),e[n]=i}return e},x._toGroupDefinition=function(t,e){var n=null;return t&&(n=Array.isArray(t)?{children:t}:x._cloneObject(t),e&&(n.id||(n.name=e),n.id=e)),n},x.prototype.toString=function(){var t=this._groupMap,e=[];for(var n in e.push("=== groupDefs ==="),t){var r=t[n];e.push(n+": "+JSON.stringify(r,["id","parentId","children"]))}return e.push("=== childToParent ==="),e.push(JSON.stringify(this._childToParent,null,2)),e.push(""),e.join("\n")},x.prototype.getGroup=function(t){return t&&this._groupMap[t]||null},x.prototype.getDefinition=x.prototype.getGroup,x.prototype.getGroups=function(){var t=[],e=this._groupMap;for(var n in e)t.push(e[n]);return t},x.prototype.getGroupIds=function(){return Object.keys(this._groupMap)},x.prototype.getGroupMap=function(){return this._groupMap},x.prototype.cloneGroupMap=function(){return x._cloneGroupMap(this._groupMap)},x.prototype.getGroupChildren=function(t){var e=this._groupMap[t];return e?e.children:null},x.prototype.getLeafDescendants=function(t){return x.getLeafDescendants(this._groupMap,t)},x.prototype.getGroupLevel=function(t){return x.calcTreeDepth(this._groupMap,this._groupMap[t])},x.prototype.getRootGroup=function(t){if(!t)return null;var e=this._groupMap,n=e[t]||null;if(n)for(;n.parentId;){var r=e[n.parentId];if(!r)break;n=r}return n},x.prototype.getParentGroup=function(t){return this.getGroup(this._childToParent[t])},x.prototype.getParentIds=function(t){if(t&&"string"==typeof t){var e=this._childToParent[t];if(e){for(var n=[e],r=this._groupMap[e];r&&r.parentId;)(r=this._groupMap[r.parentId])&&n.push(r.id);return n}}return null},x.prototype.getParentId=function(t,e){var n=this._childToParent[t];if(null!=e)for(var r=this.getGroupLevel(n);r>e&&n;)n=this._childToParent[n],r--;return n||""},x.prototype.removeAllGroups=function(){for(var t in this._groupMap)return this._groupMap={},this._childToParent={},!0;return!1},x.prototype.setGroups=function(t){var e,n=this._groupMap={},r=this._childToParent={},i=t?t.length:0,o="";for(e=0;e<i;e++){var s=t[e];(o=s.id)&&(n[o]=s)}var l=Object.keys(n);for(i=l.length,e=0;e<i;++e)for(var a=n[o=l[e]].children,u=a.length,p=0;p<u;p++)r[a[p]]=o;for(e=0;e<i;++e){var d=r[o=l[e]];d&&(n[o].parentId=d)}},x.prototype.addGroup=function(t){var e=x.getGroupId(t);return e?this.setGroup(e,t):e},x.prototype.removeGroup=function(t){return!!this._groupMap[t]&&(this.removeAllChildren(t),this.unsetParent(t),delete this._groupMap[t],!0)},x.prototype.setGroup=function(t,e){if(!t)return"";if(e){var n=x._toGroupDefinition(e,t);this._ungroupChildren(n.children),this._groupMap[t]&&this.removeAllChildren(t);var r=this._childToParent[t];r&&(n.parentId=r.id),this._groupMap[t]=n;for(var i=n.children,o=i.length,s=0;s<o;++s){var l=i[s];this._childToParent[l]=t;var a=this._groupMap[l];a&&(a.parentId=t)}}else if(!this.removeGroup(t))return"";return t},x.prototype._ungroupChildren=function(t){if(Array.isArray(t))for(var e=t.length,n=0;n<e;++n)this.unsetParent(t[n])},x.prototype.hasGroupChild=function(t,e){var n=this._groupMap[t];if(e&&n){var r=n.children;if(r)return r.indexOf(e)>=0}return!1},x.prototype.addGroupChild=function(t,e,n){var r=this._groupMap[t];if(e&&r){var i=r.children;if(i&&i.indexOf(e)<0){this.unsetParent(e),this._childToParent[e]=t;var o=this._groupMap[e];return o&&(o.parentId=t),null!=n&&n>=0?i.splice(n,0,e):i.push(e),!0}}return!1},x.prototype.removeGroupChild=function(t,e){return null==e?this.unsetParent(t):!!this.hasGroupChild(t,e)&&this.unsetParent(e)},x.prototype.unsetParent=function(t){var e=this._childToParent[t];if(!e)return!1;this._childToParent[t]="";var n=this._groupMap[t];n&&(n.parentId="");var r=this._groupMap[e];if(r){var i=r.children;if(i.length){var o=i.indexOf(t);o>=0&&i.splice(o,1)}}return!0},x.prototype.removeAllChildren=function(t){var e=this._groupMap[t];if(e){var n=e.children,r=n.length;if(r){e.children=[];for(var i=0;i<r;++i){var o=n[i];this._childToParent[o]&&(this._childToParent[o]="");var s=this._groupMap[o];s&&(s.parentId="")}return!0}}return!1},x.prototype.setGroupChildren=function(t,e){var n=this._groupMap[t];if(n){if(Array.isArray(e)){var r=e.slice();this._ungroupChildren(r),this.removeAllChildren(t),n.children=r;for(var i=n.id,o=r.length,s=0;s<o;++s){var l=r[s];this._childToParent[l]=i;var a=this._groupMap[l];a&&(a.parentId=i)}return!0}if(!e&&n.children.length)return this.removeAllChildren(t),!0}return!1},x.prototype.getGroupName=function(t){var e=this._groupMap[t];return e&&e.name||""},x.prototype.setGroupName=function(t,e){var n=this._groupMap[t];return!(!n||n.name===e)&&(n.name=e,!0)};var w={create:function(t,e){var n=document.createElement(t);return e&&(n.className=e),n},div:function(t){return w.create("div",t)},text:function(t,e){var n=w.create("span",e);return(t||0===t)&&(n.textContent=t),n},appendChild:function(t,e){if(!t)return null;var n,r;Array.isArray(arguments[1])?(r=arguments[1],n=0):(r=arguments,n=1);for(var i=r.length;n<i;)t.appendChild(r[n]),++n;return t},buildTree:function(t,e){if(!t)return null;for(var n=arguments,r=n.length,i=1;i<r;++i){var o,s=n[i];if(s)Array.isArray(s)?o=w.buildTree.apply(null,s):1===s.nodeType&&(o=s),o&&t.appendChild(o)}return t},removeParent:function(t){if(!t)return null;var e=t.parentNode;return e&&e.removeChild(t),e},setParent:function(t,e){return t?e?(e.appendChild(t),e):w.removeParent(t):null},removeChildren:function(t,e){if(t){var n=t.childNodes.length;for((null==e||e>n)&&(e=n);--e>=0;)t.removeChild(t.lastChild)}},setContent:function(t,e){if(t)if(e||0===e){var n=e.nodeType;1===n||3===n?e!==t.lastChild&&(w.removeChildren(t),t.appendChild(e)):Array.isArray(e)?(w.removeChildren(t),w.appendChild(t,e)):t.textContent=e}else w.removeChildren(t)},toggleAttribute:function(t,e,n){n?t.setAttribute(e,"string"==typeof n?n:""):null==n?t.hasAttribute(e)?t.removeAttribute(e):t.setAttribute(e,""):t.removeAttribute(e)},toggleClass:function(t,e,n){n?t.classList.add(e):null==n?t.classList.contains(e)?t.classList.remove(e):t.classList.add(e):t.classList.remove(e)},addClasses:function(t,e){if(t)for(var n=Array.isArray(e)?e:arguments,r=n.length,i=0;i<r;++i){var o=n[i];o&&"string"==typeof o&&t.classList.add(o)}},removeClasses:function(t,e){if(t)for(var n=Array.isArray(e)?e:arguments,r=n.length,i=0;i<r;++i){var o=n[i];o&&"string"==typeof o&&t.classList.remove(o)}},preventDefault:function(t){t.preventDefault(),t.stopPropagation()},stopPropagation:function(t){t.stopPropagation()},getClientPosition:function(t,e){var n=e||{x:0,y:0};if(t.getBoundingClientRect){var r=t.getBoundingClientRect();n.x=r.left,n.y=r.top}else n.x=t.clientX,n.y=t.clientY;return n},getRelativePosition:function(t,e,n){n=w.getClientPosition(t,n);var r=w.getClientPosition(e);return n.x-=r.x,n.y-=r.y,n},closestElement:function(t,e){for(var n=t;n;){if(n.classList&&n.classList.contains(e))return n;n=n.parentNode||n.host}return null},closestTagName:function(t,e){for(var n=t;n;){if(n.tagName&&n.tagName==e)return n;n=n.parentNode||n.host}return null}},A=function(t,e){var n=t[0],r=e[0],i=null==r||r<0;return null==n||n<0?i?0:1:i||n<r?-1:r<n?1:0},D=function(t){if(t){var e=t.children;if(e&&e.length){var n=t.activeColumn;if(!n||e.indexOf(n)<0)return t.activeColumn=t.spreading?e[e.length-1]:e[0],!0}}return!1},P=function(){this._onPreSectionRender=this._onPreSectionRender.bind(this),this._onColumnRemoved=this._onColumnRemoved.bind(this),this._onColumnMoved=this._onColumnMoved.bind(this),this._onColumnAdded=this._onColumnAdded.bind(this),this._onBeforeBatchOperation=this._onBeforeBatchOperation.bind(this),this._onAfterBatchOperation=this._onAfterBatchOperation.bind(this),this._onStackButtonClicked=this._onStackButtonClicked.bind(this),this._updateUI=this._updateUI.bind(this),this._requestStackingByFields=this._requestStackingByFields.bind(this),this._toIdOrField=this._toIdOrField.bind(this),this._hosts=[],this._groupDefs=new x,this._conflator=new v(50,this._updateUI),this._stackConflator=new v(100,this._requestStackingByFields)};p.inherits(P,f),P.prototype._groupDefs,P.prototype._pendingStacks,P.prototype._idToFields=null,P.prototype._updating=!1,P.prototype._autoStacking=!1,P.prototype._inReordering=!1,P.prototype._inResetting=!1,P._runningId=0,P.prototype._generateStackId=function(){for(var t="Stack"+P._runningId++;this._groupDefs.getGroup(t);)t="Stack"+P._runningId++;return t},P.prototype.getName=function(){return"ColumnStackPlugin"},P.prototype.hasMultiTableSupport=function(){return!0},P.prototype.initialize=function(t,e){if(!(this._hosts.indexOf(t)>=0)){if(this._hosts.push(t),e&&e.icons){var n=e.icons.columnStack;n&&(this._stackIconName=n.stack,this._expandIconName=n.expand,this._collapseIconName=n.collapse)}P._applyThemeColor(t),1===this._hosts.length&&(this.config(e),t.listen("columnRemoved",this._onColumnRemoved),t.listen("columnMoved",this._onColumnMoved),t.listen("columnAdded",this._onColumnAdded),t.listen("beforeBatchOperation",this._onBeforeBatchOperation),t.listen("afterBatchOperation",this._onAfterBatchOperation)),t.listen("preSectionRender",this._onPreSectionRender)}},P.prototype.unload=function(t){var e=this._hosts.indexOf(t);e<0||(this._hosts.splice(e,1),t.unlisten("columnRemoved",this._onColumnRemoved),t.unlisten("columnMoved",this._onColumnMoved),t.unlisten("columnAdded",this._onColumnAdded),t.unlisten("beforeBatchOperation",this._onBeforeBatchOperation),t.unlisten("afterBatchOperation",this._onAfterBatchOperation),t.unlisten("preSectionRender",this._onPreSectionRender),this._hosts.length<=0&&(this._conflator.reset(),this._stackConflator.reset(),this._groupDefs.removeAllGroups()),this._dispose())},P._styles=Object(C.d)([".tr-grid .collapsed .cell.grouping .valigner",["width: 0;"],".tr-grid .collapsed .cell.grouping .floating-panel",["width: 100%;","margin: 0;","justify-content: center;"],".tr-grid .collapsed .cell.grouping .front-panel, .tr-grid .collapsed .cell.grouping .floating-panel *:not(.stack-icon)",["display: none;"],".tr-grid .collapsed .cell.grouping .floating-panel .stack-icon",["margin-left: 0;"],".stack-icon",["color: var(--grid-title-filter-icon-color);"],".stack-icon:hover",["color: var(--grid-title-filter-icon-hover-color);"]]),P._applyThemeColor=function(t){t._columnStackingStyles||(t._columnStackingStyles=!0,Object(C.b)(P._styles,t.getElement()))},P.prototype.config=function(t){if(t){var e,n=t.columns;n||(n=[]);var r=n.length,i=t.columnStack,o="",s={},l=!1,a=null;if(i)if(this.addListener(i,"clicked"),null!=i.autoStacking&&(this._autoStacking=i.autoStacking),i.fields&&i.fields.length>1)l=!0,o=this._generateStackId(),this._idToFields||(this._idToFields={}),this._idToFields[o]=i.fields,s[o]={id:o,spreading:!0===i.spreading,collapsed:!1!==i.collapsed,children:i.fields};else if(i.stacks&&i.stacks.length){l=!0;var u=i.stacks.length;for(e=0;e<u;e++)o=(a=i.stacks[e]).id||this._generateStackId(),null==a.collapsed&&(a.collapsed=!0),null==a.spreading&&(a.spreading=!1),s[o]=a}if(!l)for(e=0;e<r;++e){var p=n[e],d=p.stackId||p.stack;if(d){o="";var c=!1,h=!0,f="";"string"==typeof d?o=d:"object"==typeof d&&(o=(a=d).id||"",c=!0===a.spreading,h=!1!==a.collapsed,f=a.activeColumn||""),o&&((d=s[o])||(d=s[o]={id:o,spreading:c,collapsed:h},f&&(d.activeColumn=f),l=!0),d.children||(d.children=[]),d.children.push(e))}}this._initializedGrid?this._applyUserConfigs(l?s:null):this._pendingStacks=this._pendingStacks||s}},P.prototype.getConfigObject=function(t){var e=t||{},n=this._host||this._hosts[0],r=e.columns,i=this._groupDefs.getGroupMap(),o=[];for(var s in i){var l=i[s],a=this.getColumnIndex(l.activeColumn);if(r&&r.length)for(var u=this.getStackMemberIndices(l.id),p=0;p<u.length;p++){var d=u[p],c=r[d];c&&n.isColumnVisible(d)&&(c.hidden=d!==a)}var h={id:l.id},f=l.name,_=l.collapsed,g=l.spreading;if(f&&(h.name=f),!0!==_&&(h.collapsed=_),!1!==g&&(h.spreading=g),this._autoStacking){var m=this._idToFields[l.id],v=this._getField(a);h.fields=m,h.activeColumn=v}else h.children=this.getStackMemberIds(l.id),l.activeColumn&&(h.activeColumn=l.activeColumn);o.push(h)}return e.columnStack={},e.columnStack.stacks=o,e.columnStack.autoStacking=this._autoStacking,e},P.prototype._afterInit=function(){this._pendingStacks&&(this._applyUserConfigs(this._pendingStacks),this._pendingStacks=null)},P.prototype._toIdOrField=function(t){return"string"!=typeof t?"number"==typeof t?this.getColumnId(t):"":t||""},P.prototype._transformStackConfig=function(t){var e=t.children,n=e?e.length:0;if(n)for(var r=0;r<n;r++){var i=this._toIdOrField(e[r]);i&&(e[r]=i)}else t.fields?t.children=t.fields:t.children||(t.children=[]);if(!this._autoStacking){var o=this._toIdOrField(t.activeColumn);o&&(t.activeColumn=o)}},P.prototype._applyUserConfigs=function(t){if(t)for(var e in this.removeAllStacks(!1),t){var n=t[e];this._transformStackConfig(n),this.stackColumns(n.children,e,n)}else this.removeAllStacks()},P.prototype._getColumnStackOptions=function(t){if(t>=0){var e=this.getColumnId(t),n=this._groupDefs.getParentGroup(e);if(n)return n;var r=this._getField(t);if(n=this._groupDefs.getParentGroup(r))return n}return null},P.prototype._getSelectedColumns=function(){var t=this._getPlugin("ColumnSelectionPlugin");return t&&t.isEnabled()?t.getSelectedColumns():[]},P.prototype._setColumnVisibility=function(t,e){if(t>=0)for(var n=this._hosts.length;--n>=0;)this._hosts[n].setColumnVisibility(t,e,2)},P.prototype._moveStackedColumns=function(t){var e=this.getColumnIndices(t);e.length>1&&this.reorderColumns(e,e[0])},P.prototype._getColumnCount=function(){var t=this._host||this._hosts[0];return t?t.getColumnCount():0},P.prototype._isIconAvailable=function(){return S.hasComponent("coral-icon")&&(S.hasTheme("elf-theme-solar")||S.hasTheme("elf-theme-luna"))},P.prototype._updateIcon=function(t,e){for(var n=!!e&&e.spreading,r=this._hosts.length,i=0;i<r;++i){var o=this._hosts[i],s=o.getSection("title"),l=s.getRowCount(),a=s.getCell(t,l-1,!0);if(a){var u=a._stackIcon;if(e){var p=this.isActiveStackedColumn(t);!u&&p?(n?(a.addClass("grouping"),u=this._expandIconName?e.collapsed?y.create(this._expandIconName):y.create(this._collapseIconName):e.collapsed?w.text(">"):w.text("<")):(a.addClass("stacking"),this._stackIconName?u=y.create(this._stackIconName):(u=w.text("â‰¡")).style.fontSize="1.3em"),u.className="stack-icon",u.addEventListener("click",this._onStackButtonClicked,!1),u.addEventListener("dblclick",c,!1),u.addEventListener("mousedown",c,!1),u.addEventListener("keydown",c,!1),a.insertFloatingIcon(u,20),a._stackIcon=u,this._dispatch("iconCreated",{icon:u,colIndex:t,grid:o,cell:a})):u&&!p&&(a.removeFloatingIcon(a._stackIcon),a._stackIcon=null)}else u&&(a.removeFloatingIcon(a._stackIcon),a._stackIcon=null,a.removeClass("grouping"),a.removeClass("stacking"))}}},P.prototype._updateUI=function(){if(!this._updating&&!this._conflator.conflate()){this._updating=!0;for(var t,e,n=this._getColumnCount(),r=this._hosts.length,i=0;i<n;++i){e=!0===(e=!!(t=this._getColumnStackOptions(i))&&t.spreading);for(var o=0;o<r;++o){this._hosts[o].enableColumnClass(i,"grouped",e)}this._updateIcon(i,t),t&&(t.spreading?this._collapseMember(i,t.collapsed):this._setColumnVisibility(i,this._isActiveStackedColumn(i,t)))}this._updating=!1}},P.prototype._collapseMember=function(t,e){var n=this._getColumnStackOptions(t);if(n)for(var r=this._hosts.length;--r>=0;){var i=this._hosts[r];if(i.enableColumnClass(t,"collapsed",e),this.isActiveStackedColumn(t)){i.setColumnVisibility(t,!0,2);var o=i.getSection("title"),s=o.getRowCount(),l=o.getCell(t,s-1,!0);e?(n.collapsed===e&&n._origWidth||(n._origWidth=this._getColumnWidth(i,t),n._scalable=i.getColumnScalability(t)),i.setColumnWidth(t,o.getRowHeight(0),!1),l._stackIcon&&(this._expandIconName?l._stackIcon.setAttribute("icon","right"):l._stackIcon.textContent=">")):(null!=n._origWidth&&i.setColumnWidth(t,n._origWidth,n._scalable),l._stackIcon&&(this._collapseIconName?l._stackIcon.setAttribute("icon","left"):l._stackIcon.textContent="<"))}else i.setColumnVisibility(t,!e,2)}},P.prototype._getColumnWidth=function(t,e){if(t){var n=t.getMinimumColumnWidth(e),r=t.getColumnCustomLaneSize(e);return r<n?n:r}return NaN},P.prototype.getMemberIndices=function(t){var e=this._getColumnStackOptions(t);return e?this.getColumnIndices(e.children):null},P.prototype.collapseGroup=function(t,e){var n=this._getColumnStackOptions(t);if(!n)return null;if(!n.spreading)return null;if(e=!1!==e,n.collapsed!==e){var r=this.getColumnIndices(n.children);if(r){for(var i=r.length;--i>=0;)this._collapseMember(r[i],e);return n.collapsed=e,r}}return null},P.prototype.expandGroup=function(t){return this.collapseGroup(t,!1)},P.prototype.isColumnStackable=function(t){if(!t)return!1;for(var e=t.length,n=0;n<e;++n)if(this._getColumnStackOptions(t[n]))return!1;return!0},P.prototype.isColumnStacked=function(t){t||(t=this._getSelectedColumns());for(var e=t.length,n=0;n<e;++n)if(this._getColumnStackOptions(t[n]))return!0;return!1},P.prototype.isInactiveStackedColumn=function(t){var e=this._getColumnStackOptions(t);return!!e&&!this._isActiveStackedColumn(t,e)},P.prototype.isActiveStackedColumn=function(t){return this._isActiveStackedColumn(t,this._getColumnStackOptions(t))},P.prototype._isActiveStackedColumn=function(t,e){return!!e&&(D(e),t===this.getColumnIndex(e.activeColumn))},P.prototype.isStackingMode=function(t){var e=this._getColumnStackOptions(t);return!!e&&!0!==e.spreading},P.prototype.isCollapsingMode=function(t){var e=this._getColumnStackOptions(t);return!!e&&!0===e.spreading},P.prototype.isColumnInCollection=function(t){return!!this._getColumnStackOptions(t)},P.prototype.isInCollection=P.prototype.isColumnInCollection,P.prototype.isColumnCollapsed=function(t){var e=this._getColumnStackOptions(t);return!!e&&(!0===e.spreading&&!0===e.collapsed)},P.prototype.isColumnActive=function(t){var e=this._getColumnStackOptions(t);return!!e&&(e.spreading?!e.collapsed:t===this.getColumnIndex(e.activeColumn))},P.prototype.getStackId=function(t){var e=this._getColumnStackOptions(t);return e?e.id:""},P.prototype.stackColumns=function(t,e,n){var r,i;if(n=n||{},e){if(this._groupDefs.getGroup(e))return!1;i=e}else i=e=this._generateStackId();if(t||(t=this._getSelectedColumns()),(t?t.length:0)<2)return!1;var o=!0===n.spreading,s=!1!==n.collapsed,l=n.activeColumn||"",a={};if(a.id=i,a.name=n.name||"",a.spreading=o,a.collapsed=s,a.activeColumn=l,!this._initializedGrid){var u=this._pendingStacks;return u||(u=this._pendingStacks={}),a.children=t,u[i]=a,!1}var p=t.map(this._toIdOrField),d=this.getColumnIndices(t),c=d.length;if(this._autoStacking&&(this._idToFields||(this._idToFields={}),this._idToFields[i]=p),!this.isColumnStackable(d))return!1;a.children=p,D(a);var h=this.getColumnIndex(a.activeColumn);if(!o||!s)for(r=0;r<c;++r){var f=d[r];f!==h&&this._setColumnVisibility(f,!1)}if(this.reorderColumns(d,d[0]),!o){var _=this._getPlugin("ColumnSelectionPlugin");if(_&&_.isEnabled()){var g=!1;for(r=0;r<c;++r)if((f=d[r])!==h&&_.isSelectedColumn(f)){g=!0;break}g&&(_.selectSingleColumn(h),_.dispatchSelectionChanged&&_.dispatchSelectionChanged())}}this._groupDefs.setGroup(i,a);var m=this._getPlugin("ColumnFilterPlugin");return m&&m.refresh(),this._updateUI(),!0},P.prototype.setStack=function(t,e){this.removeAllStacks();var n={};return e&&(n.activeColumn=e),this.stackColumns(t,"_uniqueStack",n),!0},P.prototype.unstackColumns=function(t){var e,n;t||(t=this._getSelectedColumns());var r=t.length,i={},o=this.getColumnCount();for(e=0;e<r;++e)if((n=t[e])<o){var s=this._getColumnStackOptions(n);s&&(i[s.id]=1)}var l=!1;for(var a in i)l=!0,this._removeStack(a),this._idToFields&&delete this._idToFields[a];if(l){var u=this._getPlugin("ColumnFilterPlugin");u&&u.refresh(),this._updateUI()}return l},P.prototype._removeStack=function(t){var e=this._groupDefs.getGroup(t);if(!e)return!1;for(var n=this.getColumnIndices(e.children),r=n.length,i=0;i<r;++i){var o=n[i];e.spreading&&e.collapsed&&this._collapseMember(o,!1),this._setColumnVisibility(o,!0)}return this._groupDefs.removeGroup(t),!0},P.prototype.removeStack=function(t){return this._idToFields&&this._idToFields[t]&&delete this._idToFields[t],!!this._removeStack(t)&&(this._updateUI(),!0)},P.prototype.removeAllStacks=function(t){for(var e=this._groupDefs.getGroupIds(),n=e.length,r=0;r<n;++r)this._removeStack(e[r]);return n&&(this._idToFields=null,this._groupDefs.removeAllGroups(),!1!==t&&this._updateUI()),!!n},P.prototype.swapColumn=function(t,e){var n=-1;if("number"==typeof t)n=t;else{var r=this.getRelativeGrid(t);if(r)n=r.getRelativePosition(t).colIndex}var i=this._getColumnStackOptions(n);if(!i)return!1;var o=i.children;if(!o)return!1;var s=o[e];if(!s)return!1;if(s===i.activeColumn)return!1;var l=this.getColumnIndex(i.activeColumn),a=this.getColumnIndex(s);i.activeColumn=s,this._setColumnVisibility(a,!0),this._setColumnVisibility(l,!1);var u=this._getPlugin("ColumnSelectionPlugin");u&&u.isEnabled()&&(u.selectSingleColumn(a),u.dispatchSelectionChanged&&u.dispatchSelectionChanged());var p=this._getPlugin("ColumnFilterPlugin");return p&&p.refresh(),i=this._getColumnStackOptions(l),this._updateIcon(l,i),this._updateIcon(a,i),!0},P.prototype._onPreSectionRender=function(t){"title"===t.sectionType&&this._updateUI()},P.prototype._onColumnRemoved=function(t){if(!this._inResetting){var e="",n=t.colId,r=this._groupDefs.getParentGroup(n);if(r)e=n;else{var i=t.columnData,o=i?i.field:"";if(!(r=this._groupDefs.getParentGroup(fields)))return;e=o}r.children.length<=2?(this._removeStack(r.id),this._updateUI()):(this._groupDefs.removeGroupChild(r.id,e),this._updateActiveColumn(r))}},P.prototype._onColumnMoved=function(t){if(!this._inReordering&&!this._inResetting){var e=t.toColIndex,n="",r=this.getColumnId(e),i=this._groupDefs.getParentGroup(r);if(i)n=r;else{var o=this._getField(e);(i=this._groupDefs.getParentGroup(o))&&(n=o)}var s=this._getColumnStackOptions(e-1),l=this._getColumnStackOptions(e+1),a=!0,u=!1;i&&(i===s||i===l?(this._repositionMembers(i),a=!1):i.children.length<=2?this._removeStack(i.id):this._removeRefFromStack(i,n,e),u=!0),a&&this._isWithinStack(e)&&this._addRefToStack(s,e)&&(u=!0),u&&this._updateUI()}},P.prototype._onColumnAdded=function(t){var e=t.colIndex;if(this._autoStacking)this._idToFields&&this._requestStackingByFields();else if(!this._inResetting){var n=this._isWithinStack(e);n&&this._addRefToStack(n,e)&&this._updateUI()}},P.prototype._onBeforeBatchOperation=function(t){"reset"===t.batchType?this._inResetting=!0:"move"===t.batchType&&(this._inReordering=!0)},P.prototype._onAfterBatchOperation=function(t){if("reset"===t.batchType){this._inResetting=!1;for(var e=this._groupDefs.getGroups(),n=e.length,r=0;r<n;++r)this._updateActiveColumn(e[r])}else"move"===t.batchType&&(this._inReordering=!1)},P.prototype._isWithinStack=function(t){var e=this._getColumnStackOptions(t-1);if(e&&e===this._getColumnStackOptions(t+1))return e;return null},P.prototype._addRefToStack=function(t,e){var n=this._toIdOrField(e);if(!t.spreading||!t.collapsed){var r=this.getColumnIndex(t.activeColumn);e>=0&&e!==r&&this._setColumnVisibility(e,!1)}var i=this._toIdOrField(e+1),o=t.children.indexOf(i);return this._groupDefs.addGroupChild(t.id,n,o)},P.prototype._removeRefFromStack=function(t,e,n){return!!this._groupDefs.removeGroupChild(t.id,e)&&(t.spreading&&t.collapsed?this._collapseMember(n,!1):this._setColumnVisibility(n,!0),this._updateActiveColumn(t),!0)},P.prototype._repositionMembers=function(t){var e=t.children,n=e?e.length:0;if(n){var r,i=new Array(n);for(r=0;r<n;r++){var o=e[r];i[r]=[this.getColumnIndex(o),o]}for(i.sort(A),r=0;r<n;r++)e[r]=i[r][1]}},P.prototype._onStackButtonClicked=function(t){var e=t.currentTarget;if(!t.button){var n=this.getRelativeGrid(t).getRelativePosition(t),r=n.colIndex,i=this._getColumnStackOptions(r);if(i)if(t.stopPropagation(),i.spreading)this.collapseGroup(r,!i.collapsed);else{for(var o=i.children,s=o.indexOf(i.activeColumn),l=o.length,a=this.getColumnIndices(o),u=new Array(l),p=l;--p>=0;)u[p]={value:p,selected:p===s,label:this.getColumnName(a[p]),field:this._getField(a[p])};n.menuData=u,n.activeIndex=s,n.columnIndices=a,n.activeColIndex=this.getColumnIndex(i.activeColumn),n.event=t,n.stackId=i.id,e.focus(),this._dispatch("clicked",n)}}},P.prototype._requestStackingByFields=function(){if(!this._stackConflator.conflate()){var t=this._idToFields;if(t)for(var e in this.removeAllStacks(!1),t){var n=t[e];this.getColumnIndices(n).length>1&&this.stackColumns(n,e)}}},P.prototype.getStackMemberIndices=function(t){if(t){var e=this._groupDefs.getGroup(t);if(e)return this.getColumnIndices(e.children)}return[]},P.prototype.getStackMemberIds=function(t){var e=this.getStackMemberIndices(t);return e.length?e.map(this._toIdOrField):e},P.prototype.getColumnIdsByIndex=function(t){Array.isArray(t)||(t=[t]);for(var e,n=[],r=0;r<t.length;++r)e=this.getColumnId(t[r]),n.push(e);return n},P.prototype.getColumnIndicesByColumnIds=function(t){Array.isArray(t)||(t=[t]);for(var e,n=[],r=0;r<t.length;++r)e=this.getColumnIndex(t[r]),n.push(e);return n},P.prototype.getColumnIdsByFields=function(t){Array.isArray(t)||(t=[t]);var e=this.getColumnIndices(t);return this.getColumnIdsByIndex(e)},P.prototype.addColumnToStack=function(t,e){var n=this._toIdOrField(t),r=this._groupDefs.getGroup(e);if(!this._groupDefs.getParentGroup(n)&&r){if(!r.spreading||!r.collapsed){var i=this.getColumnIndex(r.activeColumn),o=this.getColumnIndex(n);o>=0&&o!==i&&this._setColumnVisibility(o,!1)}this._groupDefs.addGroupChild(e,n),this._moveStackedColumns(r.children),this._updateUI()}},P.prototype.removeColumnFromStack=function(t){var e="string"==typeof t?this.getColumnIndex(t):t;if(!(e<0)){var n=this.getColumnId(e),r=this._groupDefs.getParentGroup(n);if(r)t=n;else{var i=this._getField(e);(r=this._groupDefs.getParentGroup(i))&&(t=i)}if(r){var o=r.children,s=o.length;if(s<=2)return 2===s&&t===o[0]&&this.moveColumnById(e,this.getColumnIndex(o[1])+1),void this.removeStack(r.id);var l=this.getColumnIndices(o);this._removeRefFromStack(r,t,e),this.moveColumnById(e,l[s-1]+1),this._updateUI()}}},P.prototype.reorderStackColumns=function(t,e){var n=this._groupDefs.getGroup(e);if(n){var r=this.getStackMemberIndices(e),i=r.length,o=t.length;o&&"string"==typeof t[0]&&(t=this.getColumnIndices(t));var s,l,a=[];for(s=0;s<o;s++)l=t[s],r.indexOf(l)>=0&&a.push(l);if(a.length!==i)for(s=0;s<i&&(l=r[s],!(a.indexOf(l)<0&&(a.push(l),a.length===i)));s++);var u={spreading:n.spreading,collapsed:n.collapsed};for(s=0;s<a.length;s++)a[s]=this._getField(a[s]);this.removeStack(e),this.stackColumns(a,e,u)}},P.prototype.setStackName=function(t,e){this._groupDefs.setGroupName(t,e)},P.prototype.getStackName=function(t){return this._groupDefs.getGroupName(t)},P.prototype.getActiveColumnField=function(t){return this._getField(this.getActiveColumnIndex(t))},P.prototype.getActiveColumnIndex=function(t){var e=this._groupDefs.getGroup(t);return e?this.getColumnIndex(e.activeColumn):-1},P.prototype.addStackChild=function(t,e){this.addColumnToStack(e,t)},P.prototype.removeStackChild=function(t,e){var n="string"==typeof e?this.getColumnIndex(e):e;n>=0&&t===this.getStackId(n)&&this.removeColumnFromStack(n)},P.prototype.unsetParent=P.prototype.removeColumnFromStack,P.prototype.reorderColumns=function(t,e){var n;return this._inReordering=!0,n=this._reorderColumns(t,e),this._inReordering=!1,n},P.prototype.moveColumnById=function(t,e){return this._moveColumnById(t,e)},P.prototype._setStackVisibility=function(t,e){var n=this._groupDefs.getGroup(t);if(n)if(n.spreading&&!n.collapsed)for(var r=n.children,i=0;i<r.length;i++)this._setColumnVisibility(this.getColumnIndex(r[i]),e);else{var o=this.getColumnIndex(n.activeColumn);this._setColumnVisibility(o,e)}},P.prototype._updateActiveColumn=function(t){if(D(t)){var e=this.getColumnIndex(t.activeColumn);e>=0&&(this._setColumnVisibility(e,!0),this._updateUI())}},P.prototype.hideStack=function(t){t&&this._setStackVisibility(t,!1)},P.prototype.showStack=function(t){t&&this._setStackVisibility(t,!0)},P.prototype.isStackHidden=function(t){var e=this._groupDefs.getGroup(t),n=this._host||this._hosts[0];if(!e||!n)return null;var r=this.getColumnIndex(e.activeColumn);return!n.isColumnVisible(r)},P.prototype.moveStack=function(t,e){if(!t)return!1;var n=this.getStackMemberIds(t);return this.reorderColumns(n,e)};!function(t,e){if(t&&e&&e.prototype.getName){var n=e.prototype.getName().replace(/Plugin$/,"");if(n){var r=t.tr;r||(r=t.tr={});var i=r.grid;i||(i=r.grid={}),i[n+"Plugin"]=e,r[n+"Extension"]=e}}}(window,P)}]);