!function(t){var e={};function n(i){if(e[i])return e[i].exports;var r=e[i]={i:i,l:!1,exports:{}};return t[i].call(r.exports,r,r.exports,n),r.l=!0,r.exports}n.m=t,n.c=e,n.d=function(t,e,i){n.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:i})},n.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},n.t=function(t,e){if(1&e&&(t=n(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var i=Object.create(null);if(n.r(i),Object.defineProperty(i,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var r in t)n.d(i,r,function(e){return t[e]}.bind(null,r));return i},n.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p="",n(n.s=0)}([function(t,e,n){"use strict";n.r(e);var i={inherits:function(t,e){function n(){}n.prototype=e.prototype,t.prototype=new n,t.prototype.constructor=t,t.base=function(t,n,i){n||(n="constructor");for(var r=arguments.length,o=new Array(r),s=2;s<r;s++)o[s-2]=arguments[s];return e.prototype[n].apply(t,o)}}},r=function(){};r.prototype._events=null,r.prototype._listenerCount=0,r.prototype.addEventListener=function(t,e){if(t&&e){this._events||(this._events={});var n=this._events[t];n?n.indexOf(e)<0&&(n.push(e),++this._listenerCount):(this._events[t]=[e],++this._listenerCount)}},r.prototype.removeEventListener=function(t,e){var n=this._events?this._events[t]:null;if(n){var i=n.indexOf(e);i>=0&&(n.splice(i,1),--this._listenerCount)}},r.prototype.removeAllEventListeners=function(){this._events=null,this._listenerCount=0},r.prototype.hasListener=function(t){if(this._listenerCount){if(t){var e=this._events?this._events[t]:null;return!!e&&e.length>0}return!0}return!1},r.prototype.getListener=function(t,e){if(t){var n=this._events?this._events[t]:null;if(n)return e||(e=0),n[e]||null}return null},r.prototype.addListener=function(t,e){var n=t?t[e]:null;"function"==typeof n&&this.addEventListener(e,n)},r.prototype._prepareEventArguments=function(t,e){return e},r.prototype._dispatch=function(t,e){var n=this._events?this._events[t]:null;if(n){e=this._prepareEventArguments(t,e);for(var i=n.length,r=0;r<i;++r)n[r](e)}};r.preventDefault=function(t){t&&t.preventDefault&&(t.preventDefault(),t.stopPropagation())};var o=function(t,e,n){this.resolve=this.resolve.bind(this),this.reject=this.reject.bind(this),"function"==typeof t&&(this._resolveHandler=t),"function"==typeof e&&(this._rejectHandler=e),null!=n&&(this._ctx=n),this.promise=new Promise(function(t,e){this._resolve=t,this._reject=e}.bind(this))};o.prototype.promise=null,o.prototype._resolve=null,o.prototype._reject=null,o.prototype._resolveHandler=null,o.prototype._rejectHandler=null,o.prototype._ctx=null,o.prototype._fulfilled=!1,o.prototype.resolve=function(t){if(this._resolve){if(this._resolveHandler){var e=this._resolveHandler(t,this._ctx||this);null!=e&&(t=e)}this._resolve(t),this._finally()}},o.prototype.reject=function(t){if(this._reject){if(this._rejectHandler){var e=this._rejectHandler(t,this._ctx||this);null!=e&&(t=e)}this._reject(t),this._finally()}},o.prototype.isFulfilled=function(){return this._fulfilled},o.prototype._finally=function(){this._fulfilled=!0,this._ctx=this._resolveHandler=this._rejectHandler=null,this._resolve=this._reject=null};var s=function(){};i.inherits(s,r),s.prototype._hosts=null,s.prototype._compositeGrid=null,s.prototype._realTimeGrid=null,s.prototype._rowGetter=null,s.prototype._initializedGrid=!1,s.prototype.listen=s.prototype.addEventListener,s.prototype.unlisten=s.prototype.removeEventListener,s.prototype.afterInit=function(t,e,n){var i=null;n&&n.getCoreGrid&&(i=n.getCoreGrid()),i&&(this.getGridApi()||this.setGridWrapper("compositegrid",n),this._compositeGrid&&i.loadPlugin(this,e)),this._initializedGrid||(this._initializedGrid=!0,this._rowGetter=this._realTimeGrid?a:u,this._afterInit())},s.prototype._afterInit=function(){},s.prototype._dispose=function(){this._hosts&&(this._hosts.length||(this._compositeGrid=this._realTimeGrid=null,this._initializedGrid=!1))},s.prototype.hasMultiTableSupport=function(){return!1},s.prototype._prepareEventArguments=function(t,e){return e||(e={}),e.api=this.getGridApi(),e},s.prototype.getName=function(){return"GridPlugin"},s.prototype.initialize=function(t,e){},s.prototype.unload=function(t){this._dispose()},s.prototype.getRelativeGrid=function(t){var e=null;if(t.target){var n=(e=t.target).api;if(n&&n.getCoreGrid)return n.getCoreGrid()}else t.getElement?e=t.getElement():1===t.nodeType&&(e=t);if(e)for(var i=this._hosts.length;--i>=0;){var r=this._hosts[i];if(r.getElement().contains(e))return r}return null},s.prototype.setGridWrapper=function(t,e){t&&("compositegrid"===(t=t.toLowerCase())?this._compositeGrid=e:"realtimegrid"===t&&(this._realTimeGrid=e))},s.prototype.getGridApi=function(t){if(null==t)return this._compositeGrid||this._realTimeGrid;var e="number"==typeof t?this._hosts[t]:t;return e&&e._wrapper||null},s.prototype.getColumnName=function(t){if(this._compositeGrid){var e=this._compositeGrid.getColumnModel(t);if(e)return e.title?e.title:e.field}else{var n=this.getColumnIndex(t),i=this._realTimeGrid.getColumnDefinition(n);if(i)return i.getName()}return""},s.prototype.getColumnIndex=function(t){if("number"==typeof t)return t;if(this._compositeGrid){var e=this._compositeGrid.getColumnFields().indexOf(t);return e>-1?e:this._compositeGrid.getColumnIndex(t)}return this._realTimeGrid.getColumnIndex(t)},s.prototype.getColumnIndices=function(t){if(this._compositeGrid){for(var e,n=this._compositeGrid.getColumnFields(),i=this._compositeGrid.getColumnCount(),r=[],o=0;o<t.length;o++)if("number"==typeof(e=t[o]))e>=0&&e<i&&r.push(e);else{var s=n.indexOf(e);-1!==s&&r.push(s)}return r}return this._realTimeGrid.getColumnIndices(t)},s.prototype.getColumnId=function(t){if("string"==typeof t)return t;var e=this.getColumnCount();if(t<0||t>=e)return"";if(this._compositeGrid)return this._compositeGrid.getColumnId(t);var n=this._realTimeGrid.getColumnDefinition(t);return n?n.getId():""},s.prototype.getColumnIds=function(){return this._hosts&&this._hosts.length?this._hosts[0].getColumnIds():[]},s.prototype.getColumnField=function(t){return this._hosts&&this._hosts.length?this._hosts[0].getColumnField(t):""},s.prototype.getColumnFields=function(){return this._hosts&&this._hosts.length?this._hosts[0].getColumnFields():[]},s.prototype.getColumnCount=function(){if(this._hosts){var t=this._hosts[0];return t?t.getColumnCount():0}return 0},s.prototype._moveColumnById=function(t,e){var n=this._hosts,i=n?n.length:0;if(i){for(var r=0,o=0;o<i;++o)r|=n[o].moveColumnById(t,e);return!!r}return!1},s.prototype._reorderColumns=function(t,e){var n=this._hosts,i=n?n.length:0;if(i){for(var r=0,o=0;o<i;++o)r|=n[o].reorderColumns(t,e);return!!r}return!1},s.prototype._loadPlugin=function(t,e,n){return t||(t=e.getPlugin(n))||(t=e.loadPlugin(n))&&this._initializedGrid&&(t._initializedGrid=!0),t},s.prototype._requestPlugin=function(t,e,n){return this._initializedGrid?s.requestPlugin(t,e,n,this._compositeGrid,this._realTimeGrid):Promise.reject("Plugin should be requested after the initialization")},s.requestPlugin=function(t,e,n,i,r){var l=null;if(t){var u=null;1===t.nodeType?u=t.api:t.getCoreGrid?u=t:t.getPlugin&&(l=t),u&&(l=u.getCoreGrid(),i||r||(u.getModel?i=u:r=u))}if(!l)return Promise.reject("Cannot find grid element");var a=l.getPlugin(e);if(a)return Promise.resolve(a);var p=new o;return setTimeout(s._onPluginRequested.bind(null,{grid:l,pluginRef:e,compositeGrid:i,realTimeGrid:r,config:n,deferred:p}),10),p.promise},s._onPluginRequested=function(t){var e=t.grid;if(!e.getElement())return t.deferred.reject("Grid has been disposed before the plugin is fully loaded: "+t.pluginRef);var n=e.getPlugin(t.pluginRef);if(n)return t.deferred.resolve(n);var i=!1;return t.pluginRef.beforeInit&&(i=!0,t.pluginRef.beforeInit(e.getElement(),t.config,!0)),(n=e.loadPlugin(t.pluginRef,t.config))?(!i&&n.beforeInit&&(i=!0,n.beforeInit(e.getElement(),t.config)),n.setGridWrapper&&(t.compositeGrid?n.setGridWrapper("compositegrid",t.compositeGrid):t.realTimeGrid&&n.setGridWrapper("realtimegrid",t.realTimeGrid)),n.afterInit&&n.afterInit(),t.deferred.resolve(n)):t.deferred.reject("Unable to load required dependency: "+t.pluginRef)},s.prototype._getPlugin=function(t,e){return null==e&&(e=this._hosts[0]),e?e.getPlugin(t):null},s.prototype._getColumnData=function(t,e){return null==e&&(e=this._hosts[0]),e?e.getColumnData(t):null},s.prototype._getColumnOption=function(t,e,n){var i=this._getColumnData(t,n);return i?i[e]:null},s.prototype._newColumnData=function(t,e){if(null==e&&(e=this._hosts[0]),!e)return{};var n=e.getColumnData(t);return n||(n=e.setColumnData(t,{})),n},s.prototype._getField=function(t){var e=this._compositeGrid||this._realTimeGrid;return e?e.getColumnField(t):""},s.prototype._getRowData=function(t){return this._realTimeGrid&&t?t.ROW_DEF.getRowData():t},s.prototype._getRow=function(t,e){return p(t.getRowDataAt(e))},s.prototype._getData=function(t,e,n){var i=this._getRow(t,e);return i?i[n]:void 0},s.prototype._setData=function(t,e,n,i){if(this._realTimeGrid){var r=l(t,e);r&&r.setData(n,i)}else"number"==typeof e?t.setDataAt(e,n,i):t.setData(e,n,i)},s.prototype._setRowData=function(t,e,n){if(this._realTimeGrid){var i=l(t,e);i&&i.setRowData(n)}else"number"==typeof e?t.setRowDataAt(e,n):t.setRowData(e,n)},s.prototype._setStaticData=function(t,e,n,i){if(this._realTimeGrid){var r=l(t,e);r&&r.setStaticData(n,i)}else this._setData(t,e,n,i)},s.prototype._setColumnData=function(t,e,n,i){if(e){var r=Array.isArray(i)?i:t.getAllRowIds(!0),o=r?r.length:0;if(o)if(1!==o){var s=Array.isArray(n)?n:r.map((function(){return n}));if(this._realTimeGrid){for(var l=0;l<o;++l){var u=t.getRowData(r[l]);if(u){var a=u.ROW_DEF;a&&(a.getRowData()[e]=s[l])}}t.dispatchGlobalChange||(t=t.getDataSource()),t&&t.dispatchGlobalChange&&t.dispatchGlobalChange()}else t.setColumnData(e,s,r)}else this._setData(t,r[0],e,Array.isArray(n)?n[0]:n)}},s.prototype._activateColumnRenderer=function(t,e,n){if(null!=t){var i=this._realTimeGrid;i?i.activateColumnRenderer(t,e,n):"function"==typeof n?this._hosts[0].setColumnDataBindingHandler(t,n):this._hosts[0].setColumnDataBindingHandler(t,null)}};var l=function(t,e){var n="number"==typeof e?t.getRowDataAt(e):t.getRowData(e);return n&&n.ROW_DEF||null},u=function(t){return t},a=function(t){return t?t.ROW_DEF.getRowData():null},p=function(t){if(t){var e=t.ROW_DEF;return e?e.getRowData():t}return null},d={inherits:function(t,e){function n(){}n.prototype=e.prototype,t.prototype=new n,t.prototype.constructor=t,t.base=function(t,n,i){n||(n="constructor");for(var r=arguments.length,o=new Array(r),s=2;s<r;s++)o[s-2]=arguments[s];return e.prototype[n].apply(t,o)}}},c=function(){};c.prototype._events=null,c.prototype._listenerCount=0,c.prototype.addEventListener=function(t,e){if(t&&e){this._events||(this._events={});var n=this._events[t];n?n.indexOf(e)<0&&(n.push(e),++this._listenerCount):(this._events[t]=[e],++this._listenerCount)}},c.prototype.removeEventListener=function(t,e){var n=this._events?this._events[t]:null;if(n){var i=n.indexOf(e);i>=0&&(n.splice(i,1),--this._listenerCount)}},c.prototype.removeAllEventListeners=function(){this._events=null,this._listenerCount=0},c.prototype.hasListener=function(t){if(this._listenerCount){if(t){var e=this._events?this._events[t]:null;return!!e&&e.length>0}return!0}return!1},c.prototype.getListener=function(t,e){if(t){var n=this._events?this._events[t]:null;if(n)return e||(e=0),n[e]||null}return null},c.prototype.addListener=function(t,e){var n=t?t[e]:null;"function"==typeof n&&this.addEventListener(e,n)},c.prototype._prepareEventArguments=function(t,e){return e},c.prototype._dispatch=function(t,e){var n=this._events?this._events[t]:null;if(n){e=this._prepareEventArguments(t,e);for(var i=n.length,r=0;r<i;++r)n[r](e)}};var h=function(t){t&&t.preventDefault&&(t.preventDefault(),t.stopPropagation())};c.preventDefault=h;var f=function(t,e,n){this.resolve=this.resolve.bind(this),this.reject=this.reject.bind(this),"function"==typeof t&&(this._resolveHandler=t),"function"==typeof e&&(this._rejectHandler=e),null!=n&&(this._ctx=n),this.promise=new Promise(function(t,e){this._resolve=t,this._reject=e}.bind(this))};f.prototype.promise=null,f.prototype._resolve=null,f.prototype._reject=null,f.prototype._resolveHandler=null,f.prototype._rejectHandler=null,f.prototype._ctx=null,f.prototype._fulfilled=!1,f.prototype.resolve=function(t){if(this._resolve){if(this._resolveHandler){var e=this._resolveHandler(t,this._ctx||this);null!=e&&(t=e)}this._resolve(t),this._finally()}},f.prototype.reject=function(t){if(this._reject){if(this._rejectHandler){var e=this._rejectHandler(t,this._ctx||this);null!=e&&(t=e)}this._reject(t),this._finally()}},f.prototype.isFulfilled=function(){return this._fulfilled},f.prototype._finally=function(){this._fulfilled=!0,this._ctx=this._resolveHandler=this._rejectHandler=null,this._resolve=this._reject=null};var g=function(){};d.inherits(g,c),g.prototype._hosts=null,g.prototype._compositeGrid=null,g.prototype._realTimeGrid=null,g.prototype._rowGetter=null,g.prototype._initializedGrid=!1,g.prototype.listen=g.prototype.addEventListener,g.prototype.unlisten=g.prototype.removeEventListener,g.prototype.afterInit=function(t,e,n){var i=null;n&&n.getCoreGrid&&(i=n.getCoreGrid()),i&&(this.getGridApi()||this.setGridWrapper("compositegrid",n),this._compositeGrid&&i.loadPlugin(this,e)),this._initializedGrid||(this._initializedGrid=!0,this._rowGetter=this._realTimeGrid?v:_,this._afterInit())},g.prototype._afterInit=function(){},g.prototype._dispose=function(){this._hosts&&(this._hosts.length||(this._compositeGrid=this._realTimeGrid=null,this._initializedGrid=!1))},g.prototype.hasMultiTableSupport=function(){return!1},g.prototype._prepareEventArguments=function(t,e){return e||(e={}),e.api=this.getGridApi(),e},g.prototype.getName=function(){return"GridPlugin"},g.prototype.initialize=function(t,e){},g.prototype.unload=function(t){this._dispose()},g.prototype.getRelativeGrid=function(t){var e=null;if(t.target){var n=(e=t.target).api;if(n&&n.getCoreGrid)return n.getCoreGrid()}else t.getElement?e=t.getElement():1===t.nodeType&&(e=t);if(e)for(var i=this._hosts.length;--i>=0;){var r=this._hosts[i];if(r.getElement().contains(e))return r}return null},g.prototype.setGridWrapper=function(t,e){t&&("compositegrid"===(t=t.toLowerCase())?this._compositeGrid=e:"realtimegrid"===t&&(this._realTimeGrid=e))},g.prototype.getGridApi=function(t){if(null==t)return this._compositeGrid||this._realTimeGrid;var e="number"==typeof t?this._hosts[t]:t;return e&&e._wrapper||null},g.prototype.getColumnName=function(t){if(this._compositeGrid){var e=this._compositeGrid.getColumnModel(t);if(e)return e.title?e.title:e.field}else{var n=this.getColumnIndex(t),i=this._realTimeGrid.getColumnDefinition(n);if(i)return i.getName()}return""},g.prototype.getColumnIndex=function(t){if("number"==typeof t)return t;if(this._compositeGrid){var e=this._compositeGrid.getColumnFields().indexOf(t);return e>-1?e:this._compositeGrid.getColumnIndex(t)}return this._realTimeGrid.getColumnIndex(t)},g.prototype.getColumnIndices=function(t){if(this._compositeGrid){for(var e,n=this._compositeGrid.getColumnFields(),i=this._compositeGrid.getColumnCount(),r=[],o=0;o<t.length;o++)if("number"==typeof(e=t[o]))e>=0&&e<i&&r.push(e);else{var s=n.indexOf(e);-1!==s&&r.push(s)}return r}return this._realTimeGrid.getColumnIndices(t)},g.prototype.getColumnId=function(t){if("string"==typeof t)return t;var e=this.getColumnCount();if(t<0||t>=e)return"";if(this._compositeGrid)return this._compositeGrid.getColumnId(t);var n=this._realTimeGrid.getColumnDefinition(t);return n?n.getId():""},g.prototype.getColumnIds=function(){return this._hosts&&this._hosts.length?this._hosts[0].getColumnIds():[]},g.prototype.getColumnField=function(t){return this._hosts&&this._hosts.length?this._hosts[0].getColumnField(t):""},g.prototype.getColumnFields=function(){return this._hosts&&this._hosts.length?this._hosts[0].getColumnFields():[]},g.prototype.getColumnCount=function(){if(this._hosts){var t=this._hosts[0];return t?t.getColumnCount():0}return 0},g.prototype._moveColumnById=function(t,e){var n=this._hosts,i=n?n.length:0;if(i){for(var r=0,o=0;o<i;++o)r|=n[o].moveColumnById(t,e);return!!r}return!1},g.prototype._reorderColumns=function(t,e){var n=this._hosts,i=n?n.length:0;if(i){for(var r=0,o=0;o<i;++o)r|=n[o].reorderColumns(t,e);return!!r}return!1},g.prototype._loadPlugin=function(t,e,n){return t||(t=e.getPlugin(n))||(t=e.loadPlugin(n))&&this._initializedGrid&&(t._initializedGrid=!0),t},g.prototype._requestPlugin=function(t,e,n){return this._initializedGrid?g.requestPlugin(t,e,n,this._compositeGrid,this._realTimeGrid):Promise.reject("Plugin should be requested after the initialization")},g.requestPlugin=function(t,e,n,i,r){var o=null;if(t){var s=null;1===t.nodeType?s=t.api:t.getCoreGrid?s=t:t.getPlugin&&(o=t),s&&(o=s.getCoreGrid(),i||r||(s.getModel?i=s:r=s))}if(!o)return Promise.reject("Cannot find grid element");var l=o.getPlugin(e);if(l)return Promise.resolve(l);var u=new f;return setTimeout(g._onPluginRequested.bind(null,{grid:o,pluginRef:e,compositeGrid:i,realTimeGrid:r,config:n,deferred:u}),10),u.promise},g._onPluginRequested=function(t){var e=t.grid;if(!e.getElement())return t.deferred.reject("Grid has been disposed before the plugin is fully loaded: "+t.pluginRef);var n=e.getPlugin(t.pluginRef);if(n)return t.deferred.resolve(n);var i=!1;return t.pluginRef.beforeInit&&(i=!0,t.pluginRef.beforeInit(e.getElement(),t.config,!0)),(n=e.loadPlugin(t.pluginRef,t.config))?(!i&&n.beforeInit&&(i=!0,n.beforeInit(e.getElement(),t.config)),n.setGridWrapper&&(t.compositeGrid?n.setGridWrapper("compositegrid",t.compositeGrid):t.realTimeGrid&&n.setGridWrapper("realtimegrid",t.realTimeGrid)),n.afterInit&&n.afterInit(),t.deferred.resolve(n)):t.deferred.reject("Unable to load required dependency: "+t.pluginRef)},g.prototype._getPlugin=function(t,e){return null==e&&(e=this._hosts[0]),e?e.getPlugin(t):null},g.prototype._getColumnData=function(t,e){return null==e&&(e=this._hosts[0]),e?e.getColumnData(t):null},g.prototype._getColumnOption=function(t,e,n){var i=this._getColumnData(t,n);return i?i[e]:null},g.prototype._newColumnData=function(t,e){if(null==e&&(e=this._hosts[0]),!e)return{};var n=e.getColumnData(t);return n||(n=e.setColumnData(t,{})),n},g.prototype._getField=function(t){var e=this._compositeGrid||this._realTimeGrid;return e?e.getColumnField(t):""},g.prototype._getRowData=function(t){return this._realTimeGrid&&t?t.ROW_DEF.getRowData():t},g.prototype._getRow=function(t,e){return C(t.getRowDataAt(e))},g.prototype._getData=function(t,e,n){var i=this._getRow(t,e);return i?i[n]:void 0},g.prototype._setData=function(t,e,n,i){if(this._realTimeGrid){var r=m(t,e);r&&r.setData(n,i)}else"number"==typeof e?t.setDataAt(e,n,i):t.setData(e,n,i)},g.prototype._setRowData=function(t,e,n){if(this._realTimeGrid){var i=m(t,e);i&&i.setRowData(n)}else"number"==typeof e?t.setRowDataAt(e,n):t.setRowData(e,n)},g.prototype._setStaticData=function(t,e,n,i){if(this._realTimeGrid){var r=m(t,e);r&&r.setStaticData(n,i)}else this._setData(t,e,n,i)},g.prototype._setColumnData=function(t,e,n,i){if(e){var r=Array.isArray(i)?i:t.getAllRowIds(!0),o=r?r.length:0;if(o)if(1!==o){var s=Array.isArray(n)?n:r.map((function(){return n}));if(this._realTimeGrid){for(var l=0;l<o;++l){var u=t.getRowData(r[l]);if(u){var a=u.ROW_DEF;a&&(a.getRowData()[e]=s[l])}}t.dispatchGlobalChange||(t=t.getDataSource()),t&&t.dispatchGlobalChange&&t.dispatchGlobalChange()}else t.setColumnData(e,s,r)}else this._setData(t,r[0],e,Array.isArray(n)?n[0]:n)}},g.prototype._activateColumnRenderer=function(t,e,n){if(null!=t){var i=this._realTimeGrid;i?i.activateColumnRenderer(t,e,n):"function"==typeof n?this._hosts[0].setColumnDataBindingHandler(t,n):this._hosts[0].setColumnDataBindingHandler(t,null)}};var m=function(t,e){var n="number"==typeof e?t.getRowDataAt(e):t.getRowData(e);return n&&n.ROW_DEF||null},_=function(t){return t},v=function(t){return t?t.ROW_DEF.getRowData():null},C=function(t){if(t){var e=t.ROW_DEF;return e?e.getRowData():t}return null},y=function(t,e,n){this._onConflated=this._onConflated.bind(this),this._data=[],"function"==typeof t?this.setFunction(t,n):"function"==typeof e&&this.setFunction(e,n),"number"==typeof e?this.setConflatingTime(e):"number"==typeof t&&this.setConflatingTime(t)};y.prototype._data,y.prototype._func=null,y.prototype._delay=0,y.prototype._timerId=0,y.prototype._conflated=!1,y.prototype._disabled=!1,y.prototype.reset=function(){return this._timerId&&(clearTimeout(this._timerId),this._timerId=0),this.popAllData()},y.prototype.popAllData=function(){if(this._data.length){var t=this._data;return this._data=[],t}return null},y.prototype.dispose=function(){this._timerId&&(clearTimeout(this._timerId),this._timerId=0),this._data.length&&(this._data.length=0),this._func=null},y.prototype.conflate=function(t){return!this._disabled&&(null!=t&&this._data.push(t),!this._conflated&&(this._timerId||(this._timerId=setTimeout(this._onConflated,this._delay)),!0))},y.prototype.isConflating=function(){return this._timerId>0&&!this._conflated&&!this._disabled},y.prototype._onConflated=function(){this._conflated=!0;try{this._func()}catch(t){console.error(t.message||t)}this._timerId=0,this._data.length=0,this._conflated=!1},y.prototype.getData=function(){return this._data},y.prototype.setFunction=function(t,e){this._func=t,this._func=t?e?t.bind(e):t:null},y.prototype.setConflatingTime=function(t){this._delay=t||0,this._delay<0&&(this._delay=0)},y.prototype.getConflatingTime=function(){return this._delay},y.prototype.disable=function(t){this._disabled=!1!==t},y.prototype.isEnabled=function(){return!this._disabled},y.prototype.enable=function(t){this._disabled=!1===t};var b={create:function(t,e){var n=document.createElement("coral-icon");return e&&(n.className=e),t&&n.setAttribute("icon",t),n},box:function(t,e,n){var i=null;return n&&("string"==typeof n?i=document.createElement(n):1===n.nodeType&&(i=n)),i||(i=document.createElement("div")),e&&(i.className=e),i.appendChild(b.create(t)),i},change:function(t,e){t.getAttribute("icon")!==e&&t.setAttribute("icon",e)}},I=function(t,e){return function(t,e,n){if(!t)return null;if(!e||t===e)return t;var i;if(n)for(var r=n.length,o=0;o<r;++o)(i=n[o])&&G(t,e,i);else for(i in e)G(t,e,i);return t}({},t,e)},G=function(t,e,n){var i=e[n];if(null!=i){var r=t[n];Array.isArray(r)?t[n]=r.concat(i):Array.isArray(i)&&r?t[n]=i.concat(r):t[n]=i}},k=function(t){return Array.isArray(t)?"{\n"+t.join("\n")+"\n}":t},S=function(t){return t.replace(/\n+/g,"\n\t").replace(/\n\t}$/,"\n}")},P=function(t,e){if(!t)return null;var n=document.createElement("style");n.textContent="\n"+t+"\n";var i,r=function(t){var e;if(t&&(t.shadowRoot?e=t.shadowRoot:t.getRootNode&&(e=t.getRootNode()),e&&e!==document&&e!==t))return e;return null}(e),o=!0;return r||(o=!1,r=document.head),o&&r.children&&r.children.length&&(i=r.children[0]),i?r.insertBefore(n,i):r.appendChild(n),n},D=function(t,e){for(var n in e||(e=[]),t){var i=t[n];"object"==typeof i?D(i,e):e.push(i)}return e},A=function(t){if(!t||"string"!=typeof t)return"";if("#"===t.charAt(0))return t;var e=t.match(/\d+/g);if(!e||e.length<3)return t;for(var n="#",i=0;i<3;i++){var r=+e[i];r>=16||(n+="0"),n+=r?r.toString(16).toUpperCase():"0"}return n},R={},T=function(t,e){"attributes"==e.type&&"lang"==e.attributeName&&(t.lang=e.target.lang||"en")},w=function(t,e,n){"attributes"===n.type&&(null!=e?n.attributeName===e&&t(n.target.getAttribute(e)):t(n.target))};R._getNewId=function(){return"observer_"+ ++R._id},R._addObserver=function(t,e,n){var i=n;i||(i={}),i.attributes=!0,R._observer.observe(t,i),R._addListener(t,e)},R._onMutationCallback=function(t){for(var e=0;e<t.length;e++)for(var n=t[e],i=R._listeners[n.target._observeId],r=0;r<i.length;r++)i[r](n)},R._addListener=function(t,e){var n=R._listeners;if(n||(n=R._listeners={}),!t._observeId){var i=R._getNewId();t._observeId=i}n[t._observeId]||(n[t._observeId]=[]);var r=n[t._observeId];r.indexOf(e)<0&&r.push(e)},R.addLanguageListener=function(t){t&&(t.lang=document.documentElement.lang||"en",R._addObserver(document.documentElement,T.bind(null,t)))},R.addAttributeListener=function(t,e,n){t&&e&&R._addObserver(t,w.bind(null,e,n))},R._observer=new MutationObserver(R._onMutationCallback),R._listeners={},R._id=0;var x={en:!0,de:!0,ja:!0,zh:!0,"zh-Hant":!0},O={_deferred:null,themeReady:null,_defaultColors:{up:"#39C46E",down:"#F5475B",level:"#C2C2C2",tickUp:"#39C46E",tickDown:"#F5475B",baseGrid:"#1A1A1C",baseText:"#C2C2C2",trackColor:"#FF9933"}};O.themeColors=O._defaultColors,O._components={},O._themeName="",O._elfVersion=0,O._dummyIcon=null,O._iconLoaded=!1,O._profileName=null,O._callbacks=[],O._observed=!1,O._pendingResolve=!1,O._themeLoaded=!1,O._icons={"elf-theme-halo":{rowGrouping:{expander:"down"},sorting:{ascending:"hollow-arrow-up",descending:"hollow-arrow-down",sortable:"sort-up-down"},columnStack:{stack:"map-layers",expand:"right",collapse:"left"}},"elf-theme-solar":{columnStack:{stack:"list",expand:"right",collapse:"left"}}},O._icons["halo-theme"]=O._icons["elf-theme-halo"],O._icons["solar-theme"]=O._icons["elf-theme-solar"],O.getElfVersion=function(){if(!O._elfVersion){var t=0;if(window.EFX_GRID){var e=window.EFX_GRID.version;t=+(e=e.split("."))[0]}else if(window.elf)if(window.elf.version){var n=window.elf.version.match(/\d/);n&&n[0]&&(t=parseInt(n[0],10))}else window.elf.customElements?t=3:window.customElements&&(t=4);else window.Polymer&&(t=1);O._elfVersion=t}return O._elfVersion},O.hasComponent=function(t){var e=O._components[t];if(null==e){e=0;var n=O.getElfVersion();if(t)1===n?document.createElement(t).is===t&&(e=n):n>1&&(window.customElements&&window.customElements.get(t)||document.createElement(t).constructor!==HTMLElement)&&(e=n),O._components[t]=e}return e},O.toLangString=function(t){if(!t)return"";if("zh-hant"===(t=t.toLowerCase()))return"zh-Hant";var e=t.replace(/-.*/,"");return x[e]?e:""},O.hasTheme=function(t){return t===O.getThemeName()},O.getThemeName=function(t){return O._themeName||(O._themeName=O.getCssVariable("--theme-name",document.documentElement)),O._themeName},O.setThemeName=function(t){O._themeName=t},O.isThemeLoaded=function(){return O._themeLoaded},O.getColors=function(){return O.themeColors},O.isHaloTheme=function(t){return null==t&&(t=O.getThemeName()),!!t&&t.indexOf("halo")>=0},O.injectIcons=function(t,e){if("object"==typeof t){var n=O.getThemeName();t.themeName=n;var i=O.getElfVersion();t.elfVersion=i;var r=O._icons[n];r&&(t.icons=r)}},O.getIconList=function(){var t=O._icons[O.getThemeName()];return t?D(t):[]},O._onIconPreloaded=function(){if(O._dummyIcon){var t=O._dummyIcon.parentNode;t&&t.removeChild(O._dummyIcon),O._dummyIcon=null}},O.prepareIconPreloading=function(){if(!O._iconLoaded){O._iconLoaded=!0;var t=O.getIconList();if(t.length){setTimeout(O._onIconPreloaded,10);var e=O._dummyIcon=document.createElement("coral-icon");return e.style.transform="scale(0)",document.body.appendChild(e),t}}return null},O.getCssVariable=function(t,e){var n="",i=e||document.body;return window&&"string"==typeof t&&1===i.nodeType&&t.match(/^--/)&&(n=(n=window.getComputedStyle(i).getPropertyValue(t)).replace(/[\"\']/g,"")),n},O.getCssVariables=function(t,e){var n=e||document.body;if(window&&1===n.nodeType){var i=window.getComputedStyle(n);for(var r in t){var o=t[r];o&&o.match(/^--/)&&(t[r]=i.getPropertyValue(o).replace(/\"/g,""))}}return t||null},O.setRTK=function(t){null!=t&&(O._rtk=t)},O.getMovementColorProfile=function(){return document.documentElement.getAttribute("movement-color-profile")},O._addThemeChangedCallback=function(t){var e=O._callbacks;e.indexOf(t)<0&&e.push(t)},O.reloadThemeColors=function(){return O._deferred&&O._deferred.isFulfilled()?(O._profileName="",O._themeLoaded=!1,O.themeReady=null,O.getThemeColors()):O.themeReady},O.getThemeColors=function(t){if("function"==typeof t&&O._addThemeChangedCallback(t),O.themeReady)return O.themeReady;var e=O._deferred=new f;O.themeReady=e.promise;var n=O.getMovementColorProfile();if(n)n!==O._profileName?setTimeout(O._profileNameRetrieved,100):O._deferred.resolve(O.themeColors);else{var i={providerName:"Configuration",settingName:"RDE_USER_CURRENT_TICK_COLOR"},r=window?window.JET:null;if(O._themeLoaded=!1,O._rtk&&O._rtk.Settings)O._rtk.Settings.getAsync(i).then(O._loadingProfileSuccess).catch(O._loadingProfileFailure);else if(r&&r.Settings)try{r.Settings.read(O._loadingProfileSuccess,i)}catch(t){O._loadingProfileFailure()}else setTimeout(O._profileNameRetrieved,100)}return e.promise};var M=function(t){if(t!==O._profileName){O._retrieveThemeColors(t),O._pendingResolve&&(O._pendingResolve=!1,O._deferred.resolve(O.themeColors));for(var e=O._callbacks,n=0;n<e.length;n++)e[n]()}};O._loadingProfileSuccess=function(t){t&&document.documentElement.setAttribute("movement-color-profile",t.toLowerCase()),O._observed?O._pendingResolve=!0:O._profileNameRetrieved(t)},O._loadingProfileFailure=function(){O._retrieveThemeColors(),O._observed||(O._observed=!0,R.addAttributeListener(document.documentElement,M,"movement-color-profile")),O._deferred.reject("Failed to get movement color profile from settings.")},O._profileNameRetrieved=function(){var t=O.getMovementColorProfile();O._retrieveThemeColors(t),O._observed||(O._observed=!0,R.addAttributeListener(document.documentElement,M,"movement-color-profile")),O._deferred.resolve(O.themeColors)},O._retrieveThemeColors=function(t){O._themeLoaded=!0,O._profileName=t;var e=O.themeColors=O.getCssVariables({primary:"--color-scheme-primary",secondary:"--color-scheme-secondary",tertiary:"--color-scheme-tertiary",complementary:"--color-scheme-complementary",up:"--color-scheme-positive",down:"--color-scheme-negative",level:"--color-scheme-neutral",tickUp:"--color-scheme-tickup",tickDown:"--color-scheme-tickdown"});e.up||(e.up=O._defaultColors.up,e.down=O._defaultColors.down,e.level=O._defaultColors.level,e.tickUp=O._defaultColors.tickUp,e.tickDown=O._defaultColors.tickDown),e.positive=e.up,e.negative=e.down,e.neutral=e.level;var n=document.createElement("table");n.style.visibility="hidden",n.style.position="fixed",n.style.left="0",n.style.top="0",n.style.width="0";var i=n.insertRow(-1),r=i.insertCell(-1);document.body.appendChild(n);var o=window.getComputedStyle(i);e.tableBg=o.backgroundColor;var s=window.getComputedStyle(r);e.tableText=s.color,e.tableBorder=s.borderColor,e.tableText===e.tableBorder&&(r.className="tr-lg",s=window.getComputedStyle(r),e.tableBg=s.backgroundColor,e.tableText=s.color,e.tableBorder=s.borderColor,e.tableText===e.tableBorder&&(e.tableBg=O._defaultColors.baseGrid,e.tableText=O._defaultColors.baseText,e.tableBorder="")),e.tableBg=A(e.tableBg),e.tableText=A(e.tableText),e.tableBorder=A(e.tableBorder),document.body.removeChild(n),e.baseGrid=e.tableBg,e.baseText=e.tableText,e.trackColor=e.primary||O._defaultColors.trackColor};var E=function(){this._groupMap={},this._childToParent={}};E.prototype._groupMap,E.prototype._childToParent,E.getGroupId=function(t){return t&&t.id||""},E.calcTreeDepth=function(t,e){for(var n=-1,i=e;i;){if(++n>15){console.log("WARNING: Infinite loop detected during column group creation");break}i=t[i.parentId]}return n},E.getLeafDescendants=function(t,e){var n=t[e];if(!n)return null;for(var i=[],r=[n],o=0,s={};o<r.length;){s[(n=r[o++]).id]=!0;for(var l=n.children,u=l.length,a=0;a<u;++a){var p=l[a];(n=t[p])?s[n.id]||r.push(n):i.push(p)}}return i},E._cloneObject=function(t){var e=I(t);return Array.isArray(e.children)?e.children=e.children:e.children=[],e},E._cloneGroupMap=function(t){var e={};for(var n in t){var i=t[n],r=E._cloneObject(i);r.children=i.children.slice(),e[n]=r}return e},E._toGroupDefinition=function(t,e){var n=null;return t&&(n=Array.isArray(t)?{children:t}:E._cloneObject(t),e&&(n.id||(n.name=e),n.id=e)),n},E.prototype.toString=function(){var t=this._groupMap,e=[];for(var n in e.push("=== groupDefs ==="),t){var i=t[n];e.push(n+": "+JSON.stringify(i,["id","parentId","children"]))}return e.push("=== childToParent ==="),e.push(JSON.stringify(this._childToParent,null,2)),e.push(""),e.join("\n")},E.prototype.getGroup=function(t){return t&&this._groupMap[t]||null},E.prototype.getDefinition=E.prototype.getGroup,E.prototype.getGroups=function(){var t=[],e=this._groupMap;for(var n in e)t.push(e[n]);return t},E.prototype.getGroupIds=function(){return Object.keys(this._groupMap)},E.prototype.getGroupMap=function(){return this._groupMap},E.prototype.cloneGroupMap=function(){return E._cloneGroupMap(this._groupMap)},E.prototype.getGroupChildren=function(t){var e=this._groupMap[t];return e?e.children:null},E.prototype.getLeafDescendants=function(t){return E.getLeafDescendants(this._groupMap,t)},E.prototype.getGroupLevel=function(t){return E.calcTreeDepth(this._groupMap,this._groupMap[t])},E.prototype.getRootGroup=function(t){if(!t)return null;var e=this._groupMap,n=e[t]||null;if(n)for(;n.parentId;){var i=e[n.parentId];if(!i)break;n=i}return n},E.prototype.getParentGroup=function(t){return this.getGroup(this._childToParent[t])},E.prototype.getParentIds=function(t){if(t&&"string"==typeof t){var e=this._childToParent[t];if(e){for(var n=[e],i=this._groupMap[e];i&&i.parentId;)(i=this._groupMap[i.parentId])&&n.push(i.id);return n}}return null},E.prototype.getParentId=function(t,e){var n=this._childToParent[t];if(null!=e)for(var i=this.getGroupLevel(n);i>e&&n;)n=this._childToParent[n],i--;return n||""},E.prototype.removeAllGroups=function(){for(var t in this._groupMap)return this._groupMap={},this._childToParent={},!0;return!1},E.prototype.setGroups=function(t){var e,n=this._groupMap={},i=this._childToParent={},r=t?t.length:0,o="";for(e=0;e<r;e++){var s=t[e];(o=s.id)&&(n[o]=s)}var l=Object.keys(n);for(r=l.length,e=0;e<r;++e)for(var u=n[o=l[e]].children,a=u.length,p=0;p<a;p++)i[u[p]]=o;for(e=0;e<r;++e){var d=i[o=l[e]];d&&(n[o].parentId=d)}},E.prototype.addGroup=function(t){var e=E.getGroupId(t);return e?this.setGroup(e,t):e},E.prototype.removeGroup=function(t){return!!this._groupMap[t]&&(this.removeAllChildren(t),this.unsetParent(t),delete this._groupMap[t],!0)},E.prototype.setGroup=function(t,e){if(!t)return"";if(e){var n=E._toGroupDefinition(e,t);this._ungroupChildren(n.children),this._groupMap[t]&&this.removeAllChildren(t);var i=this._childToParent[t];i&&(n.parentId=i.id),this._groupMap[t]=n;for(var r=n.children,o=r.length,s=0;s<o;++s){var l=r[s];this._childToParent[l]=t;var u=this._groupMap[l];u&&(u.parentId=t)}}else if(!this.removeGroup(t))return"";return t},E.prototype._ungroupChildren=function(t){if(Array.isArray(t))for(var e=t.length,n=0;n<e;++n)this.unsetParent(t[n])},E.prototype.hasGroupChild=function(t,e){var n=this._groupMap[t];if(e&&n){var i=n.children;if(i)return i.indexOf(e)>=0}return!1},E.prototype.addGroupChild=function(t,e,n){var i=this._groupMap[t];if(e&&i){var r=i.children;if(r&&r.indexOf(e)<0){this.unsetParent(e),this._childToParent[e]=t;var o=this._groupMap[e];return o&&(o.parentId=t),null!=n&&n>=0?r.splice(n,0,e):r.push(e),!0}}return!1},E.prototype.removeGroupChild=function(t,e){return null==e?this.unsetParent(t):!!this.hasGroupChild(t,e)&&this.unsetParent(e)},E.prototype.unsetParent=function(t){var e=this._childToParent[t];if(!e)return!1;this._childToParent[t]="";var n=this._groupMap[t];n&&(n.parentId="");var i=this._groupMap[e];if(i){var r=i.children;if(r.length){var o=r.indexOf(t);o>=0&&r.splice(o,1)}}return!0},E.prototype.removeAllChildren=function(t){var e=this._groupMap[t];if(e){var n=e.children,i=n.length;if(i){e.children=[];for(var r=0;r<i;++r){var o=n[r];this._childToParent[o]&&(this._childToParent[o]="");var s=this._groupMap[o];s&&(s.parentId="")}return!0}}return!1},E.prototype.setGroupChildren=function(t,e){var n=this._groupMap[t];if(n){if(Array.isArray(e)){var i=e.slice();this._ungroupChildren(i),this.removeAllChildren(t),n.children=i;for(var r=n.id,o=i.length,s=0;s<o;++s){var l=i[s];this._childToParent[l]=r;var u=this._groupMap[l];u&&(u.parentId=r)}return!0}if(!e&&n.children.length)return this.removeAllChildren(t),!0}return!1},E.prototype.getGroupName=function(t){var e=this._groupMap[t];return e&&e.name||""},E.prototype.setGroupName=function(t,e){var n=this._groupMap[t];return!(!n||n.name===e)&&(n.name=e,!0)};var N={create:function(t,e){var n=document.createElement(t);return e&&(n.className=e),n},div:function(t){return N.create("div",t)},text:function(t,e){var n=N.create("span",e);return(t||0===t)&&(n.textContent=t),n},appendChild:function(t,e){if(!t)return null;var n,i;Array.isArray(arguments[1])?(i=arguments[1],n=0):(i=arguments,n=1);for(var r=i.length;n<r;)t.appendChild(i[n]),++n;return t},buildTree:function(t,e){if(!t)return null;for(var n=arguments,i=n.length,r=1;r<i;++r){var o,s=n[r];if(s)Array.isArray(s)?o=N.buildTree.apply(null,s):1===s.nodeType&&(o=s),o&&t.appendChild(o)}return t},removeParent:function(t){if(!t)return null;var e=t.parentNode;return e&&e.removeChild(t),e},setParent:function(t,e){return t?e?(e.appendChild(t),e):N.removeParent(t):null},removeChildren:function(t,e){if(t){var n=t.childNodes.length;for((null==e||e>n)&&(e=n);--e>=0;)t.removeChild(t.lastChild)}},setContent:function(t,e){if(t)if(e||0===e){var n=e.nodeType;1===n||3===n?e!==t.lastChild&&(N.removeChildren(t),t.appendChild(e)):Array.isArray(e)?(N.removeChildren(t),N.appendChild(t,e)):t.textContent=e}else N.removeChildren(t)},toggleAttribute:function(t,e,n){n?t.setAttribute(e,"string"==typeof n?n:""):null==n?t.hasAttribute(e)?t.removeAttribute(e):t.setAttribute(e,""):t.removeAttribute(e)},toggleClass:function(t,e,n){n?t.classList.add(e):null==n?t.classList.contains(e)?t.classList.remove(e):t.classList.add(e):t.classList.remove(e)},addClasses:function(t,e){if(t)for(var n=Array.isArray(e)?e:arguments,i=n.length,r=0;r<i;++r){var o=n[r];o&&"string"==typeof o&&t.classList.add(o)}},removeClasses:function(t,e){if(t)for(var n=Array.isArray(e)?e:arguments,i=n.length,r=0;r<i;++r){var o=n[r];o&&"string"==typeof o&&t.classList.remove(o)}},preventDefault:function(t){t.preventDefault(),t.stopPropagation()},stopPropagation:function(t){t.stopPropagation()},getClientPosition:function(t,e){var n=e||{x:0,y:0};if(t.getBoundingClientRect){var i=t.getBoundingClientRect();n.x=i.left,n.y=i.top}else n.x=t.clientX,n.y=t.clientY;return n},getRelativePosition:function(t,e,n){n=N.getClientPosition(t,n);var i=N.getClientPosition(e);return n.x-=i.x,n.y-=i.y,n},closestElement:function(t,e){for(var n=t;n;){if(n.classList&&n.classList.contains(e))return n;n=n.parentNode||n.host}return null},closestTagName:function(t,e){for(var n=t;n;){if(n.tagName&&n.tagName==e)return n;n=n.parentNode||n.host}return null}},F=function(t,e,n){var i=t[e],r=t[n];return i===r?0:i<0?1:r<0?-1:i-r},L=function(t,e){return t[e]>=0},j=function(t){if(t){var e=t.children;if(e&&e.length){var n=t.activeColumn;if(!n||e.indexOf(n)<0)return t.activeColumn=t.spreading?e[e.length-1]:e[0],!0}}return!1},B=function(){this._onPreSectionRender=this._onPreSectionRender.bind(this),this._onColumnRemoved=this._onColumnRemoved.bind(this),this._onColumnMoved=this._onColumnMoved.bind(this),this._onColumnAdded=this._onColumnAdded.bind(this),this._onBeforeBatchOperation=this._onBeforeBatchOperation.bind(this),this._onAfterBatchOperation=this._onAfterBatchOperation.bind(this),this._onPinningChanged=this._onPinningChanged.bind(this),this._onStackButtonClicked=this._onStackButtonClicked.bind(this),this._updateUI=this._updateUI.bind(this),this._toColumnId=this._toColumnId.bind(this),this._hosts=[],this._groupDefs=new E,this._conflator=new y(50,this._updateUI)};d.inherits(B,g),B.prototype._groupDefs,B.prototype._pendingStacks,B.prototype._usingField=!1,B.prototype._updating=!1,B.prototype._inReordering=0,B.prototype._inResetting=!1,B.prototype._inPinning=!1,B._runningId=0,B.prototype._generateStackId=function(){for(var t="Stack"+B._runningId++;this._groupDefs.getGroup(t);)t="Stack"+B._runningId++;return t},B.prototype.getName=function(){return"ColumnStackPlugin"},B.prototype.hasMultiTableSupport=function(){return!0},B.prototype.initialize=function(t,e){if(!(this._hosts.indexOf(t)>=0)){if(this._hosts.push(t),e&&e.icons){var n=e.icons.columnStack;n&&(this._stackIconName=n.stack,this._expandIconName=n.expand,this._collapseIconName=n.collapse)}B._applyThemeColor(t),1===this._hosts.length&&(this.config(e),t.listen("columnRemoved",this._onColumnRemoved),t.listen("columnMoved",this._onColumnMoved),t.listen("columnAdded",this._onColumnAdded),t.listen("beforeBatchOperation",this._onBeforeBatchOperation),t.listen("afterBatchOperation",this._onAfterBatchOperation),t.listen("pinningChanged",this._onPinningChanged)),t.listen("preSectionRender",this._onPreSectionRender)}},B.prototype.unload=function(t){var e=this._hosts.indexOf(t);e<0||(this._hosts.splice(e,1),t.unlisten("columnRemoved",this._onColumnRemoved),t.unlisten("columnMoved",this._onColumnMoved),t.unlisten("columnAdded",this._onColumnAdded),t.unlisten("beforeBatchOperation",this._onBeforeBatchOperation),t.unlisten("afterBatchOperation",this._onAfterBatchOperation),t.unlisten("preSectionRender",this._onPreSectionRender),t.unlisten("pinningChanged",this._onPinningChanged),this._hosts.length<=0&&(this._conflator.reset(),this._groupDefs.removeAllGroups()),this._dispose())},B._styles=function(t){if(t){var e="";if(Array.isArray(t))e=t.map(k).join("\n").replace(/{\s*{/g,"{").replace(/\s+{/g," {");else e="string"==typeof t?t:t+"";if(e)return e.replace(/{[\w\W]*?}/g,S)}return""}([".tr-grid .collapsed .cell.grouping .valigner",["width: 0;"],".tr-grid .collapsed .cell.grouping .floating-panel",["width: 100%;","margin: 0;","justify-content: center;"],".tr-grid .collapsed .cell.grouping .front-panel,.tr-grid .collapsed .cell.grouping .floating-panel *:not(.stack-icon),.tr-grid .collapsed .cell.grouping .sort-symbol",["display: none;"],".floating-panel .stack-icon",["cursor: pointer;"],".tr-grid .collapsed .cell.grouping .floating-panel .stack-icon",["margin-left: 0;"],".stack-icon",["color: var(--grid-title-filter-icon-color);"],".stack-icon:hover",["color: var(--grid-title-filter-icon-hover-color);"]]),B._applyThemeColor=function(t){t._columnStackingStyles||(t._columnStackingStyles=!0,P(B._styles,t.getElement()))},B.prototype.config=function(t){if(t){var e,n=t.columns;n||(n=[]);var i=n.length,r=t.columnStack,o="",s={},l=!1,u=null;if(r)if(this.addListener(r,"clicked"),this._usingField=!1,r.fields&&r.fields.length>1)this._usingField=!0,l=!0,s[o=this._generateStackId()]={id:o,spreading:!0===r.spreading,collapsed:!1!==r.collapsed,fields:r.fields};else if(r.stacks&&r.stacks.length){l=!0;var a=r.stacks.length;for(e=0;e<a;e++)o=(u=r.stacks[e]).id||this._generateStackId(),null==u.collapsed&&(u.collapsed=!0),null==u.spreading&&(u.spreading=!1),s[o]=u}if(!l)for(e=0;e<i;++e){var p=n[e],d=p.stackId||p.stack;if(d){o="";var c=!1,h=!0,f="";"string"==typeof d?o=d:"object"==typeof d&&(o=(u=d).id||"",c=!0===u.spreading,h=!1!==u.collapsed,f=u.activeColumn||""),o&&((d=s[o])||(d=s[o]={id:o,spreading:c,collapsed:h},f&&(d.activeColumn=f),l=!0),d.children||(d.children=[]),d.children.push(e))}}this._initializedGrid?this._applyUserConfigs(l?s:null):this._pendingStacks=this._pendingStacks||s}},B.prototype.getConfigObject=function(t){var e=t||{},n=this.getStacks();return n.length&&(e.columnStack={},e.columnStack.stacks=n),e},B.prototype._afterInit=function(){this._pendingStacks&&(this._applyUserConfigs(this._pendingStacks),this._pendingStacks=null)},B.prototype._toColumnId=function(t){return"string"!=typeof t?"number"==typeof t?this.getColumnId(t):"":t||""},B.prototype._applyUserConfigs=function(t){if(t)for(var e in this.removeAllStacks(!1),t){var n=t[e],i=n.children,r=n.fields;r&&(this._usingField=!0,i=r),this.stackColumns(i,e,n)}else this.removeAllStacks()},B.prototype._getColumnStackOptions=function(t){if(t>=0&&t<this.getColumnCount()){var e=this.getColumnId(t);return this._groupDefs.getParentGroup(e)||null}return null},B.prototype._getSelectedColumns=function(){var t=this._getPlugin("ColumnSelectionPlugin");return t&&t.isEnabled()?t.getSelectedColumns():[]},B.prototype._hideStackedColumns=function(t,e,n){if(!t.spreading||t.collapsed)for(var i="number"==typeof n?n:this.getColumnIndex(t.activeColumn),r=null,o=(r="number"==typeof e?[e]:null==r?this.getColumnIndices(t.children):e).length,s=0;s<o;++s){var l=r[s];l!==i&&this._setColumnVisibility(l,!1)}},B.prototype._setColumnVisibility=function(t,e){if(t>=0)for(var n=this._hosts.length;--n>=0;)this._hosts[n].setColumnVisibility(t,e,2)},B.prototype._moveStackedColumns=function(t){var e=this.getColumnIndices(t);e.length>1&&this.reorderColumns(e,e[0])},B.prototype._isIconAvailable=function(){return O.hasComponent("coral-icon")&&(O.hasTheme("elf-theme-solar")||O.hasTheme("elf-theme-luna"))},B.prototype._updateIcon=function(t,e){for(var n=!!e&&e.spreading,i=this._hosts.length,r=0;r<i;++r){var o=this._hosts[r],s=o.getSection("title"),l=s.getRowCount(),u=s.getCell(t,l-1,!0);if(u){var a=u._stackIcon;if(e){var p=this.isActiveStackedColumn(t);!a&&p?(n?(u.addClass("grouping"),a=this._expandIconName?e.collapsed?b.create(this._expandIconName):b.create(this._collapseIconName):e.collapsed?N.text(">"):N.text("<")):(u.addClass("stacking"),this._stackIconName?a=b.create(this._stackIconName):(a=N.text("≡")).style.fontSize="1.3em"),a.className="stack-icon",a.addEventListener("click",this._onStackButtonClicked,!1),a.addEventListener("dblclick",h,!1),a.addEventListener("mousedown",h,!1),a.addEventListener("keydown",h,!1),u.insertFloatingIcon(a,20),u._stackIcon=a,this._dispatch("iconCreated",{icon:a,colIndex:t,grid:o,cell:u})):a&&!p&&(u.removeFloatingIcon(u._stackIcon),u._stackIcon=null)}else a&&(u.removeFloatingIcon(u._stackIcon),u._stackIcon=null,u.removeClass("grouping"),u.removeClass("stacking"))}}},B.prototype._updateUI=function(){if(!this._updating&&!this._conflator.conflate()){this._updating=!0;for(var t,e,n=this.getColumnCount(),i=this._hosts.length,r=0;r<n;++r){e=!0===(e=!!(t=this._getColumnStackOptions(r))&&t.spreading);for(var o=0;o<i;++o){this._hosts[o].enableColumnClass(r,"grouped",e)}this._updateIcon(r,t),t&&(t.spreading?this._collapseMember(r,t.collapsed):this._setColumnVisibility(r,this._isActiveStackedColumn(r,t)))}this._updating=!1}},B.prototype._collapseMember=function(t,e){var n=this._getColumnStackOptions(t);if(n)for(var i=this._hosts.length;--i>=0;){var r=this._hosts[i];if(r.enableColumnClass(t,"collapsed",e),this.isActiveStackedColumn(t)){r.setColumnVisibility(t,!0,2);var o=r.getSection("title"),s=o.getRowCount(),l=o.getCell(t,s-1,!0);e?(n.collapsed===e&&n._origWidth||(n._origWidth=this._getColumnWidth(r,t),n._scalable=r.getColumnScalability(t)),r.setColumnWidth(t,o.getRowHeight(0),!1),l._stackIcon&&(this._expandIconName?l._stackIcon.setAttribute("icon","right"):l._stackIcon.textContent=">")):(null!=n._origWidth&&r.setColumnWidth(t,n._origWidth,n._scalable),l._stackIcon&&(this._collapseIconName?l._stackIcon.setAttribute("icon","left"):l._stackIcon.textContent="<"))}else r.setColumnVisibility(t,!e,2)}},B.prototype._getColumnWidth=function(t,e){if(t){var n=t.getMinimumColumnWidth(e),i=t.getColumnCustomLaneSize(e);return i<n?n:i}return NaN},B.prototype.getMemberIndices=function(t){var e=this._getColumnStackOptions(t);return e?this.getColumnIndices(e.children):null},B.prototype.collapseGroup=function(t,e){var n=this._getColumnStackOptions(t);if(!n)return null;if(!n.spreading)return null;if(e=!1!==e,n.collapsed!==e){var i=this.getColumnIndices(n.children);if(i){for(var r=i.length;--r>=0;)this._collapseMember(i[r],e);return n.collapsed=e,i}}return null},B.prototype.expandGroup=function(t){return this.collapseGroup(t,!1)},B.prototype.isColumnStackable=function(t){if(!t)return!1;for(var e=t.length,n=0;n<e;++n)if(this._getColumnStackOptions(t[n]))return!1;return!0},B.prototype.isColumnStacked=function(t){t||(t=this._getSelectedColumns());for(var e=t.length,n=0;n<e;++n)if(this._getColumnStackOptions(t[n]))return!0;return!1},B.prototype.isInactiveStackedColumn=function(t){var e=this._getColumnStackOptions(t);return!!e&&!this._isActiveStackedColumn(t,e)},B.prototype.isActiveStackedColumn=function(t){return this._isActiveStackedColumn(t,this._getColumnStackOptions(t))},B.prototype._isActiveStackedColumn=function(t,e){return!!e&&(j(e),t===this.getColumnIndex(e.activeColumn))},B.prototype.isStackingMode=function(t){var e=this._getColumnStackOptions(t);return!!e&&!0!==e.spreading},B.prototype.isCollapsingMode=function(t){var e=this._getColumnStackOptions(t);return!!e&&!0===e.spreading},B.prototype.isColumnInCollection=function(t){return!!this._getColumnStackOptions(t)},B.prototype.isInCollection=B.prototype.isColumnInCollection,B.prototype.isColumnCollapsed=function(t){var e=this._getColumnStackOptions(t);return!!e&&(!0===e.spreading&&!0===e.collapsed)},B.prototype.isColumnActive=function(t){var e=this._getColumnStackOptions(t);return!!e&&(e.spreading?!e.collapsed:t===this.getColumnIndex(e.activeColumn))},B.prototype.getStackId=function(t){var e="number"==typeof t?t:this.getColumnIndex(t);if(e>=0){var n=this._getColumnStackOptions(e);if(n)return n.id||""}return""},B.prototype.stackColumns=function(t,e,n){var i=!1,r=e;if(r?this._removeStack(r)&&(i=!0):r=this._generateStackId(),t||(t=this._getSelectedColumns()),(t?t.length:0)<2)return i&&this._updateUI(),i;n||(n={});var o=!0===n.spreading,s=!1!==n.collapsed,l=n.activeColumn||"",u={};if(u.id=r,u.name=n.name||"",u.spreading=o,u.collapsed=s,u.activeColumn=l,!this._initializedGrid){var a=this._pendingStacks;return a||(a=this._pendingStacks={}),u.children=t,a[r]=u,!1}var p=this.getColumnIndices(t);if(!this.isColumnStackable(p))return i&&this._updateUI(),i;var d=p.map(this._toColumnId);u.children=d;var c=-1;l&&"string"==typeof l?(c=this.getColumnIndex(l),u.activeColumn=l=this.getColumnId(c)):"number"==typeof l&&(c=l),j(u)&&(l=u.activeColumn,c=this.getColumnIndex(l)),this._hideStackedColumns(u,p,c),this.reorderColumns(p,p[0]);var h=p.length;if(!o){var f=this._getPlugin("ColumnSelectionPlugin");if(f&&f.isEnabled()){for(var g=!1,m=0;m<h;++m){var _=p[m];if(_!==c&&f.isSelectedColumn(_)){g=!0;break}}g&&(f.selectSingleColumn(c),f.dispatchSelectionChanged&&f.dispatchSelectionChanged())}}this._verifyColumnPinning(u),this._groupDefs.setGroup(r,u);var v=this._getPlugin("ColumnFilterPlugin");return v&&v.refresh(),this._updateUI(),!0},B.prototype._verifyColumnPinning=function(t){t.leftPinned=!1,t.rightPinned=!1;var e=this._hosts[0],n=e.getFrozenColumnCount()-1,i=e.getFirstPinnedRightIndex(),r=this.getColumnCount();if(!(n<0&&i===r)){for(var o=this.getColumnIndices(t.children),s=o[0],l=o[0],u=1;u<o.length;u++){var a=o[u];a>l&&(l=a),a<s&&(s=a)}s<=n?(t.leftPinned=!0,l>n&&this._freezeColumn(l,r-i)):l>=i&&(t.rightPinned=!0,s<i&&this._freezeColumn(n,r-s))}},B.prototype._freezeColumn=function(t,e){this._inPinning=!0;for(var n=this._hosts,i=0;i<n.length;i++)n[i].freezeColumn(t,e);this._inPinning=!1},B.prototype.setStack=function(t,e){this.removeAllStacks();var n={};return e&&(n.activeColumn=e),this.stackColumns(t,"_uniqueStack",n),!0},B.prototype.setStacks=function(t){this.removeAllStacks();for(var e=t?t.length:0,n=0;n<e;++n){var i=t[n];i&&i.children&&this.stackColumns(i.children,i.id,i)}},B.prototype.getStacks=function(){var t=this._groupDefs.getGroupMap(),e=[];for(var n in t){var i=t[n],r=i.id,o={id:r},s=i.name,l=i.collapsed,u=i.spreading;if(s&&(o.name=s),!0!==l&&(o.collapsed=l),!1!==u&&(o.spreading=u),this._usingField){for(var a=this.getStackMemberIndices(r),p=a.length,d=new Array(p),c=0;c<p;++c)d[c]=this.getColumnField(a[c]);o.fields=d,o.activeColumn=this.getActiveColumnField(r)}else o.children=this.getStackMemberIds(r).slice(),i.activeColumn&&(o.activeColumn=i.activeColumn);e.push(o)}return e},B.prototype.unstackColumns=function(t){t||(t=this._getSelectedColumns());for(var e=!1,n=t.length,i=0;i<n;++i){var r=t[i],o=this._getColumnStackOptions(r);o&&(e=!0,this._removeStack(o.id))}if(e){var s=this._getPlugin("ColumnFilterPlugin");s&&s.refresh(),this._updateUI()}return e},B.prototype._removeStack=function(t){var e=this._groupDefs.getGroup(t);if(!e)return!1;for(var n=this.getColumnIndices(e.children),i=n.length,r=0;r<i;++r){var o=n[r];e.spreading&&e.collapsed&&this._collapseMember(o,!1),this._setColumnVisibility(o,!0)}return this._groupDefs.removeGroup(t),!0},B.prototype.removeStack=function(t){return!!this._removeStack(t)&&(this._updateUI(),!0)},B.prototype.removeAllStacks=function(t){var e=this._groupDefs.getGroupIds(),n=e.length;if(n){for(var i=0;i<n;++i)this._removeStack(e[i]);this._groupDefs.removeAllGroups(),!1!==t&&this._updateUI()}return!!n},B.prototype.setActiveColumn=function(t){var e=this.getColumnIndex(t);if(e<0)return!1;if(e>=this.getColumnCount())return!1;var n=this.getColumnId(e),i=this._groupDefs.getParentGroup(n);if(!i)return!1;var r=i.children,o=r.indexOf(n);return!(o<0)&&this._setActiveColumn(i,r[o])},B.prototype.swapColumn=function(t,e){var n="number"==typeof t?t:this.getColumnIndex(t),i=this._getColumnStackOptions(n);if(!i)return!1;var r=i.children;return!!r&&this._setActiveColumn(i,r[e])},B.prototype._setActiveColumn=function(t,e){if(!e)return!1;if(e===t.activeColumn)return!1;var n=this.getColumnIndex(t.activeColumn),i=this.getColumnIndex(e);t.activeColumn=e,this._setColumnVisibility(i,!0),this._setColumnVisibility(n,!1),this._updateIcon(n,t),this._updateIcon(i,t);var r=this._getPlugin("ColumnSelectionPlugin");r&&r.isEnabled()&&(r.selectSingleColumn(i),r.dispatchSelectionChanged&&r.dispatchSelectionChanged());var o=this._getPlugin("ColumnFilterPlugin");return o&&o.refresh(),!0},B.prototype._onPreSectionRender=function(t){"title"===t.sectionType&&this._updateUI()},B.prototype._onColumnRemoved=function(t){if(!this._inResetting){var e=t.colId,n=this._groupDefs.getParentGroup(e);if(n)n.children.length<=2?(this._removeStack(n.id),this._updateUI()):(this._groupDefs.removeGroupChild(n.id,e),this._updateActiveColumn(n))}},B.prototype._onColumnMoved=function(t){if(this._inReordering||this._inResetting)this._inReordering&&(this._inReordering=2);else{var e=t.toColIndex,n=this.getColumnId(e),i=this._groupDefs.getParentGroup(n);if(i){var r=this._getColumnStackOptions(e-1),o=this._getColumnStackOptions(e+1),s=!0,l=!1;i&&(i===r||i===o?(this._repositionMembers(i),s=!1):i.children.length<=2?this._removeStack(i.id):this._removeRefFromStack(i,n,e),l=!0),s&&this._isWithinStack(e)&&this._addRefToStack(r,e)&&(l=!0),l&&this._updateUI()}}},B.prototype._onColumnAdded=function(t){if(!this._inResetting){var e=t.colIndex,n=this._isWithinStack(e);n&&this._addRefToStack(n,e)&&this._updateUI()}},B.prototype._onBeforeBatchOperation=function(t){"reset"===t.batchType?this._inResetting=!0:"move"===t.batchType&&(this._inReordering=1)},B.prototype._onAfterBatchOperation=function(t){var e,n,i,r;if("reset"===t.batchType){for(this._inResetting=!1,n=(e=this._groupDefs.getGroups()).length,i=0;i<n;++i)this._repositionMembers(e[i],!0);for(n=(e=this._groupDefs.getGroups()).length,i=0;i<n;++i)r=e[i],this._updateActiveColumn(r),this._hideStackedColumns(r)}else if("move"===t.batchType){if(2===this._inReordering)for(n=(e=this._groupDefs.getGroups()).length,i=0;i<n;++i)this._repositionMembers(e[i]);this._inReordering=0}},B.prototype._onPinningChanged=function(t){if(!this._inPinning)for(var e=this._groupDefs.getGroups(),n=0;n<e.length;n++)this._verifyColumnPinning(e[n])},B.prototype._isWithinStack=function(t){var e=this._getColumnStackOptions(t-1);if(e&&e===this._getColumnStackOptions(t+1))return e;return null},B.prototype._addRefToStack=function(t,e){var n=this._toColumnId(e);this._hideStackedColumns(t,e);var i=this._toColumnId(e+1),r=t.children.indexOf(i);return this._groupDefs.addGroupChild(t.id,n,r)},B.prototype._removeRefFromStack=function(t,e,n){return!!this._groupDefs.removeGroupChild(t.id,e)&&(t.spreading&&t.collapsed?this._collapseMember(n,!1):this._setColumnVisibility(n,!0),this._updateActiveColumn(t),!0)},B.prototype._repositionMembers=function(t,e){for(var n=t.children,i=n?n.length:0,r={},o=-1,s=!1,l=!1,u=0;u<i;u++){var a=n[u],p=this.getColumnIndex(a);r[a]=p,p>=0?p<o&&(s=!0):l=!0,o=p}e&&l&&(n=n.filter(L.bind(null,r)),this._groupDefs.removeAllChildren(t.id),t.children=n,this._groupDefs.setGroup(t.id,t),i=n.length),i<2?e&&(this._removeStack(t.id),this._updateUI()):(s||l)&&n.sort(F.bind(null,r))},B.prototype._onStackButtonClicked=function(t){var e=t.currentTarget;if(!t.button){var n=this.getRelativeGrid(t).getRelativePosition(t),i=n.colIndex,r=this._getColumnStackOptions(i);if(r){t.stopPropagation();var o=r.children,s=this.getColumnIndices(o);if(r.spreading){var l=!r.collapsed;this.collapseGroup(i,l),n.menuData=null,n.activeIndex=-1,n.collapsed=l}else{for(var u=o.indexOf(r.activeColumn),a=o.length,p=new Array(a),d=a;--d>=0;)p[d]={value:d,selected:d===u,label:this.getColumnName(s[d]),field:this.getColumnField(s[d])};n.menuData=p,n.activeIndex=u,n.collapsed=!1}n.spreading=r.spreading,n.columnIndices=s,n.activeColIndex=this.getColumnIndex(r.activeColumn),n.event=t,n.stackId=r.id,e.focus(),this._dispatch("clicked",n)}}},B.prototype.getStackMemberIndices=function(t){return this.getColumnIndices(this.getStackMemberIds(t))},B.prototype.getStackMemberIds=function(t){if(t){var e=this._groupDefs.getGroup(t);if(e)return e.children}return[]},B.prototype.getColumnIdsByIndex=function(t){Array.isArray(t)||(t=[t]);for(var e,n=[],i=0;i<t.length;++i)e=this.getColumnId(t[i]),n.push(e);return n},B.prototype.getColumnIndicesByColumnIds=function(t){Array.isArray(t)||(t=[t]);for(var e,n=[],i=0;i<t.length;++i)e=this.getColumnIndex(t[i]),n.push(e);return n},B.prototype.getColumnIdsByFields=function(t){if(!t)return[];for(var e=Array.isArray(t)?t:[t],n=t.length,i=new Array(n),r=0;r<n;++r){var o=e[r],s=-1;"number"==typeof o?s=o:o&&"string"==typeof o&&(s=this.getColumnIndex(o)),i[r]=s>=0?this.getColumnId(s):""}return i},B.prototype.addColumnToStack=function(t,e){var n=this._toColumnId(t),i=this._groupDefs.getGroup(e);if(!this._groupDefs.getParentGroup(n)&&i){this._hideStackedColumns(i,this.getColumnIndex(n)),this._groupDefs.addGroupChild(e,n);var r=this._hosts[0],o=r.getFrozenColumnCount()-1,s=r.getPinnedRightColumnCount(),l=this.getColumnIndex(n);this._moveStackedColumns(i.children),(i.leftPinned||i.rightPinned)&&(i.leftPinned&&l>o?(o++,this._freezeColumn(o,s)):i.rightPinned&&l<colCount-s&&(s++,this._freezeColumn(o,s))),this._updateUI()}},B.prototype.removeColumnFromStack=function(t){var e="string"==typeof t?this.getColumnIndex(t):t;if(!(e<0)){var n=this.getColumnId(e),i=this._groupDefs.getParentGroup(n);if(i){var r=i.children,o=r.length;if(o<=2)return 2===o&&n===r[0]&&this.moveColumnById(e,this.getColumnIndex(r[1])+1),void this.removeStack(i.id);var s=this.getColumnIndices(r);this._removeRefFromStack(i,t,e),this.moveColumnById(e,s[o-1]+1),this._updateUI()}}},B.prototype.reorderStackColumns=function(t,e){if(this._groupDefs.getGroup(e)&&t&&t.length){var n=this.getColumnIndices(t);if(n.length){for(var i=this.getStackMemberIndices(e),r=i.length,o={},s=0;s<r;++s){var l=i[s];o[l]=n.indexOf(l)}i.sort(F.bind(null,o)),this.reorderColumns(i,i[0])}}},B.prototype.setStackName=function(t,e){this._groupDefs.setGroupName(t,e)},B.prototype.getStackName=function(t){return this._groupDefs.getGroupName(t)},B.prototype.getActiveColumnId=function(t){var e=this._groupDefs.getGroup(t);return e&&e.activeColumn||""},B.prototype.getActiveColumnField=function(t){return this.getColumnField(this.getActiveColumnIndex(t))},B.prototype.getActiveColumnIndex=function(t){var e=this._groupDefs.getGroup(t);return e?this.getColumnIndex(e.activeColumn):-1},B.prototype.addStackChild=function(t,e){this.addColumnToStack(e,t)},B.prototype.removeStackChild=function(t,e){t===this.getStackId(e)&&this.removeColumnFromStack(colIndex)},B.prototype.unsetParent=B.prototype.removeColumnFromStack,B.prototype.reorderColumns=function(t,e){return this._reorderColumns(t,e)},B.prototype.moveColumnById=function(t,e){return this._moveColumnById(t,e)},B.prototype._setStackVisibility=function(t,e){var n=this._groupDefs.getGroup(t);if(n)if(n.spreading&&!n.collapsed)for(var i=n.children,r=0;r<i.length;r++)this._setColumnVisibility(this.getColumnIndex(i[r]),e);else{var o=this.getColumnIndex(n.activeColumn);this._setColumnVisibility(o,e)}},B.prototype._updateActiveColumn=function(t){if(j(t)){var e=this.getColumnIndex(t.activeColumn);e>=0&&(this._setColumnVisibility(e,!0),this._updateUI())}},B.prototype.hideStack=function(t){t&&this._setStackVisibility(t,!1)},B.prototype.showStack=function(t){t&&this._setStackVisibility(t,!0)},B.prototype.isStackHidden=function(t){var e=this._groupDefs.getGroup(t),n=this._host||this._hosts[0];if(!e||!n)return null;var i=this.getColumnIndex(e.activeColumn);return!n.isColumnVisible(i)},B.prototype.moveStack=function(t,e){if(!t)return!1;var n=this.getStackMemberIds(t);return this.reorderColumns(n,e)},B.prototype.pinStack=function(t,e){if(t){var n=this._groupDefs.getGroup(t);if(n){var i,r=this._hosts[0],o=r.getFrozenColumnCount()-1,s=r.getPinnedRightColumnCount(),l=this.getColumnCount(),u=this.getStackMemberIds(t),a=u.length;if("right"===e){if(n.rightPinned)return;n.leftPinned&&(this.unpinStack(t),o=r.getFrozenColumnCount()-1),n.rightPinned=!0,i=l-s,s+=a}else{if(n.leftPinned)return;n.rightPinned&&(this.unpinStack(t),s=r.getPinnedRightColumnCount()),n.leftPinned=!0,i=-1===o?0:o+1,o+=a}this.reorderColumns(u,i),this._freezeColumn(o,s)}}},B.prototype.unpinStack=function(t,e){if(t){var n=this._groupDefs.getGroup(t);if(n&&(n.leftPinned||n.rightPinned)){var i=this._hosts[0],r=i.getFrozenColumnCount(),o=i.getPinnedRightColumnCount(),s=this.getColumnCount()-o,l=this.getStackMemberIds(t),u=l.length,a=null;if(null!=e){var p=this.getColumnIndex(e);a=this.getColumnId(p)}n.leftPinned?(n.leftPinned=!1,this.reorderColumns(l,r),this._freezeColumn(r-(1+u))):n.rightPinned&&(n.rightPinned=!1,this.reorderColumns(l,s),this._freezeColumn(r-1,o-u)),null!=a&&this.reorderColumns(l,a)}}};!function(t,e){if(t&&e&&e.prototype.getName){var n=e.prototype.getName().replace(/Plugin$/,"");if(n){var i=t.tr;i||(i=t.tr={});var r=i.grid;r||(r=i.grid={}),r[n+"Plugin"]=e,i[n+"Extension"]=e}}}(window,B)}]);