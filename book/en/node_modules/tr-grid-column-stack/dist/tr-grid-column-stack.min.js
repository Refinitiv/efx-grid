!function(t){var e={};function n(i){if(e[i])return e[i].exports;var o=e[i]={i:i,l:!1,exports:{}};return t[i].call(o.exports,o,o.exports,n),o.l=!0,o.exports}n.m=t,n.c=e,n.d=function(t,e,i){n.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:i})},n.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},n.t=function(t,e){if(1&e&&(t=n(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var i=Object.create(null);if(n.r(i),Object.defineProperty(i,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var o in t)n.d(i,o,function(e){return t[e]}.bind(null,o));return i},n.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p="",n(n.s=1)}([function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"c",(function(){return prettifyCss})),__webpack_require__.d(__webpack_exports__,"a",(function(){return injectCss})),__webpack_require__.d(__webpack_exports__,"b",(function(){return nestedObjectToArray})),__webpack_require__.d(__webpack_exports__,"d",(function(){return rgb2Hex}));var Util={post:function(t,e){return Util._post(t,e).then(Util.toJSON)},requestText:function(t,e){return Util._post(t,e,"text/plain").then(Util.toText)},requestByUrlEncoded:function(t,e){return Util._post(t,e,"application/x-www-form-urlencoded").then(Util.toJSON)},toJSON:function(t){return Util._logError(t)?Promise.reject(t):t.json()},toText:function(t){return Util._logError(t)?Promise.reject(t):t.text()},_logError:function(t){return!!(t&&t.status>=300)&&(console.log("Response "+t.status+": "+t.statusText),!0)},_post:function(t,e,n){var i={method:e?"POST":"GET",headers:{"Content-Type":n||"application/json"}};return e&&(i.body="string"==typeof e?e:JSON.stringify(e)),fetch(t,i)}},extendObject=function(t,e,n){if(!t)return null;if(!e||t===e)return t;var i;if(n)for(var o=n.length,r=0;r<o;++r)(i=n[r])&&extendProperty(t,e,i);else for(i in e)extendProperty(t,e,i);return t},cloneObject=function(t,e){return extendObject({},t,e)},arrayToObject=function(t,e){if(!Array.isArray(t))return t;if(!e)return null;var n=t;t={};for(var i=n.length,o=0;o<i;++o){var r=e[o];r&&void 0!==n[o]&&(t[r]=n[o])}return t},extendProperty=function(t,e,n){var i=e[n];if(null!=i){var o=t[n];Array.isArray(o)?t[n]=o.concat(i):Array.isArray(i)&&o?t[n]=i.concat(o):t[n]=i}},extendArrayProperty=function(t,e,n){var i=null;if(n){var o=t[e];i=o?Array.isArray(o)?o:t[e]=[o]:t[e]=[],Array.isArray(n)?n.length&&(n.length>1?Array.prototype.push.apply(i,n):i.push(n[0])):i.push(n)}return i},_bracketExp=new RegExp(/\[[^\[]*\]/g),parseCondition=function(expression){if(!expression)return null;if("string"!=typeof expression)return"function"==typeof expression?expression:null;for(var brackets=expression.match(_bracketExp),map={},fields=[],len=brackets?brackets.length:0,i=len;--i>=0;){var field=brackets[i];map[field]||(map[field]="f["+fields.length+"]",fields.push(field.substring(1,field.length-1)))}expression=expression.replace(_bracketExp,(function(t){return"rowData["+map[t]+"]"}));var finalExp="(function(f, rowData) { return ("+expression+"); })",fn=null;try{fn=eval(finalExp),fn=fn.bind(null,fields)}catch(t){console.log(t.message)}return fn||null},_encloseBracket=function(t){return Array.isArray(t)?"{\n"+t.join("\n")+"\n}":t},_indentBracketContent=function(t){return t.replace(/\n+/g,"\n\t").replace(/\n\t}$/,"\n}")},prettifyCss=function(t){if(t){var e="";if(Array.isArray(t))e=t.map(_encloseBracket).join("\n").replace(/{\s*{/g,"{").replace(/\s+{/g," {");else e="string"==typeof t?t:t+"";if(e)return e.replace(/{[\w\W]*?}/g,_indentBracketContent)}return""},getShadowRoot=function(t){var e;if(t&&(t.shadowRoot?e=t.shadowRoot:t.getRootNode&&(e=t.getRootNode()),e&&e!==document&&e!==t))return e;return null},injectCss=function(t,e){if(!t)return null;var n=document.createElement("style");n.textContent="\n"+t+"\n";var i,o=getShadowRoot(e),r=!0;return o||(r=!1,o=document.head),r&&o.children&&o.children.length&&(i=o.children[0]),i?o.insertBefore(n,i):o.appendChild(n),n},isIE=function(){var t=window.navigator.userAgent;return t.indexOf("MSIE ")>0||t.indexOf("Trident/")>0||t.indexOf("Edge/")>0},isMac=function(){return/Mac/.test(navigator.platform)},isTouchDevice=function(){return!!(navigator.maxTouchPoints&&navigator.maxTouchPoints<256||navigator.msMaxTouchPoints&&navigator.msMaxTouchPoints<256)},nestedObjectToArray=function(t,e){for(var n in e||(e=[]),t){var i=t[n];"object"==typeof i?nestedObjectToArray(i,e):e.push(i)}return e},rgb2Hex=function(t){if(!t||"string"!=typeof t)return"";if("#"===t.charAt(0))return t;var e=t.match(/\d+/g);if(!e||e.length<3)return t;for(var n="#",i=0;i<3;i++){var o=+e[i];o>=16||(n+="0"),n+=o?o.toString(16).toUpperCase():"0"}return n},prepareTSVContent=function(t){if(null==t)return"";var e="string"==typeof t?t:t.toString();return e.length?(e.indexOf("\n")>=0&&(e=e.replace(/[\r\n]/g," ")),e.indexOf("\t")>=0&&(e=e.replace(/\t/g," "))," "!==e.charAt(0)&&" "!==e.charAt(e.length-1)||(e=e.trim()),e):""},_unused_webpack_default_export=Util},function(t,e,n){"use strict";n.r(e);var i={inherits:function(t,e){function n(){}n.prototype=e.prototype,t.prototype=new n,t.prototype.constructor=t,t.base=function(t,n,i){n||(n="constructor");for(var o=arguments.length,r=new Array(o),s=2;s<o;s++)r[s-2]=arguments[s];return e.prototype[n].apply(t,r)}}},o=function(){};o.prototype._events=null,o.prototype._listenerCount=0,o.prototype.addEventListener=function(t,e){if(t&&e){this._events||(this._events={});var n=this._events[t];n?n.indexOf(e)<0&&(n.push(e),++this._listenerCount):(this._events[t]=[e],++this._listenerCount)}},o.prototype.removeEventListener=function(t,e){var n=this._events?this._events[t]:null;if(n){var i=n.indexOf(e);i>=0&&(n.splice(i,1),--this._listenerCount)}},o.prototype.removeAllEventListeners=function(){this._events=null,this._listenerCount=0},o.prototype.hasListener=function(t){if(this._listenerCount){if(t){var e=this._events?this._events[t]:null;return!!e&&e.length>0}return!0}return!1},o.prototype.getListener=function(t,e){if(t){var n=this._events?this._events[t]:null;if(n)return e||(e=0),n[e]||null}return null},o.prototype.addListener=function(t,e){var n=t?t[e]:null;"function"==typeof n&&this.addEventListener(e,n)},o.prototype._prepareEventArguments=function(t,e){return e},o.prototype._dispatch=function(t,e){var n=this._events?this._events[t]:null;if(n){e=this._prepareEventArguments(t,e);for(var i=n.length,o=0;o<i;++o)n[o](e)}};o.preventDefault=function(t){t&&t.preventDefault&&(t.preventDefault(),t.stopPropagation())};var r=function(t,e,n){this.resolve=this.resolve.bind(this),this.reject=this.reject.bind(this),"function"==typeof t&&(this._resolveHandler=t),"function"==typeof e&&(this._rejectHandler=e),null!=n&&(this._ctx=n),this.promise=new Promise(function(t,e){this._resolve=t,this._reject=e}.bind(this))};r.prototype.promise=null,r.prototype._resolve=null,r.prototype._reject=null,r.prototype._resolveHandler=null,r.prototype._rejectHandler=null,r.prototype._ctx=null,r.prototype.resolve=function(t){if(this._resolve){if(this._resolveHandler){var e=this._resolveHandler(t,this._ctx||this);null!=e&&(t=e)}this._resolve(t),this._finally()}},r.prototype.reject=function(t){if(this._reject){if(this._rejectHandler){var e=this._rejectHandler(t,this._ctx||this);null!=e&&(t=e)}this._reject(t),this._finally()}},r.prototype._finally=function(){this._ctx=this._resolveHandler=this._rejectHandler=null,this._resolve=this._reject=null};var s=function(){};i.inherits(s,o),s.prototype._hosts=null,s.prototype._compositeGrid=null,s.prototype._realTimeGrid=null,s.prototype._rowGetter=null,s.prototype._initializedGrid=!1,s.prototype.listen=s.prototype.addEventListener,s.prototype.unlisten=s.prototype.removeEventListener,s.prototype.afterInit=function(t,e,n){var i=null;n&&n.getCoreGrid&&(i=n.getCoreGrid()),i&&(this.getGridApi()||this.setGridWrapper("compositegrid",n),this._compositeGrid&&i.loadPlugin(this,e)),this._initializedGrid||(this._initializedGrid=!0,this._rowGetter=this._realTimeGrid?a:l,this._afterInit())},s.prototype._afterInit=function(){},s.prototype._dispose=function(){this._hosts&&(this._hosts.length||(this._compositeGrid=this._realTimeGrid=null,this._initializedGrid=!1))},s.prototype.hasMultiTableSupport=function(){return!1},s.prototype._prepareEventArguments=function(t,e){return e||(e={}),e.api=this.getGridApi(),e},s.prototype.getName=function(){return"GridPlugin"},s.prototype.initialize=function(t,e){},s.prototype.unload=function(t){this._dispose()},s.prototype.getRelativeGrid=function(t){var e=null;if(t.target){var n=(e=t.target).api;if(n&&n.getCoreGrid)return n.getCoreGrid()}else t.getElement?e=t.getElement():1===t.nodeType&&(e=t);if(e)for(var i=this._hosts.length;--i>=0;){var o=this._hosts[i];if(o.getElement().contains(e))return o}return null},s.prototype.setGridWrapper=function(t,e){t&&("compositegrid"===(t=t.toLowerCase())?this._compositeGrid=e:"realtimegrid"===t&&(this._realTimeGrid=e))},s.prototype.getGridApi=function(t){if(null==t)return this._compositeGrid||this._realTimeGrid;var e="number"==typeof t?this._hosts[t]:t;return e&&e._wrapper||null},s.prototype.getColumnName=function(t){if(this._compositeGrid){var e=this._compositeGrid.getColumnModel(t);if(e)return e.title?e.title:e.field}else{var n=this.getColumnIndex(t),i=this._realTimeGrid.getColumnDefinition(n);if(i)return i.getName()}return""},s.prototype.getColumnIndex=function(t){if("number"==typeof t)return t;if(this._compositeGrid)return this._compositeGrid.getColumnIndex(t);for(var e=this._realTimeGrid,n=e.getColumnCount(),i=0;i<n;++i){var o=e.getColumnDefinition(i);if(o&&o.getId()===t)return i}return-1},s.prototype.getColumnIndices=function(t){if(this._compositeGrid){for(var e,n=this._compositeGrid.getColumnFields(),i=this._compositeGrid.getColumnCount(),o=[],r=0;r<t.length;r++)if("number"==typeof(e=t[r]))e>=0&&e<i&&o.push(e);else{var s=n.indexOf(e);-1!==s&&o.push(s)}return o}return this._realTimeGrid.getColumnIndices(t)},s.prototype.getColumnId=function(t){if("string"==typeof t)return t;if(this._compositeGrid)return this._compositeGrid.getColumnId(t);var e=this._realTimeGrid.getColumnDefinition(t);return e?e.getId():""},s.prototype.getColumnCount=function(){if(this._hosts){var t=this._hosts[0];return t?t.getColumnCount():0}return 0},s.prototype._loadPlugin=function(t,e,n){return t||(t=e.getPlugin(n))||(t=e.loadPlugin(n))&&this._initializedGrid&&(t._initializedGrid=!0),t},s.prototype._requestPlugin=function(t,e,n){return this._initializedGrid?s.requestPlugin(t,e,n,this._compositeGrid,this._realTimeGrid):Promise.reject("Plugin should be requested after the initialization")},s.requestPlugin=function(t,e,n,i,o){var l=null;if(t){var a=null;1===t.nodeType?a=t.api:t.getCoreGrid?a=t:t.getPlugin&&(l=t),a&&(l=a.getCoreGrid(),i||o||(a.getModel?i=a:o=a))}if(!l)return Promise.reject("Cannot find grid element");var u=l.getPlugin(e);if(u)return Promise.resolve(u);var c=new r;return setTimeout(s._onPluginRequested.bind(null,{grid:l,pluginRef:e,compositeGrid:i,realTimeGrid:o,config:n,deferred:c}),10),c.promise},s._onPluginRequested=function(t){var e=t.grid;if(!e.getElement())return t.deferred.reject("Grid has been disposed before the plugin is fully loaded: "+t.pluginRef);var n=e.getPlugin(t.pluginRef);if(n)return t.deferred.resolve(n);var i=!1;return t.pluginRef.beforeInit&&(i=!0,t.pluginRef.beforeInit(e.getElement(),t.config,!0)),(n=e.loadPlugin(t.pluginRef,t.config))?(!i&&n.beforeInit&&(i=!0,n.beforeInit(e.getElement(),t.config)),n.setGridWrapper&&(t.compositeGrid?n.setGridWrapper("compositegrid",t.compositeGrid):t.realTimeGrid&&n.setGridWrapper("realtimegrid",t.realTimeGrid)),n.afterInit&&n.afterInit(),t.deferred.resolve(n)):t.deferred.reject("Unable to load required dependency: "+t.pluginRef)},s.prototype._getPlugin=function(t,e){return null==e&&(e=this._hosts[0]),e?e.getPlugin(t):null},s.prototype._getColumnData=function(t,e){return null==e&&(e=this._hosts[0]),e?e.getColumnData(t):null},s.prototype._getColumnOption=function(t,e,n){var i=this._getColumnData(t,n);return i?i[e]:null},s.prototype._newColumnData=function(t,e){if(null==e&&(e=this._hosts[0]),!e)return{};var n=e.getColumnData(t);return n||(n=e.setColumnData(t,{})),n},s.prototype._getField=function(t){var e=this._compositeGrid||this._realTimeGrid;return e?e.getColumnField(t):""},s.prototype._getRowData=function(t){return this._realTimeGrid&&t?t.ROW_DEF.getRowData():t},s.prototype._getRow=function(t,e){return u(t.getRowDataAt(e))},s.prototype._getData=function(t,e,n){var i=this._getRow(t,e);return i?i[n]:void 0},s.prototype._setData=function(t,e,n,i){if(this._realTimeGrid){var o=t.getRowDataAt(e);o&&o.ROW_DEF.setData(n,i)}else t.setDataAt(e,n,i)},s.prototype._setRowData=function(t,e,n){if(this._realTimeGrid){var i=t.getRowDataAt(e);i&&i.ROW_DEF.setRowData(n)}else t.setRowDataAt(e,n)},s.prototype._setColumnData=function(t,e,n,i){if(i=i||t.getAllRowIds()||[],this._realTimeGrid){for(var o=t.getDataSource(),r=o.freeze(),s=n.length<i.length?n.length:i.length,l=0;l<s;++l){var a=t.getRowData(i[l]);a&&a.ROW_DEF.setData(e,n[l])}o.freeze(r)}else t.setColumnData(e,n,i)},s.prototype._activateColumnRenderer=function(t,e,n){if(null!=t){var i=this._realTimeGrid;i?i.activateColumnRenderer(t,e,n):"function"==typeof n?this._hosts[0].setColumnDataBindingHandler(t,n):this._hosts[0].setColumnDataBindingHandler(t,null)}};var l=function(t){return t},a=function(t){return t?t.ROW_DEF.getRowData():null},u=function(t){if(t){var e=t.ROW_DEF;return e?e.getRowData():t}return null},c={inherits:function(t,e){function n(){}n.prototype=e.prototype,t.prototype=new n,t.prototype.constructor=t,t.base=function(t,n,i){n||(n="constructor");for(var o=arguments.length,r=new Array(o),s=2;s<o;s++)r[s-2]=arguments[s];return e.prototype[n].apply(t,r)}}},p=function(){};p.prototype._events=null,p.prototype._listenerCount=0,p.prototype.addEventListener=function(t,e){if(t&&e){this._events||(this._events={});var n=this._events[t];n?n.indexOf(e)<0&&(n.push(e),++this._listenerCount):(this._events[t]=[e],++this._listenerCount)}},p.prototype.removeEventListener=function(t,e){var n=this._events?this._events[t]:null;if(n){var i=n.indexOf(e);i>=0&&(n.splice(i,1),--this._listenerCount)}},p.prototype.removeAllEventListeners=function(){this._events=null,this._listenerCount=0},p.prototype.hasListener=function(t){if(this._listenerCount){if(t){var e=this._events?this._events[t]:null;return!!e&&e.length>0}return!0}return!1},p.prototype.getListener=function(t,e){if(t){var n=this._events?this._events[t]:null;if(n)return e||(e=0),n[e]||null}return null},p.prototype.addListener=function(t,e){var n=t?t[e]:null;"function"==typeof n&&this.addEventListener(e,n)},p.prototype._prepareEventArguments=function(t,e){return e},p.prototype._dispatch=function(t,e){var n=this._events?this._events[t]:null;if(n){e=this._prepareEventArguments(t,e);for(var i=n.length,o=0;o<i;++o)n[o](e)}};var d=function(t){t&&t.preventDefault&&(t.preventDefault(),t.stopPropagation())};p.preventDefault=d;var f=function(t,e,n){this.resolve=this.resolve.bind(this),this.reject=this.reject.bind(this),"function"==typeof t&&(this._resolveHandler=t),"function"==typeof e&&(this._rejectHandler=e),null!=n&&(this._ctx=n),this.promise=new Promise(function(t,e){this._resolve=t,this._reject=e}.bind(this))};f.prototype.promise=null,f.prototype._resolve=null,f.prototype._reject=null,f.prototype._resolveHandler=null,f.prototype._rejectHandler=null,f.prototype._ctx=null,f.prototype.resolve=function(t){if(this._resolve){if(this._resolveHandler){var e=this._resolveHandler(t,this._ctx||this);null!=e&&(t=e)}this._resolve(t),this._finally()}},f.prototype.reject=function(t){if(this._reject){if(this._rejectHandler){var e=this._rejectHandler(t,this._ctx||this);null!=e&&(t=e)}this._reject(t),this._finally()}},f.prototype._finally=function(){this._ctx=this._resolveHandler=this._rejectHandler=null,this._resolve=this._reject=null};var h=function(){};c.inherits(h,p),h.prototype._hosts=null,h.prototype._compositeGrid=null,h.prototype._realTimeGrid=null,h.prototype._rowGetter=null,h.prototype._initializedGrid=!1,h.prototype.listen=h.prototype.addEventListener,h.prototype.unlisten=h.prototype.removeEventListener,h.prototype.afterInit=function(t,e,n){var i=null;n&&n.getCoreGrid&&(i=n.getCoreGrid()),i&&(this.getGridApi()||this.setGridWrapper("compositegrid",n),this._compositeGrid&&i.loadPlugin(this,e)),this._initializedGrid||(this._initializedGrid=!0,this._rowGetter=this._realTimeGrid?_:m,this._afterInit())},h.prototype._afterInit=function(){},h.prototype._dispose=function(){this._hosts&&(this._hosts.length||(this._compositeGrid=this._realTimeGrid=null,this._initializedGrid=!1))},h.prototype.hasMultiTableSupport=function(){return!1},h.prototype._prepareEventArguments=function(t,e){return e||(e={}),e.api=this.getGridApi(),e},h.prototype.getName=function(){return"GridPlugin"},h.prototype.initialize=function(t,e){},h.prototype.unload=function(t){this._dispose()},h.prototype.getRelativeGrid=function(t){var e=null;if(t.target){var n=(e=t.target).api;if(n&&n.getCoreGrid)return n.getCoreGrid()}else t.getElement?e=t.getElement():1===t.nodeType&&(e=t);if(e)for(var i=this._hosts.length;--i>=0;){var o=this._hosts[i];if(o.getElement().contains(e))return o}return null},h.prototype.setGridWrapper=function(t,e){t&&("compositegrid"===(t=t.toLowerCase())?this._compositeGrid=e:"realtimegrid"===t&&(this._realTimeGrid=e))},h.prototype.getGridApi=function(t){if(null==t)return this._compositeGrid||this._realTimeGrid;var e="number"==typeof t?this._hosts[t]:t;return e&&e._wrapper||null},h.prototype.getColumnName=function(t){if(this._compositeGrid){var e=this._compositeGrid.getColumnModel(t);if(e)return e.title?e.title:e.field}else{var n=this.getColumnIndex(t),i=this._realTimeGrid.getColumnDefinition(n);if(i)return i.getName()}return""},h.prototype.getColumnIndex=function(t){if("number"==typeof t)return t;if(this._compositeGrid)return this._compositeGrid.getColumnIndex(t);for(var e=this._realTimeGrid,n=e.getColumnCount(),i=0;i<n;++i){var o=e.getColumnDefinition(i);if(o&&o.getId()===t)return i}return-1},h.prototype.getColumnIndices=function(t){if(this._compositeGrid){for(var e,n=this._compositeGrid.getColumnFields(),i=this._compositeGrid.getColumnCount(),o=[],r=0;r<t.length;r++)if("number"==typeof(e=t[r]))e>=0&&e<i&&o.push(e);else{var s=n.indexOf(e);-1!==s&&o.push(s)}return o}return this._realTimeGrid.getColumnIndices(t)},h.prototype.getColumnId=function(t){if("string"==typeof t)return t;if(this._compositeGrid)return this._compositeGrid.getColumnId(t);var e=this._realTimeGrid.getColumnDefinition(t);return e?e.getId():""},h.prototype.getColumnCount=function(){if(this._hosts){var t=this._hosts[0];return t?t.getColumnCount():0}return 0},h.prototype._loadPlugin=function(t,e,n){return t||(t=e.getPlugin(n))||(t=e.loadPlugin(n))&&this._initializedGrid&&(t._initializedGrid=!0),t},h.prototype._requestPlugin=function(t,e,n){return this._initializedGrid?h.requestPlugin(t,e,n,this._compositeGrid,this._realTimeGrid):Promise.reject("Plugin should be requested after the initialization")},h.requestPlugin=function(t,e,n,i,o){var r=null;if(t){var s=null;1===t.nodeType?s=t.api:t.getCoreGrid?s=t:t.getPlugin&&(r=t),s&&(r=s.getCoreGrid(),i||o||(s.getModel?i=s:o=s))}if(!r)return Promise.reject("Cannot find grid element");var l=r.getPlugin(e);if(l)return Promise.resolve(l);var a=new f;return setTimeout(h._onPluginRequested.bind(null,{grid:r,pluginRef:e,compositeGrid:i,realTimeGrid:o,config:n,deferred:a}),10),a.promise},h._onPluginRequested=function(t){var e=t.grid;if(!e.getElement())return t.deferred.reject("Grid has been disposed before the plugin is fully loaded: "+t.pluginRef);var n=e.getPlugin(t.pluginRef);if(n)return t.deferred.resolve(n);var i=!1;return t.pluginRef.beforeInit&&(i=!0,t.pluginRef.beforeInit(e.getElement(),t.config,!0)),(n=e.loadPlugin(t.pluginRef,t.config))?(!i&&n.beforeInit&&(i=!0,n.beforeInit(e.getElement(),t.config)),n.setGridWrapper&&(t.compositeGrid?n.setGridWrapper("compositegrid",t.compositeGrid):t.realTimeGrid&&n.setGridWrapper("realtimegrid",t.realTimeGrid)),n.afterInit&&n.afterInit(),t.deferred.resolve(n)):t.deferred.reject("Unable to load required dependency: "+t.pluginRef)},h.prototype._getPlugin=function(t,e){return null==e&&(e=this._hosts[0]),e?e.getPlugin(t):null},h.prototype._getColumnData=function(t,e){return null==e&&(e=this._hosts[0]),e?e.getColumnData(t):null},h.prototype._getColumnOption=function(t,e,n){var i=this._getColumnData(t,n);return i?i[e]:null},h.prototype._newColumnData=function(t,e){if(null==e&&(e=this._hosts[0]),!e)return{};var n=e.getColumnData(t);return n||(n=e.setColumnData(t,{})),n},h.prototype._getField=function(t){var e=this._compositeGrid||this._realTimeGrid;return e?e.getColumnField(t):""},h.prototype._getRowData=function(t){return this._realTimeGrid&&t?t.ROW_DEF.getRowData():t},h.prototype._getRow=function(t,e){return g(t.getRowDataAt(e))},h.prototype._getData=function(t,e,n){var i=this._getRow(t,e);return i?i[n]:void 0},h.prototype._setData=function(t,e,n,i){if(this._realTimeGrid){var o=t.getRowDataAt(e);o&&o.ROW_DEF.setData(n,i)}else t.setDataAt(e,n,i)},h.prototype._setRowData=function(t,e,n){if(this._realTimeGrid){var i=t.getRowDataAt(e);i&&i.ROW_DEF.setRowData(n)}else t.setRowDataAt(e,n)},h.prototype._setColumnData=function(t,e,n,i){if(i=i||t.getAllRowIds()||[],this._realTimeGrid){for(var o=t.getDataSource(),r=o.freeze(),s=n.length<i.length?n.length:i.length,l=0;l<s;++l){var a=t.getRowData(i[l]);a&&a.ROW_DEF.setData(e,n[l])}o.freeze(r)}else t.setColumnData(e,n,i)},h.prototype._activateColumnRenderer=function(t,e,n){if(null!=t){var i=this._realTimeGrid;i?i.activateColumnRenderer(t,e,n):"function"==typeof n?this._hosts[0].setColumnDataBindingHandler(t,n):this._hosts[0].setColumnDataBindingHandler(t,null)}};var m=function(t){return t},_=function(t){return t?t.ROW_DEF.getRowData():null},g=function(t){if(t){var e=t.ROW_DEF;return e?e.getRowData():t}return null},v=function(t,e,n){this._onConflated=this._onConflated.bind(this),this._data=[],"function"==typeof t?this.setFunction(t,n):"function"==typeof e&&this.setFunction(e,n),"number"==typeof e?this.setConflatingTime(e):"number"==typeof t&&this.setConflatingTime(t)};v.prototype._data,v.prototype._func=null,v.prototype._delay=0,v.prototype._timerId=0,v.prototype._conflated=!1,v.prototype._disabled=!1,v.prototype.reset=function(){return this._timerId&&(clearTimeout(this._timerId),this._timerId=0),this.popAllData()},v.prototype.popAllData=function(){if(this._data.length){var t=this._data;return this._data=[],t}return null},v.prototype.dispose=function(){this._timerId&&(clearTimeout(this._timerId),this._timerId=0),this._data.length&&(this._data.length=0),this._func=null},v.prototype.conflate=function(t){return!this._disabled&&(null!=t&&this._data.push(t),!this._conflated&&(this._timerId||(this._timerId=setTimeout(this._onConflated,this._delay)),!0))},v.prototype.isConflating=function(){return this._timerId>0&&!this._conflated&&!this._disabled},v.prototype._onConflated=function(){this._conflated=!0;try{this._func()}catch(t){console.error(t.message||t)}this._timerId=0,this._data.length=0,this._conflated=!1},v.prototype.getData=function(){return this._data},v.prototype.setFunction=function(t,e){this._func=t,this._func=t?e?t.bind(e):t:null},v.prototype.setConflatingTime=function(t){this._delay=t||0,this._delay<0&&(this._delay=0)},v.prototype.getConflatingTime=function(){return this._delay},v.prototype.disable=function(t){this._disabled=!1!==t},v.prototype.isEnabled=function(){return!this._disabled},v.prototype.enable=function(t){this._disabled=!1===t};var C={create:function(t,e){var n=document.createElement("coral-icon");return e&&(n.className=e),t&&n.setAttribute("icon",t),n},box:function(t,e,n){var i=null;return n&&("string"==typeof n?i=document.createElement(n):1===n.nodeType&&(i=n)),i||(i=document.createElement("div")),e&&(i.className=e),i.appendChild(C.create(t)),i},change:function(t,e){t.getAttribute("icon")!==e&&t.setAttribute("icon",e)}},y=n(0),k={en:!0,de:!0,ja:!0,zh:!0,"zh-Hant":!0},b={_deferred:null,themeReady:null,_defaultColors:{up:"#39C46E",down:"#F5475B",level:"#C2C2C2",tickUp:"#39C46E",tickDown:"#F5475B",baseGrid:"#1A1A1C",baseText:"#C2C2C2",trackColor:"#FF9933"}};b.themeColors=b._defaultColors,b._components={},b._themeName="",b._elfVersion=0,b._dummyIcon=null,b._iconLoaded=!1,b._icons={"elf-theme-halo":{rowGrouping:{expander:"down"},sorting:{ascending:"hollow-arrow-up",descending:"hollow-arrow-down",sortable:"sort-up-down"},columnStack:{stack:"map-layers",expand:"right",collapse:"left"}},"elf-theme-solar":{columnStack:{stack:"list",expand:"right",collapse:"left"}}},b._icons["halo-theme"]=b._icons["elf-theme-halo"],b._icons["solar-theme"]=b._icons["elf-theme-solar"],b.getElfVersion=function(){if(!b._elfVersion){var t=0;if(window.EFX_GRID){var e=window.EFX_GRID.version;t=+(e=e.split("."))[0]}else if(window.elf)if(window.elf.version){var n=window.elf.version.match(/\d/);n&&n[0]&&(t=parseInt(n[0],10))}else window.elf.customElements?t=3:window.customElements&&(t=4);else window.Polymer&&(t=1);b._elfVersion=t}return b._elfVersion},b.hasComponent=function(t){var e=b._components[t];if(null==e){e=0;var n=b.getElfVersion();if(t)1===n?document.createElement(t).is===t&&(e=n):n>1&&(window.customElements&&window.customElements.get(t)||document.createElement(t).constructor!==HTMLElement)&&(e=n),b._components[t]=e}return e},b.toLangString=function(t){if(!t)return"";if("zh-hant"===(t=t.toLowerCase()))return"zh-Hant";var e=t.replace(/-.*/,"");return k[e]?e:""},b.hasTheme=function(t){return t===b.getThemeName()},b.getThemeName=function(t){return b._themeName||(b._themeName=b.getCssVariable("--theme-name",document.documentElement)),b._themeName},b.isHaloTheme=function(t){return null==t&&(t=b.getThemeName()),!!t&&t.indexOf("halo")>=0},b.injectIcons=function(t,e){if("object"==typeof t){var n=b.getThemeName();t.themeName=n;var i=b.getElfVersion();t.elfVersion=i;var o=b._icons[n];o&&(t.icons=o)}},b.getIconList=function(){var t=b._icons[b.getThemeName()];return t?Object(y.b)(t):[]},b._onIconPreloaded=function(){if(b._dummyIcon){var t=b._dummyIcon.parentNode;t&&t.removeChild(b._dummyIcon),b._dummyIcon=null}},b.prepareIconPreloading=function(){if(!b._iconLoaded){b._iconLoaded=!0;var t=b.getIconList();if(t.length){setTimeout(b._onIconPreloaded,10);var e=b._dummyIcon=document.createElement("coral-icon");return e.style.transform="scale(0)",document.body.appendChild(e),t}}return null},b.getCssVariable=function(t,e){var n="",i=e||document.body;return window&&"string"==typeof t&&1===i.nodeType&&t.match(/^--/)&&(n=(n=window.getComputedStyle(i).getPropertyValue(t)).replace(/[\"\']/g,"")),n},b.getCssVariables=function(t,e){var n=e||document.body;if(window&&1===n.nodeType){var i=window.getComputedStyle(n);for(var o in t){var r=t[o];r&&r.match(/^--/)&&(t[o]=i.getPropertyValue(r).replace(/\"/g,""))}}return t||null},b.getThemeColors=function(){if(b.themeReady)return b.themeReady;var t=b._deferred=new f;b.themeReady=t.promise;var e=window?window.JET:null;if(e&&e.Settings)try{e.Settings.read(b._onColorProfile,{providerName:"Configuration",settingName:"RDE_USER_CURRENT_TICK_COLOR"})}catch(e){t.reject("Cannot read JET's settings")}else setTimeout(b._retrieveThemeColors,100);return t.promise},b._onColorProfile=function(t){t&&document.documentElement.setAttribute("movement-color-profile",t.toLowerCase()),b._retrieveThemeColors()},b.getMovementColorProfile=function(){return document.documentElement.getAttribute("movement-color-profile")},b._retrieveThemeColors=function(){var t=b.themeColors=b.getCssVariables({primary:"--color-scheme-primary",secondary:"--color-scheme-secondary",tertiary:"--color-scheme-tertiary",complementary:"--color-scheme-complementary",up:"--color-scheme-positive",down:"--color-scheme-negative",level:"--color-scheme-neutral",tickUp:"--color-scheme-tickup",tickDown:"--color-scheme-tickdown"});t.up||(t.up=b._defaultColors.up,t.down=b._defaultColors.down,t.level=b._defaultColors.level,t.tickUp=b._defaultColors.tickUp,t.tickDown=b._defaultColors.tickDown),t.positive=t.up,t.negative=t.down,t.neutral=t.level;var e=document.createElement("table");e.style.visibility="hidden",e.style.position="fixed",e.style.left="0",e.style.top="0",e.style.width="0";var n=e.insertRow(-1),i=n.insertCell(-1);document.body.appendChild(e);var o=window.getComputedStyle(n);t.tableBg=o.backgroundColor;var r=window.getComputedStyle(i);t.tableText=r.color,t.tableBorder=r.borderColor,t.tableText===t.tableBorder&&(i.className="tr-lg",r=window.getComputedStyle(i),t.tableBg=r.backgroundColor,t.tableText=r.color,t.tableBorder=r.borderColor,t.tableText===t.tableBorder&&(t.tableBg=b._defaultColors.baseGrid,t.tableText=b._defaultColors.baseText,t.tableBorder="")),t.tableBg=Object(y.d)(t.tableBg),t.tableText=Object(y.d)(t.tableText),t.tableBorder=Object(y.d)(t.tableBorder),document.body.removeChild(e),t.baseGrid=t.tableBg,t.baseText=t.tableText,t.trackColor=t.primary||b._defaultColors.trackColor,b._deferred.resolve(t)};var R={create:function(t,e){var n=document.createElement(t);return e&&(n.className=e),n},div:function(t){return R.create("div",t)},text:function(t,e){var n=R.create("span",e);return(t||0===t)&&(n.textContent=t),n},appendChild:function(t,e){if(!t)return null;var n,i;Array.isArray(arguments[1])?(i=arguments[1],n=0):(i=arguments,n=1);for(var o=i.length;n<o;)t.appendChild(i[n]),++n;return t},buildTree:function(t,e){if(!t)return null;for(var n=arguments,i=n.length,o=1;o<i;++o){var r,s=n[o];if(s)Array.isArray(s)?r=R.buildTree.apply(null,s):1===s.nodeType&&(r=s),r&&t.appendChild(r)}return t},removeParent:function(t){if(!t)return null;var e=t.parentNode;return e&&e.removeChild(t),e},setParent:function(t,e){return t?e?(e.appendChild(t),e):R.removeParent(t):null},removeChildren:function(t,e){if(t){var n=t.childNodes.length;for((null==e||e>n)&&(e=n);--e>=0;)t.removeChild(t.lastChild)}},setContent:function(t,e){if(t)if(e||0===e){var n=e.nodeType;1===n||3===n?e!==t.lastChild&&(R.removeChildren(t),t.appendChild(e)):Array.isArray(e)?(R.removeChildren(t),R.appendChild(t,e)):t.textContent=e}else R.removeChildren(t)},toggleAttribute:function(t,e,n){n?t.setAttribute(e,"string"==typeof n?n:""):null==n?t.hasAttribute(e)?t.removeAttribute(e):t.setAttribute(e,""):t.removeAttribute(e)},toggleClass:function(t,e,n){n?t.classList.add(e):null==n?t.classList.contains(e)?t.classList.remove(e):t.classList.add(e):t.classList.remove(e)},addClasses:function(t,e){if(t)for(var n=Array.isArray(e)?e:arguments,i=n.length,o=0;o<i;++o){var r=n[o];r&&"string"==typeof r&&t.classList.add(r)}},removeClasses:function(t,e){if(t)for(var n=Array.isArray(e)?e:arguments,i=n.length,o=0;o<i;++o){var r=n[o];r&&"string"==typeof r&&t.classList.remove(r)}},preventDefault:function(t){t.preventDefault(),t.stopPropagation()},stopPropagation:function(t){t.stopPropagation()},getClientPosition:function(t,e){var n=e||{x:0,y:0};if(t.getBoundingClientRect){var i=t.getBoundingClientRect();n.x=i.left,n.y=i.top}else n.x=t.clientX,n.y=t.clientY;return n},getRelativePosition:function(t,e,n){n=R.getClientPosition(t,n);var i=R.getClientPosition(e);return n.x-=i.x,n.y-=i.y,n},closestElement:function(t,e){for(var n=t;n&&n.classList;){if(n.classList.contains(e))return n;n=n.parentNode}return null},closestTagName:function(t,e){for(var n=t;n&&n.tagName;){if(n.tagName==e)return n;n=n.parentNode}return null}},S=function(){this._onPreSectionRender=this._onPreSectionRender.bind(this),this._onColumnRemoved=this._onColumnRemoved.bind(this),this._onColumnMoved=this._onColumnMoved.bind(this),this._onColumnAdded=this._onColumnAdded.bind(this),this._onStackButtonClicked=this._onStackButtonClicked.bind(this),this._updateUI=this._updateUI.bind(this),this._hosts=[],this._stacks={},this._conflator=new v(100,this._updateUI)};c.inherits(S,h),S.prototype._stacks,S.prototype._pendingStacks,S.prototype._columnStack=null,S._runningId=0,S.prototype._generateStackId=function(){for(var t="Stack"+S._runningId++;this._stacks[t];)t="Stack"+S._runningId++;return t},S.prototype.getName=function(){return"ColumnStackPlugin"},S.prototype.hasMultiTableSupport=function(){return!0},S.prototype.initialize=function(t,e){if(!(this._hosts.indexOf(t)>=0)){if(this._hosts.push(t),e&&e.icons){var n=e.icons.columnStack;n&&(this._stackIconName=n.stack,this._expandIconName=n.expand,this._collapseIconName=n.collapse)}S._applyThemeColor(t),1===this._hosts.length&&(this.config(e),t.listen("columnRemoved",this._onColumnRemoved),t.listen("columnMoved",this._onColumnMoved),t.listen("columnAdded",this._onColumnAdded)),t.listen("preSectionRender",this._onPreSectionRender)}},S.prototype.unload=function(t){var e=this._hosts.indexOf(t);e<0||(this._hosts.splice(e,1),t.unlisten("columnRemoved",this._onColumnRemoved),t.unlisten("columnMoved",this._onColumnMoved),t.unlisten("columnAdded",this._onColumnAdded),t.unlisten("preSectionRender",this._onPreSectionRender),this._hosts.length<=0&&this._conflator.reset(),this._dispose())},S._styles=Object(y.c)([".tr-grid .collapsed .cell.grouping .valigner",["width: 0;"],".tr-grid .collapsed .cell.grouping .floating-panel",["width: 100%;","margin: 0;","justify-content: center;"],".tr-grid .collapsed .cell.grouping .front-panel, .tr-grid .collapsed .cell.grouping .floating-panel *:not(.stack-icon)",["display: none;"],".tr-grid .collapsed .cell.grouping .floating-panel .stack-icon",["margin-left: 0;"],".stack-icon",["color: var(--grid-title-filter-icon-color);"],".stack-icon:hover",["color: var(--grid-title-filter-icon-hover-color);"]]),S._applyThemeColor=function(t){t._columnStackingStyles||(t._columnStackingStyles=!0,Object(y.a)(S._styles,t.getElement()))},S.prototype.config=function(t){if(t){var e=t.columns;if(e){var n,i=e.length;for(n=0;n<i;++n)this._setColumnStacking(n,{});var o,r,s,l={},a=t.columnStack;if(null!=a)a.fields&&a.fields.length>1&&(this._columnStack=t.columnStack,l[o=this._generateStackId()]={colRefs:a.fields,spreading:!0===a.spreading,collapsed:!1!==a.collapsed});else for(n=0;n<i;++n)"string"==typeof(s=(r=e[n]).stackId||r.stack)?(l[s]||(l[s]={colRefs:[],spreading:!1}),l[s].colRefs.push(n)):"object"==typeof s&&(l[s.id]||(l[s.id]={colRefs:[],spreading:!0===s.spreading,collapsed:!1!==s.collapsed}),l[s.id].colRefs.push(n));if(this._initializedGrid)for(o in l)this.stackColumns(l[o].colRefs,o,l[o]);else this._pendingStacks=this._pendingStacks||l}}},S.prototype.getConfigObject=function(t){var e=t||{};if(null!=this._columnStack)e.columnStack=this._columnStack;else{var n=e.columns;n||(n=e.columns=[]);for(var i=this.getColumnCount(),o=0;o<i;++o){var r=n[o];r||(r=n[o]={});var s=this._getColumnStackOptions(o);s&&(r.stack={id:s.stackId,spreading:s.spreading,collapsed:s.collapsed})}}return e},S.prototype._afterInit=function(){if(this._pendingStacks){for(var t in this._pendingStacks){var e=this._pendingStacks[t];this.stackColumns(e.colRefs,t,e)}this._pendingStacks=null}},S.prototype._getColumnIndex=function(t){for(var e=this.getColumnCount(),n=-1,i=0;i<e;i++)if(t===this._getColumnStacking(i)){n=i;break}return n},S.prototype._setColumnStacking=function(t,e){this._newColumnData(t).stack=e},S.prototype._getColumnStacking=function(t){return this._getColumnOption(t,"stack")},S.prototype._setColumnStackOptions=function(t,e){var n=this._getColumnStacking(t);n&&(n.stackOpt=e)},S.prototype._getColumnStackOptions=function(t){var e=this._getColumnStacking(t);return e&&e.stackOpt||null},S.prototype._removeColumnStackOptions=function(t){var e=this._getColumnStacking(t);e&&(e.stackOpt=null)},S.prototype._getSelectedColumns=function(){var t=this._getPlugin("ColumnSelectionPlugin");return t&&t.isEnabled()?t.getSelectedColumns():[]},S.prototype._setColumnVisibility=function(t,e){if(t>=0)for(var n=this._hosts.length;--n>=0;)this._hosts[n].setColumnVisibility(t,e,2)},S.prototype._moveColumn=function(t,e){if(t>=0&&e>=0&&t!==e)for(var n=this._hosts.length;--n>=0;)this._hosts[n].moveColumn(t,e)},S.prototype._moveStackedColumns=function(t){for(var e=t.length,n=1;n<e;++n){var i=this._getColumnIndex(t[n]),o=this._getColumnIndex(t[0]);this._moveColumn(i,o+n)}},S.prototype._getColumnCount=function(){var t=this._host||this._hosts[0];return t?t.getColumnCount():0},S.prototype._isIconAvailable=function(){return b.hasComponent("coral-icon")&&(b.hasTheme("elf-theme-solar")||b.hasTheme("elf-theme-luna"))},S.prototype._updateUI=function(){if(!this._conflator.conflate())for(var t=this._getColumnCount(),e=this._hosts.length,n=0;n<t;++n){for(var i=this._getColumnStackOptions(n),o=i?i.stackRefs:null,r=!!i&&i.spreading,s=0;s<e;++s){var l=this._hosts[s];l.enableColumnClass(n,"grouped",!0===r);var a=l.getSection("title"),u=a.getRowCount(),c=a.getCell(n,u-1,!0);if(c){var p=c._stackIcon;o?!p&&this.isActiveStackedColumn(n)?(r?(c.addClass("grouping"),p=this._expandIconName?i.collapsed?C.create(this._expandIconName):C.create(this._collapseIconName):i.collapsed?R.text(">"):R.text("<")):(c.addClass("stacking"),this._stackIconName?p=C.create(this._stackIconName):(p=R.text("â‰¡")).style.fontSize="1.3em"),p.className="stack-icon",p.addEventListener("click",this._onStackButtonClicked,!1),p.addEventListener("dblclick",d,!1),p.addEventListener("mousedown",d,!1),p.addEventListener("keydown",d,!1),c.insertFloatingIcon(p,20),c._stackIcon=p,this._dispatch("iconCreated",{icon:p,colIndex:n,grid:l,cell:c})):p&&this.isInactiveStackedColumn(n)&&(c.removeFloatingIcon(c._stackIcon),c._stackIcon=null):p&&(c.removeFloatingIcon(c._stackIcon),c._stackIcon=null,c.removeClass("grouping"),c.removeClass("stacking"))}}i&&(r?this._collapseMember(n,i.collapsed):this._setColumnVisibility(n,this.isActiveStackedColumn(n)))}},S.prototype._collapseMember=function(t,e){var n=this._getColumnStackOptions(t);if(n){for(var i=this._hosts.length;--i>=0;){var o=this._hosts[i];if(o.enableColumnClass(t,"collapsed",e),this.isActiveStackedColumn(t)){o.setColumnVisibility(t,!0,2);var r=o.getSection("title"),s=r.getRowCount(),l=r.getCell(t,s-1,!0);e?(n.collapsed===e&&n._origWidth||(n._origWidth=this._getColumnWidth(o,t),n._scalable=o.getColumnScalability(t)),o.setColumnWidth(t,r.getRowHeight(0),!1),l._stackIcon&&(this._expandIconName?l._stackIcon.setAttribute("icon","right"):l._stackIcon.textContent=">")):(null!=n._origWidth&&o.setColumnWidth(t,n._origWidth,n._scalable),l._stackIcon&&(this._collapseIconName?l._stackIcon.setAttribute("icon","left"):l._stackIcon.textContent="<"))}else o.setColumnVisibility(t,!e,2)}n.collapsed=e}},S.prototype._getColumnWidth=function(t,e){if(t){var n=t.getMinimumColumnWidth(e),i=t.getColumnCustomLaneSize(e);return i<n?n:i}return NaN},S.prototype.getMemberIndices=function(t){var e=this._getColumnStackOptions(t);if(!e)return null;for(var n=e.stackRefs,i=n.length,o=[],r=0;r<i;++r)o.push(this._getColumnIndex(n[r]));return o},S.prototype.collapseGroup=function(t,e){var n=this.getMemberIndices(t);if(!n)return null;e=!1!==e;for(var i=n.length;--i>=0;)this._collapseMember(n[i],e);return n},S.prototype.expandGroup=function(t){var e=this.getMemberIndices(t);if(!e)return null;for(var n=e.length;--n>=0;)this._collapseMember(e[n],!1);return e},S.prototype.isColumnStackable=function(t){if(!t)return!1;for(var e=t.length,n=0;n<e;++n){var i=t[n];if(this.isColumnInCollection(i))return!1}return!0},S.prototype.isColumnStacked=function(t){t||(t=this._getSelectedColumns());for(var e=t.length,n=0;n<e;++n){var i=this._getColumnStackOptions(t[n]);if(i&&i.stackRefs)return!0}return!1},S.prototype.isInactiveStackedColumn=function(t){var e=this._getColumnStackOptions(t);return!(!e||!e.stackRefs)&&t!==this._getColumnIndex(e.activeColumn)},S.prototype.isActiveStackedColumn=function(t){var e=this._getColumnStackOptions(t);return!e||!e.stackRefs||t===this._getColumnIndex(e.activeColumn)},S.prototype.isStackingMode=function(t){var e=this._getColumnStackOptions(t);return!!e&&!0!==e.spreading},S.prototype.isCollapsingMode=function(t){var e=this._getColumnStackOptions(t);return!!e&&!0===e.spreading},S.prototype.isColumnInCollection=function(t){return!!this._getColumnStackOptions(t)},S.prototype.isInCollection=S.prototype.isColumnInCollection,S.prototype.isColumnCollapsed=function(t){var e=this._getColumnStackOptions(t);return!!e&&(!0===e.spreading&&!0===e.collapsed)},S.prototype.isColumnActive=function(t){var e=this._getColumnStackOptions(t);return!!e&&(e.spreading?!e.collapsed:t===this._getColumnIndex(e.activeColumn))},S.prototype.getStackId=function(t){var e=this._getColumnStackOptions(t);return e?e.stackId:""},S.prototype.stackColumns=function(t,e,n){t||(t=this._getSelectedColumns());var i=!0;t.length&&("string"==typeof t[0]&&(i=!1),t=this.getColumnIndices(t)),i&&t.sort((function(t,e){return t-e}));var o,r=t.length;if(r<=1)return!1;if(!this.isColumnStackable(t))return!1;if(e){if(this._stacks[e])return!1;o=e}else o=this._generateStackId();n=n||{};var s,l,a=t[0],u={};for(u.stackId=o,u.spreading=!0===n.spreading,u.spreading&&(a=t[r-1]),u.collapsed=!1!==n.collapsed,u.stackRefs=new Array(r),s=0;s<r;++s)l=t[s],this._setColumnStackOptions(l,u),u.stackRefs[s]=this._getColumnStacking(l),l!==a&&!1!==u.collapsed&&this._setColumnVisibility(l,!1);if(u.spreading)this._moveStackedColumns(u.stackRefs),u.activeColumn=u.stackRefs[u.stackRefs.length-1];else{u.activeColumn=u.stackRefs[0];var c=this._getPlugin("ColumnSelectionPlugin");c&&c.isEnabled()&&c.selectSingleColumn(a)}this._stacks[o]=u;var p=this._getPlugin("ColumnFilterPlugin");return p&&p.refresh(),this._updateUI(),!0},S.prototype.setStack=function(t){var e,n,i,o=[];if(Array.isArray(t))for(e=0;e<t.length;e++)"number"===(i=typeof(n=t[e]))?o.push(this._getField(n)):"string"===i&&o.push(n);o.length>1?(this._columnStack||(this._columnStack={spreading:!1,collapsed:!1}),this._columnStack.fields=o):this._columnStack=null;var r="_uniqueStack";if(!this._initializedGrid){if(this._columnStack){var s={};s[r]={colRefs:o,spreading:!1,collapsed:!1},this._pendingStacks=s}return!1}if((t=this.getColumnIndices(t)).length<=1)return this.removeAllStacks();var l=0;if(this._stacks[r]){var a=this._stacks[r].stackRefs;if(a.length===t.length){for(e=0;e<t.length;e++){this._getColumnStacking(t[e])===a[e]&&l++}if(l===t.length)return!1}}this.removeAllStacks(!1);var u=t[0],c={};for(c.stackId=r,c.spreading=!1,c.stackRefs=new Array(t.length),e=0;e<t.length;++e){var p=t[e];c.stackRefs[e]=this._getColumnStacking(p),this._setColumnStackOptions(p,c),p!==u&&!1!==c.collapsed&&this._setColumnVisibility(p,!1)}c.activeColumn=c.stackRefs[0],this._stacks[r]=c;var d=this._getPlugin("ColumnFilterPlugin");return d&&d.refresh(),this._updateUI(),!0},S.prototype.unstackColumns=function(t){var e,n;t||(t=this._getSelectedColumns());var i=t.length,o={},r=this.getColumnCount();for(e=0;e<i;++e)if((n=t[e])<r){var s=this._getColumnStackOptions(n);if(!s)continue;!0===s.collapsed&&this.expandGroup(n),o[s.stackId]=1}var l,a,u=!1;for(var c in o){var p=this._stacks[c];if(p){u=!0;var d=p.stackRefs;for(!0!==p.spreading&&this._moveStackedColumns(d),i=d.length,l=p.spreading?this._getColumnIndex(p.stackRefs[0]):this._getColumnIndex(p.activeColumn),a=i-1,e=0;e<i;++e){var f=d[e];n=this._getColumnIndex(f),this._removeColumnStackOptions(n),this._setColumnVisibility(n,!0)}delete this._stacks[c]}}if(u){var h=this._getPlugin("ColumnSelectionPlugin");h&&h.isEnabled()&&h.selectRange(l,a);var m=this._getPlugin("ColumnFilterPlugin");m&&m.refresh(),this._updateUI()}return u},S.prototype.removeAllStacks=function(t){var e=!1===t,n=!1;for(var i in this._stacks){var o=this._stacks[i];n=!0;var r=o.stackRefs;!0!==o.spreading&&t&&this._moveStackedColumns(r);for(var s=r.length,l=0;l<s;++l){var a=r[l],u=this._getColumnIndex(a);o.collapsed&&o.spreading&&this.collapseGroup(u,!1),this._removeColumnStackOptions(u),this._setColumnVisibility(u,!0)}}return n&&(this._stacks={},e||this._updateUI()),n},S.prototype.swapColumn=function(t,e){var n=-1;if("number"==typeof t)n=t;else{var i=this.getRelativeGrid(t);if(i)n=i.getRelativePosition(t).colIndex}var o=this._getColumnStackOptions(n);if(!o)return!1;var r=o.stackRefs;if(!r)return!1;var s=r[e];if(!s)return!1;if(s===o.activeColumn)return!1;o.stackRefs.splice(e,1),o.stackRefs.unshift(s);var l=this._getColumnIndex(o.activeColumn),a=this._getColumnIndex(s);this._moveColumn(a,l),this._setColumnVisibility(l,!1),o.activeColumn=s,this._setColumnVisibility(a,!0);var u=this._getPlugin("ColumnSelectionPlugin");u&&u.isEnabled()&&u.selectSingleColumn(a);var c=this._getPlugin("ColumnFilterPlugin");return c&&c.refresh(),this._updateUI(),!0},S.prototype._onPreSectionRender=function(t){"title"===t.sectionType&&this._updateUI()},S.prototype._onColumnRemoved=function(t){var e=t.columnData;if(e){var n=e.stack;if(n){var i=n.stackOpt;if(i){if(i.stackRefs){var o=i.stackRefs.indexOf(n);if(o>-1)if(i.stackRefs.splice(o,1),i.stackRefs.length<2){var r=this._getColumnIndex(i.stackRefs[0]);r>-1?this.unstackColumns([r]):delete this._stacks[i.stackId]}else i.spreading?i.activeColumn=i.stackRefs[i.stackRefs.length-1]:i.activeColumn=i.stackRefs[0],this._updateUI()}e.stack=null}}}},S.prototype._onColumnMoved=function(t){var e=t.toColIndex,n=this._getColumnStackOptions(e);if(!n||n.spreading){var i,o,r=this._getColumnStacking(e),s=this._getColumnStackOptions(e-1),l=this._getColumnStackOptions(e+1);if(n){if(n===s)return s.stackRefs.splice(s.stackRefs.indexOf(r),1),o=this._getColumnStacking(e-1),(i=s.stackRefs.indexOf(o))>-1&&(s.stackRefs.splice(i+1,0,r),s.spreading?s.activeColumn=s.stackRefs[s.stackRefs.length-1]:s.activeColumn=s.stackRefs[0]),void this._updateUI();if(n===l){l.stackRefs.splice(l.stackRefs.indexOf(r),1);var a=this._getColumnStacking(e+1);return(i=l.stackRefs.indexOf(a))>-1&&(l.stackRefs.splice(i,0,r),l.spreading?l.activeColumn=l.stackRefs[l.stackRefs.length-1]:l.activeColumn=l.stackRefs[0]),void this._updateUI()}}var u=!1,c=t.fromColIndex,p=c+1;e>c&&(p=c);var d=p-1;(s=this._getColumnStackOptions(d))&&s.spreading&&(i=s.stackRefs.indexOf(r))>-1&&(s.stackRefs.splice(i,1),s.spreading?s.activeColumn=s.stackRefs[s.stackRefs.length-1]:s.activeColumn=s.stackRefs[0],this._setColumnStackOptions(e,null),u=!0),(l=this._getColumnStackOptions(p))&&l.spreading&&(i=l.stackRefs.indexOf(r))>-1&&(l.stackRefs.splice(i,1),l.spreading?l.activeColumn=l.stackRefs[l.stackRefs.length-1]:l.activeColumn=l.stackRefs[0],this._setColumnStackOptions(e,null),u=!0),d=(p=e+1)-2,s=this._getColumnStackOptions(d),l=this._getColumnStackOptions(p),s&&s.spreading&&s===l&&(o=this._getColumnStacking(e-1),(i=s.stackRefs.indexOf(o))>-1&&(s.stackRefs.splice(i+1,0,r),s.spreading?s.activeColumn=s.stackRefs[s.stackRefs.length-1]:s.activeColumn=s.stackRefs[0],this._setColumnStackOptions(e,s),u=!0)),u&&this._updateUI()}},S.prototype._onColumnAdded=function(t){var e=t.colIndex;this._setColumnStacking(e,{});var n=this._columnStack;if(n){this.getColumnIndices(n.fields).length>1&&(this.removeAllStacks(!1),this.stackColumns(n.fields,null,n))}else{var i=this._getColumnStackOptions(e-1),o=this._getColumnStackOptions(e+1);if(i&&i===o){var r=this._getColumnStacking(e-1),s=this._getColumnStacking(e),l=i.stackRefs.indexOf(r);l>-1&&(i.stackRefs.splice(l+1,0,s),i.activeColumn=i.stackRefs[i.stackRefs.length-1],this._setColumnStackOptions(e,i),this._updateUI())}}},S.prototype._onStackButtonClicked=function(t){var e=t.currentTarget;if(!t.button){var n=this.getRelativeGrid(t).getRelativePosition(t),i=n.colIndex,o=this._getColumnStackOptions(i);if(o)if(t.stopPropagation(),o.spreading)this.collapseGroup(i,!o.collapsed);else{for(var r=o.stackRefs,s=r.indexOf(o.activeColumn),l=r.length,a=new Array(l),u=new Array(l),c=l;--c>=0;)a[c]=this._getColumnIndex(r[c]),u[c]={value:c,selected:c===s,label:this.getColumnName(a[c])};n.menuData=u,n.activeIndex=s,n.columnIndices=a,n.activeColIndex=this._getColumnIndex(o.activeColumn),n.event=t,e.focus(),this._dispatch("clicked",n)}}},function(t,e){if(t&&e&&e.prototype.getName){var n=e.prototype.getName().replace(/Plugin$/,"");if(n){var i=t.tr;i||(i=t.tr={});var o=i.grid;o||(o=i.grid={}),o[n+"Plugin"]=e,i[n+"Extension"]=e}}}(window,S)}]);