<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <title>JSDoc: Source: grid/components/Scrollbar.js</title>

    <script src="scripts/prettify.js"> </script>
    <script src="scripts/lang-css.js"> </script>
    <!--[if lt IE 9]&gt;
      &lt;script src="//html5shiv.googlecode.com/svn/trunk/html5.js"&gt;&lt;/script&gt;
    &lt;![endif]-->
    <link type="text/css" rel="stylesheet" href="styles/default.css">
    <link type="text/css" rel="stylesheet" href="styles/elf-template.css">
</head>

<body>

<div id="main-template" class="elf-template">
    



    
    <section>
        <article>
            <pre class="prettyprint source linenums"><code>goog.provide("tr.grid.Scrollbar");

goog.require("tr.grid.util");
goog.require("tr.res");
goog.require("tr.Event");
goog.require("tr.IElementControl");
goog.require("tr.ElementControl");
goog.require("tr.ElementWrapper");
goog.require("tr.grid.Reverter");

/** @constructor
* @implements {tr.IElementControl}
* @extends {tr.ElementControl}
*/
tr.grid.Scrollbar = function () {
	var t = this; // Create a shorthand to shorthen file size
	t._addEvents(
		"scroll",
		"activated",
		"deactivated",
		"scrollStart",
		"scrollEnd",
		"thicknessChanged",
		"layoutChanged",
		"enabled",
		"disabled"
	);

	t._onTrackScroll = t._onTrackScroll.bind(t);
	t._onKeyDown = t._onKeyDown.bind(t);
	t._onStartFading = t._onStartFading.bind(t);
	t._onMouseWheel = t._onMouseWheel.bind(t);
	t._flash = t._flash.bind(t);

	t._onTouchStart = t._onTouchStart.bind(t);
	t._onTouchMove = t._onTouchMove.bind(t);
	t._onTouchEnd = t._onTouchEnd.bind(t);
	t._smoothScroll = t._smoothScroll.bind(t);
	t._updateEffectiveArea = t._updateEffectiveArea.bind(t);
	t._onRestingPosition = t._onRestingPosition.bind(t);

	t._topNode = new tr.ElementWrapper();
	t._topNode.setClass("grid-scrollbar");

	t._trackContent = document.createElement("div");

	t._panes = [];
	t._paneSliders = [];
	t._startPos = {};
	t._endPos = {};
	t._reverter = new tr.grid.Reverter(t._onRestingPosition, 300); // WORKAROUND: GRID-402

	t._topNode.listen("scroll", t._onTrackScroll);
	t._topNode.listen("mouseover", t._flash); // Allow interaction if scrollbar is fading
	t._topNode.addContent(t._trackContent);

	t.disableKeyboardInput(false); // Enable keyboard input by default
	tr.grid.Scrollbar._queryNativeTrackThickness(t._dispatch.bind(t, "thicknessChanged"));

	if(!t._updateEffectiveArea()) {
		t.listen("thicknessChanged", t._updateEffectiveArea);
	}
};
goog.inherits(tr.grid.Scrollbar, tr.ElementControl);

/** @type {boolean}
* @protected
* @ignore
*/
tr.grid.Scrollbar.prototype._vertical = true;
/** @type {number}
* @protected
* @ignore
*/
tr.grid.Scrollbar.prototype._step = 0;
/** @type {Element}
* @protected
* @ignore
*/
tr.grid.Scrollbar.prototype._parentNode = null;
/** @type {string}
* @protected
* @ignore
*/
tr.grid.Scrollbar.prototype._hostClassName = "";

/** @type {Element}
* @protected
* @ignore
*/
tr.grid.Scrollbar.prototype._trackContent = null;
/** @type {Array.&lt;tr.IElementControl&gt;}
* @protected
* @ignore
*/
tr.grid.Scrollbar.prototype._panes = null;
/** @type {Array.&lt;tr.IElementControl&gt;}
* @protected
* @ignore
*/
tr.grid.Scrollbar.prototype._paneSliders = null;

/** @type {boolean}
* @private
*/
tr.grid.Scrollbar.prototype._enabled = true;
/** @type {boolean}
* @private
*/
tr.grid.Scrollbar.prototype._active = false;
/** if freeze, scroll can't be moved. Event will stopPropagation and preventDefault
* @type {boolean}
* @private
*/
tr.grid.Scrollbar.prototype._isFrozen = false;
/** @type {tr.grid.Scrollbar}
* @protected
* @ignore
*/
tr.grid.Scrollbar.prototype._otherScrollbar = null;
/** @type {boolean}
* @private
*/
tr.grid.Scrollbar.prototype._autoHideScrollbar = true;

/** @type {number}
* @protected
* @ignore
*/
tr.grid.Scrollbar.prototype._trackSize = 120;
/** @type {number}
* @private
*/
tr.grid.Scrollbar.prototype._tContentSize = 0;
/** @type {number}
* @private
*/
tr.grid.Scrollbar.prototype._tScrollVal = 0; // Track and pane may have different size and content
/** @type {number}
* @private
*/
tr.grid.Scrollbar.prototype._tPercentVal = 0; // Percentage [0, 1] of track scroll value

/** @type {number}
* @private
*/
tr.grid.Scrollbar.prototype._paneSize = 0;
/** @type {number}
* @private
*/
tr.grid.Scrollbar.prototype._pContentSize = 0;
/** @type {number}
* @private
*/
tr.grid.Scrollbar.prototype._pScrollVal = 0; // Track and pane may have different size and content

/** @type {number}
* @protected
* @ignore
*/
tr.grid.Scrollbar.prototype._footerCount = 0;

/** @type {number}
* @private
*/
tr.grid.Scrollbar.prototype._fadingId = 0;
/** @type {boolean}
* @private
*/
tr.grid.Scrollbar.prototype._postponeFading = false;

/** @type {boolean}
* @private
*/
tr.grid.Scrollbar.prototype._layoutChanged = false;
/** @type {boolean}
* @private
*/
tr.grid.Scrollbar.prototype._contentDirty = true;
/** @type {boolean}
* @private
*/
tr.grid.Scrollbar.prototype._layoutDirty = true;

/** @type {boolean}
* @private
*/
tr.grid.Scrollbar.prototype._touchInput = true;
/** @type {boolean}
* @private
*/
tr.grid.Scrollbar.prototype._swiping = false;
/** @type {boolean}
* @private
*/
tr.grid.Scrollbar.prototype._touchDrag = false;
/** @type {!Object}
* @private
*/
tr.grid.Scrollbar.prototype._startPos;
/** @type {!Object}
* @private
*/
tr.grid.Scrollbar.prototype._endPos;

/** @type {boolean}
* @private
*/
tr.grid.Scrollbar.prototype._smoothing = true;
/** @type {number}
* @private
*/
tr.grid.Scrollbar.prototype._smoothingId = 0;
/** @type {number}
* @private
*/
tr.grid.Scrollbar.prototype._smoothingSpeed = 0;

/** @type {string}
* @private
*/
tr.grid.Scrollbar.prototype._wheelScrolling = "";
/** @type {Function}
* @private
* @ignore
*/
tr.grid.Scrollbar.prototype._mouseWheelLogic = null;

/** @type {number}
* @private
*/
tr.grid.Scrollbar._trackThickness = 0;
/** @type {number}
* @private
*/
tr.grid.Scrollbar._queryTimeout = 0;
/** @type {boolean}
* @private
*/
tr.grid.Scrollbar._queryStarted = false;
/** @type {Element}
* @private
*/
tr.grid.Scrollbar._outerDummy = null;
/** @type {Element}
* @private
*/
tr.grid.Scrollbar._innerDummy = null;
/** @type {Array.&lt;Function&gt;}
* @private
*/
tr.grid.Scrollbar._listeners = null;



/** @private
* @return {boolean}
*/
tr.grid.Scrollbar.prototype._updateEffectiveArea = function() {
	var thickness = this.getTrackThickness();
	if(thickness) {
		if(this._vertical) {
			this._topNode.setWidth(thickness + 1);
		} else {
			this._topNode.setHeight(thickness + 1);
		}
	}
	return thickness ? true : false;
};
/** @private
* @function
* @param {Function=} listener
*/
tr.grid.Scrollbar._queryNativeTrackThickness = function (listener) {
	if(!tr.grid.Scrollbar._queryStarted) { // We only need one query for all scrollbars
		tr.grid.Scrollbar._repeatQuery();
	}

	if(listener &amp;&amp; tr.grid.Scrollbar._trackThickness &lt;= 0) {
		var listeners = tr.grid.Scrollbar._listeners;
		if(!listeners) {
			listeners = tr.grid.Scrollbar._listeners = [];
		}
		listeners.push(listener);
	}
};
/** @private
* @function
*/
tr.grid.Scrollbar._repeatQuery = function () {
	tr.grid.Scrollbar._queryStarted = true;
	if(tr.grid.Scrollbar._retrieveNativeTrackThinkness()) {
		return;
	}
	//Re-query if the thickness is not yet available. Add some delay for each query to increase chance of getting the value.

	// TODO: Use window.addEventListener("load", ); in conjunction with this to speed things up
	tr.grid.Scrollbar._queryTimeout += 100;
	if(tr.grid.Scrollbar._queryTimeout &lt; 3000) { // Prevent infinite loop
		setTimeout(tr.grid.Scrollbar._repeatQuery, tr.grid.Scrollbar._queryTimeout);
	} else {
		tr.grid.Scrollbar._trackThickness = 13; // Set to 13px as a last ditch effort
		tr.grid.Scrollbar._clearStaticResources();
	}
};
/** @private
* @function
* @return {boolean} Returns true if valid track thickness
*/
tr.grid.Scrollbar._retrieveNativeTrackThinkness = function () {
	if(tr.grid.Scrollbar._trackThickness &gt; 0) {
		return true;
	}

	var inner = tr.grid.Scrollbar._innerDummy;
	var outer = tr.grid.Scrollbar._outerDummy;
	if(!inner) {
		inner = tr.grid.Scrollbar._innerDummy = document.createElement('p');
		inner.style.width = "100%";
		inner.style.height = "200px";

		outer = tr.grid.Scrollbar._outerDummy = document.createElement('div');
		outer.style.position = "absolute";
		outer.style.top = "0px";
		outer.style.left = "0px";
		outer.style.visibility = "hidden";
		outer.style.width = "200px";
		outer.style.height = "150px";
		outer.appendChild(inner);
	}

	outer.style.overflow = "hidden";
	document.body.appendChild(outer);
	var w1 = inner.offsetWidth;
	outer.style.overflow = 'scroll';
	var w2 = inner.offsetWidth;

	if(w1 == w2) {
		w2 = outer.clientWidth;
	}
	document.body.removeChild(outer);
	var scrollbarWidth = tr.grid.Scrollbar._trackThickness = (w1 - w2);
	if(scrollbarWidth &gt; 0) {
		tr.grid.Scrollbar._clearStaticResources();
		return true;
	}
	return false;
};
/** @private
* @function
*/
tr.grid.Scrollbar._clearStaticResources = function () {
	tr.grid.Scrollbar._innerDummy = tr.grid.Scrollbar._outerDummy = null;
	var listeners = tr.grid.Scrollbar._listeners;
	if(listeners) {
		tr.grid.Scrollbar._listeners = null;

		var arg = {};
		for(var i = listeners.length; --i &gt;= 0;) {
			listeners[i](arg);
		}
	}
};
/** @public
* @function
*/
tr.grid.Scrollbar.updateTrackThickness = function () {
	tr.grid.Scrollbar._trackThickness = 0;
	tr.grid.Scrollbar._queryTimeout = 0;
	tr.grid.Scrollbar._queryStarted = false;
	tr.grid.Scrollbar._queryNativeTrackThickness();
};


/** @override */
tr.grid.Scrollbar.prototype.dispose = function () {
	this.unlistenAll();
	if(this._smoothingId) {
		clearInterval(this._smoothingId);
		this._smoothingId = 0;
	}

	this._active = this._layoutChanged = false;
	this._topNode.dispose();
	for(var i = this._panes.length; --i &gt;= 0;) {
		this._panes[i].dispose();
		this._paneSliders[i].dispose();
	}
	this._reverter.dispose();
};
/** @override */
tr.grid.Scrollbar.prototype.getContent = function (opt_allContent) {
	return this._paneSliders[0].getContent(opt_allContent);
};
/** @override */
tr.grid.Scrollbar.prototype.getParent = function () {
	return this._parentNode;
};
/** @override */
tr.grid.Scrollbar.prototype.setParent = function (p, opt_prepend) {
	var elem = tr.getElement(p);

	var isDifferentParent = this._parentNode !== elem;
	if(isDifferentParent &amp;&amp; this._parentNode) {
		this.removeWheelListener(this._parentNode);
		this._parentNode.classList.remove(this._hostClassName);
	}

	if(this.isActive()) {
		this._topNode.setParent(elem, opt_prepend); // This also reorder scrollbar to the top or bottom (z-order) of the view
		this._parentNode = /** @type{Element} */(this._topNode.getParent());
		if(this._parentNode) {
			this._parentNode.classList.add(this._hostClassName);
		}
	} else {
		this._parentNode = elem;
	}
	if(isDifferentParent) {
		this.addWheelListener(this._parentNode);
	}
};
/** @public
* @param {Element|Node} host
*/
tr.grid.Scrollbar.prototype.attachToExternalElement = function (host) {
	this.setParent(host);
	var scrollElem = this.getElement();
	scrollElem.style.right = "0";
	if(this._vertical) {
		scrollElem.style.overflowX = "hidden";
	} else {
		scrollElem.style.overflowY = "hidden";
	}
	scrollElem.style.boxSizing = "border-box";
	scrollElem.style.position = "absolute";
	scrollElem.style.outline = "none";
};

/** @private
*/
tr.grid.Scrollbar.prototype._onActiveStateChange = function () {
	var t = this; // Minimize file size
	t._scrollTo(0, true); // WARNING: Reset scroll position
	var i;
	if(t._active) {
		// t._topNode.hide(false);
		if(t._parentNode) {
			t._layoutDirty = true;
			t._topNode.setParent(t._parentNode);
			t._parentNode.classList.add(t._hostClassName);
		}
		t._flash(); // WARNING: Auto flashing

		// Activate scrollbar on all panes
		for (i = t._panes.length; --i &gt;= 0; ) {
			t._panes[i].removeClass("scroll-disabled");
		}
		t._dispatch("activated", {});
	} else {
		// t._topNode.hide();
		t._topNode.setParent(null);
		if(t._parentNode) {
			t._parentNode.classList.remove(t._hostClassName);
		}

		// Remove scrollbar on all panes
		var prop = (t._vertical) ? "height" : "width";
		for (i = t._panes.length; --i &gt;= 0; ) {
			t._panes[i].addClass("scroll-disabled");
			t._panes[i].setStyle(prop, "");
		}
		t._dispatch("deactivated", {});
	}
	if(t._vertical) {
		if(t._otherScrollbar &amp;&amp; t._otherScrollbar.isActive()) {
			t._otherScrollbar.invalidate(); // Vertical scrollbar can have an impact on horizontal track size
		}
	}
};
/** @private
*/
tr.grid.Scrollbar.prototype._onEnablingStateChange = function () {
	var t = this; // Minimize file size
	if(t._enabled) {
		t._dispatch("enabled", {});
	} else {
		t._dispatch("disabled", {});
	}
};

/** @public
* @return {boolean}
*/
tr.grid.Scrollbar.prototype.isActive = function () {
	return this._active;
};
/** @public
* @return {boolean}
*/
tr.grid.Scrollbar.prototype.isEnabled = function () {
	return this._enabled;
};
/** @public
* @param {boolean=} opt_enabled
*/
tr.grid.Scrollbar.prototype.enable = function (opt_enabled) {
	opt_enabled = opt_enabled !== false;
	if(this._enabled != opt_enabled) {
		this._enabled = opt_enabled;
		this._updateLayout();
		this._onEnablingStateChange();
	}
};
/** @public
* @param {boolean=} opt_disabled
*/
tr.grid.Scrollbar.prototype.disable = function (opt_disabled) {
	this.enable(opt_disabled === false);
};

/** @public
* @return {number}
*/
tr.grid.Scrollbar.prototype.getTrackSize = function () { return this._trackSize; };
/** This is equivalent to clientHeight or clientWidth (i.e. view port).
* @public
* @ignore
* @return {number} Pane size without zoom factor
*/
tr.grid.Scrollbar.prototype.getPaneSize = function () { return this._paneSize; };
/** This is equivalent to scrollHeight or scrollWidth
* @public
* @return {number} Content size without zoom factor
*/
tr.grid.Scrollbar.prototype.getContentSize = function () { return this._pContentSize; };
/** @public
*/
tr.grid.Scrollbar.prototype.getTrackThickness = function () { return tr.grid.Scrollbar._trackThickness; };

/** Get available space for scrolling which is equivalent to content size subtracted by view size
* @public
* @return {number}
* @see {@link https://developer.mozilla.org/en-US/docs/Web/API/Element/scrollHeight|scrollHeight}
* @see {@link https://developer.mozilla.org/en-US/docs/Web/API/Element/scrollWidth|scrollWidth}
*/
tr.grid.Scrollbar.prototype.getScrollGap = function () {
	return this._pContentSize - this.getPaneSize();
};

/** @public
* @param {number} size
* @param {number} paneSize
*/
tr.grid.Scrollbar.prototype.setTrackSize = function (size, paneSize) {
	this._trackSize = size &gt; 0 ? size : 0;
	this._paneSize = paneSize &gt; 0 ? paneSize : 0;

	// Actually it should invoke _updateLayout() immediately for active-state updating here.
	// But grid always invokes _updateLayout() implicitly after invokes setTrackSize(),
	// so _updateLayout() invoking is unneccessory.
};
/** Must be implemented by the inheritance
* @protected
* @return {number}
*/
tr.grid.Scrollbar.prototype.calculateContentSize = function () { return 0; };

/** @public
* @return {boolean} Return true if there is any change, otherwise false
*/
tr.grid.Scrollbar.prototype.update = function () {
	if(this._contentDirty) { // WARNING: Causes page recalculation
		this._contentDirty = false;
		var size = this.calculateContentSize();
		if(!size || size &lt; 0) {
			size = 0;
		}
		if(this._pContentSize !== size) {
			this._pContentSize = size;
			this._layoutDirty = true;
		}
	}
	if(this._layoutDirty) {
		this._layoutDirty = false;
		this._updateLayout();
		return true;
	}
	return false;
};
/** @public
* @param {boolean=} forceUpdate
* @param {number=} scrollVal
* @ignore
*/
tr.grid.Scrollbar.prototype.invalidate = function (forceUpdate, scrollVal) {
	this._contentDirty = true;
	this._layoutDirty = true;
	if(scrollVal != null) {
		this._pScrollVal = scrollVal;
	}
	if(forceUpdate) {
		this.update();
	}
};
/** @public
* @ignore
*/
tr.grid.Scrollbar.prototype.invalidateContent = function () {
	this._contentDirty = true;
};
/** Validates scrollbar-position against real content-size and pane-size
* @public
* @ignore
* @param {number} contentSize
* @return {boolean}
*/
tr.grid.Scrollbar.prototype.isScrollPosValid = function(contentSize) {
	var scrollGap = contentSize - this.getPaneSize();
	var pScrollVal = this._pScrollVal;
	return (pScrollVal === 0) || ((pScrollVal &gt; 0) &amp;&amp;
		(scrollGap &gt; 0) &amp;&amp; (pScrollVal &lt; scrollGap));
};
/** @public
*/
tr.grid.Scrollbar.prototype.flash = function () {
	this.update();
	this._flash();
};

/** @protected
* @ignore
* @param {number} pScrollVal
*/
tr.grid.Scrollbar.prototype._scroll = function (pScrollVal) {
	this._scrollTo(this._pScrollVal + pScrollVal);
};
/** @protected
* @ignore
* @param {number} pScrollVal Scroll value of the pane (not the track)
* @param {boolean=} layoutChanged Force triggering scroll event
*/
tr.grid.Scrollbar.prototype._scrollTo = function (pScrollVal, layoutChanged) {
	if(!this._active &amp;&amp; !layoutChanged) {
		return;
	}
	pScrollVal = this._calcProperScrollValue(pScrollVal);

	var dirty = false;
	if(this._pScrollVal !== pScrollVal) {
		this._pScrollVal = pScrollVal; // Fix asynchronous of tracking issue
		dirty = true;
	}

	this._setTrackScrollVal(pScrollVal);

	if(dirty) {
		if(layoutChanged) {
			this._layoutChanged = true;
		}
		this._dispatchScrollEvent(null); // Event is fire synchronously
	} else if(layoutChanged) {
		this._dispatch("layoutChanged", {});
	}
};
/** @private
* @param {number} scrollVal
* @return {number}
*/
tr.grid.Scrollbar.prototype._calcProperScrollValue = function (scrollVal) {
	if(!scrollVal || scrollVal - 0.5 &lt; 0) {
		return 0;
	}
	if(this._tPercentVal &gt;= 1 &amp;&amp; Math.abs(this._pScrollVal - scrollVal) &lt;= 2) {
		return this._pScrollVal; // Zooming could cause recalculation errors, so we try to snap the value to the end of the scrollbar
	}

	var scrollGap = this.getScrollGap();
	if(scrollGap &lt;= 0) { // Scrollbar is disabled or inactive
		return 0;
	} else if(scrollVal + 0.5 &gt;= scrollGap) {
		return scrollGap;
	}

	var step = this._step;
	if(step) { // Step scrolling
		scrollVal = Math.round(scrollVal / step) * step;
		if(scrollVal - step / 2 &lt;= 0) {
			return 0;
		} else if(scrollVal + step / 2 &gt;= scrollGap) {
			return scrollGap;
		}
	}
	return Math.round(scrollVal); // Scroll value can only be integers
};
/** @private
* @param {number} tScrollVal Track scroll value
* @return {number}
*/
tr.grid.Scrollbar.prototype._convertTrackToPane = function (tScrollVal) {
	tScrollVal = Math.round(tScrollVal); // tScrollVal may not be an integer due to zooming

	// Track scroll could be changed due to browser's zoom. We need to avoid unnecessary changes
	var trackGap = this._getTrackGap();
	if(this._tPercentVal &gt;= 1) {
		var pct = tScrollVal / trackGap;
		if(Math.abs(this._tScrollVal - tScrollVal) &lt;= 5) {
			tScrollVal = trackGap;
		}
	}

	this._tScrollVal = tScrollVal;
	this._tPercentVal = trackGap ? tScrollVal / trackGap : 0;

	// Convert track value to pane value
	var paneGap = this.getScrollGap();
	var pScrollVal = (trackGap === paneGap) ? tScrollVal : this._tPercentVal * paneGap;
	return pScrollVal;
};
/** @private
* @param {number} pScrollVal Pane scroll value
* @return {boolean} Return true, if there is any change to track value
*/
tr.grid.Scrollbar.prototype._setTrackScrollVal = function(pScrollVal) {
	var trackGap = this._getTrackGap();
	var tScrollVal = 0;
	if(trackGap &gt; 0) {
		if(pScrollVal &gt; 0) {
			var paneGap = this.getScrollGap();
			tScrollVal = (trackGap === paneGap) ? pScrollVal : pScrollVal / paneGap * trackGap;
			tScrollVal = Math.round(tScrollVal); // Avoid calculation error due to fractions from conversion
		}
		if(tScrollVal &gt;= trackGap) {
			tScrollVal = trackGap;
		}
	}

	if(tScrollVal !== this._tScrollVal) {
		this._tScrollVal = tScrollVal;
		this._tPercentVal = trackGap ? tScrollVal / trackGap : 0;

		// Scroll event will be fired asynchronously, if there is any change
		var track = this._topNode.getElement();
		if(this._vertical) {
			track.scrollTop = tScrollVal;
		} else {
			track.scrollLeft = tScrollVal;
		}
		return true;
	}
	return false;
};
/** Get gap between thumb and its track
* @private
* @return {number}
*/
tr.grid.Scrollbar.prototype._getTrackGap = function () {
	var trackGap = this._tContentSize - this.getTrackSize();
	return trackGap &gt; 0 ? trackGap : 0;
};

/** @protected
* @ignore
* @return {number}
*/
tr.grid.Scrollbar.prototype._getScrollValue = function () {
	return this._pScrollVal;
};
/** @protected
* @ignore
* @return {boolean}
*/
tr.grid.Scrollbar.prototype._isEndOfScroll = function () {
	if(!this._active) {
		return true; // TODO: Check if inactive state means end of scrolling
	}

	return this._pScrollVal &gt;= this.getScrollGap();
};
/** @protected
* @ignore
* @return {boolean}
*/
tr.grid.Scrollbar.prototype._isStartOfScroll = function() {
	return !this._pScrollVal;
};
/** @protected
* @ignore
* @param {number} diff
* @return {boolean}
*/
tr.grid.Scrollbar.prototype._isOnEdge = function (diff) {
	return (diff &lt; 0 &amp;&amp; this._isStartOfScroll()) || (diff &gt; 0 &amp;&amp; this._isEndOfScroll());
};
/** @protected
* @ignore
*/
tr.grid.Scrollbar.prototype._flash = function () {
	if(!this._active || !this._autoHideScrollbar) { return; }

	if(this._fadingId) {
		this._postponeFading = true;
	} else {
		if(this._topNode._fading) { // This can improve performance a lot
			this._topNode.removeClass("grid-scroll-fadeout");
			this._topNode._fading = false;
		}
		this._fadingId = setTimeout(this._onStartFading, 1000);
	}
};

/** @protected
* @ignore
*/
tr.grid.Scrollbar.prototype._clearAllPanes = function() {
	for (var i = this._panes.length; --i &gt;= 0; ) {
		this._panes[i].setParent(null);
		var paneSlider = this._paneSliders[i];
		paneSlider._content = paneSlider._columns = null;
		var elem = paneSlider.getElement();
		while (elem.firstChild !== null) {
			elem.removeChild(elem.firstChild);
		}
	}
};

/** @public
* @param {boolean=} opt_disabled
*/
tr.grid.Scrollbar.prototype.disableKeyboardInput = function (opt_disabled) {
	if(opt_disabled === false) {
		this._topNode.setAttribute(tr.res.tabindex, "0");
		this._topNode.listen("keydown", this._onKeyDown);
	} else {
		this._topNode.removeAttribute(tr.res.tabindex);
		this._topNode.unlisten("keydown", this._onKeyDown);
	}
};
/** @public
* @param {boolean=} opt_disabled
*/
tr.grid.Scrollbar.prototype.disableTouchInput = function (opt_disabled) {
	this._touchInput = (opt_disabled === false);
};

/** Set scrollbar autohide status If set to false, scrollbar will always be shown and no fading
* @public
* @param {boolean} hide true if autohide, false if not
*/
tr.grid.Scrollbar.prototype.setAutoHide = function (hide) {
	this._autoHideScrollbar = hide;
	if(!hide) { // Always show scrollbar
		if(this._topNode._fading) {
			this._topNode.removeClass("grid-scroll-fadeout");
			this._topNode._fading = false;
		}
		if(this._fadingId) {
			clearTimeout(this._fadingId);
			this._fadingId = 0;
		}
	}
};

/** Get scrollbar autohide status
* @public
* @return {boolean} true if autohide, false if not
*/
tr.grid.Scrollbar.prototype.getAutoHide = function () {
	return this._autoHideScrollbar;
};

/** Set reference to other scrollbar. For internal use only
* @public
* @ignore
* @param {tr.grid.Scrollbar} scrollbar Other scrollbar object
*/
tr.grid.Scrollbar.prototype.setOtherScrollbar = function(scrollbar){
	this._otherScrollbar = scrollbar;
};

/** Set number of expected frozen footer count. For internal use only.
* @public
* @ignore
* @param {number} num
*/
tr.grid.Scrollbar.prototype.setFooterCount = function(num){
	this._footerCount = num;
};

/** @private
* @return {boolean}
*/
tr.grid.Scrollbar.prototype._calcActiveState = function () {
	if(this._enabled) {
		if(this.getTrackSize() &gt; 20) {
			var paneSize = this.getPaneSize();
			if(paneSize &gt; 0) {
				return (this._pContentSize - paneSize &gt; 0);
			}
		}
	}
	return false;
};
/** @private
*/
tr.grid.Scrollbar.prototype._updateLayout = function () {
	var active = this._calcActiveState();
	if(active !== this._active) {
		this._active = active;
		this._onActiveStateChange();
	}
	if(!this._active) {
		return;
	}

	var trackSize = this.getTrackSize();
	var paneSize = this.getPaneSize();
	this._tContentSize = this._pContentSize / paneSize * trackSize;
	if (this._vertical) {
		this._trackContent.style.height = this._tContentSize + "px";

		this._topNode.setHeight(trackSize);
		this._panes[0].setHeight(paneSize);
	} else {
		this._trackContent.style.width = this._tContentSize + "px";

		this._topNode.setWidth(trackSize);
		for (var i = this._panes.length; --i &gt;= 0;) {
			this._panes[i].setWidth(paneSize);
		}
	}

	// Since track could be smaller, scrollVal needs to be updated. Also UI needs to be always updated too
	this._scrollTo(this._pScrollVal, true); // Scroll event may be fired
};

/** @public
* @ignore
*/
tr.grid.Scrollbar.prototype.resetPaneSize = function () {
	var prop = (this._vertical) ? "height" : "width";
	for (var i = this._panes.length; --i &gt;= 0;) {
		this._panes[i].setStyle(prop, "");
	}
};

/** @private
* @param {MouseEvent} e
*/
tr.grid.Scrollbar._preventVScrolling = function(e) {
	e.currentTarget.scrollTop = 0;
};
/** @private
* @param {MouseEvent} e
*/
tr.grid.Scrollbar._preventHScrolling = function(e) {
	e.currentTarget.scrollLeft = 0;
};

/** @protected
* @ignore
* @param {number=} opt_at
*/
tr.grid.Scrollbar.prototype._addPaneAt = function (opt_at) {
	if(opt_at === undefined) {
		opt_at = this._panes.length;
	}

	var pane = this._panes[opt_at];
	if(!pane) {
		pane = new tr.ElementWrapper(document.createElement("div"));
		pane.setClass("grid-pane");
		if(this._vertical) {
			pane.addClass("sections"); // The pane will host multiple sections
			pane.listen("scroll", tr.grid.Scrollbar._preventVScrolling);
		} else {
			pane.addClass("columns"); // The pane will host multiple columns
			pane.listen("scroll", tr.grid.Scrollbar._preventHScrolling);
		}
		if(!this._active) {
			pane.addClass("scroll-disabled");
		}
		if(this._paneSize &amp;&amp; this._active) {
			var paneSize = this.getPaneSize();
			if(this._vertical) {
				pane.setHeight(paneSize);
			} else {
				pane.setWidth(paneSize);
			}
		}
		pane.listen("touchstart", this._onTouchStart);
		pane.listen("touchmove", this._onTouchMove);
		pane.listen("touchend", this._onTouchEnd);
		pane.listen("touchcancel", this._onTouchEnd);

		var paneSlider = new tr.ElementWrapper(document.createElement("div"));
		paneSlider.setClass("grid-pane-slider");
		paneSlider.setParent(pane);

		this._panes[opt_at] = pane;
		this._paneSliders[opt_at] = paneSlider;
	}
	return pane;
};
/** @private
* @param {!Event} e
*/
tr.grid.Scrollbar.prototype._onStartFading = function (e) {
	this._fadingId = 0;
	if(!this._active) { return; }
	if(this._postponeFading) {
		this._postponeFading = false;
		this._flash();
	} else {
		if(!this._topNode._fading) {
			this._topNode.addClass("grid-scroll-fadeout");
			this._topNode._fading = true;
		}
	}
};
/** Scrolling from the UI
* @private
* @param {Object} e
*/
tr.grid.Scrollbar.prototype._onTrackScroll = function (e) {
	var tScrollVal = (this._vertical) ? e.target[tr.res.scrollTop] : e.target[tr.res.scrollLeft];

	var pScrollVal = this._convertTrackToPane(tScrollVal);

	pScrollVal = this._calcProperScrollValue(pScrollVal);

	if(pScrollVal !== this._pScrollVal) { // Prevent duplicate event firing
		this._pScrollVal = pScrollVal;
		this._dispatchScrollEvent(e);
	}
};

/** @private
*/
tr.grid.Scrollbar.prototype._onRestingPosition = function () {
	this._setSliderPosition(-this._pScrollVal, true);
};
/** @private
* @param {number} scrollVal
* @param {boolean=} resting
*/
tr.grid.Scrollbar.prototype._setSliderPosition = function (scrollVal, resting) {
	var translateStr = "";
	var relativeStr = "";
	var direction = this._vertical ? "top" : "left";
	if(scrollVal) {
		if(resting) {
			relativeStr = scrollVal + "px";
		} else {
			translateStr = this._vertical ? "translateY" : "translateX";
			translateStr += "(" + scrollVal + "px)";
			this._reverter.start();
		}
	}
	for (var i = this._paneSliders.length; --i &gt;= 0; ) {
		var paneSlider = this._paneSliders[i];
		var paneSliderStyle = paneSlider.getElement().style;
		if(paneSlider._titleSection) {
			paneSliderStyle[direction] = scrollVal + "px";
		} else {
			paneSliderStyle.transform = translateStr;
			paneSliderStyle[direction] = relativeStr; // WORKAROUND: GRID-402
		}
	}
	if(resting) {
		this._dispatch("scrollEnd", {});
	} else {
		this._dispatch("scrollStart", {});
	}
};
/** @private
* @param {Object=} e
*/
tr.grid.Scrollbar.prototype._dispatchScrollEvent = function (e) {
	this._setSliderPosition(-this._pScrollVal, false);

	this._flash(); // Slider has been updated. Flash the track's UI

	// Fire scroll event synchronously
	if(!this._getEvent("scroll").isDispatching()) { // VScrollbar may change scroll value
		if(!e) {
			var target = this._topNode.getElement();
			e = {
				"currentTarget": target,
				"srcElement": target,
				"target": target
			};
		}
		e["layoutChanged"] = this._layoutChanged;	// Do not close the editor - the scroll is due to a layout change - this a not an actual scroll - see QuoteList.js (monitor-grid)
		if(this._vertical) {
			e[tr.res.scrollTop] = this._pScrollVal; // For backward compatibility
		} else {
			e[tr.res.scrollLeft] = this._pScrollVal;
		}

		this._dispatch("scroll", e);
	}
};
/** @private
* @param {!Event} e
*/
tr.grid.Scrollbar.prototype._onKeyDown = function (e) {
	if(!this._active) { return; }
	if (this._isFrozen) {
		tr._preventDefault(e);
		return;
	}

	var isArrow = false;
	if(this._vertical) {
		isArrow = (e.keyCode === 38 || e.keyCode === 40);
	} else {
		isArrow = (e.keyCode === 37 || e.keyCode === 39);
	}

	if(isArrow) {
		var scrollGap = this.getScrollGap();
		var scrollVal = Math.round(scrollGap * 0.07);
		if(scrollVal &lt; 10) {
			scrollVal = 10;
		} else if(scrollVal &gt; 100) {
			scrollVal = 100;
		}
		if(e.keyCode === 37 || e.keyCode === 38) { // Left or Up
			scrollVal *= -1;
		}
		this._scroll(scrollVal);
		tr._preventDefault(e);
	}
};

/** @private
* @param {Event} e
*/
tr.grid.Scrollbar.prototype._onTouchStart = function (e) {
	if (this._isFrozen) {
		tr._preventDefault(e);
		return;
	}
	if(this._swiping || !this._touchInput) {
		return;
	}
	if(this._vertical) { // Vertical scrollbar is optimized, so that it will not be activated on row change event
		this.update();
	}
	this._flash();

	if(this._smoothingId) {
		clearInterval(this._smoothingId);
		this._smoothingId = 0;
	}

	this._swiping = true;
	this._getTouchInfo(e, this._startPos);
};
/** @private
* @param {Event} e
*/
tr.grid.Scrollbar.prototype._onTouchMove = function(e) {
	var t = this;

	if (t._isFrozen) {
		tr._preventDefault(e);
		return;
	}
	// Stop scrolling when scrollbar becomes inactive
	if(!t._swiping || !t._active || !t._touchInput) {
		return;
	}

	if(e.touches &amp;&amp; e.touches.length &gt; 1) {
		return;
	}

	var sp = t._startPos;
	var ep = t._endPos;
	t._getTouchInfo(e, ep);
	var diff = (this._vertical) ? sp["y"] - ep["y"] : sp["x"] - ep["x"];

	if(diff &gt; -5 &amp;&amp; diff &lt; 5) {
		return;
	} else if(t._isOnEdge(diff)) {
		return;
	}

	if(t._touchDrag) {
		t._scrollTo(sp["scrollValue"] + diff);
	} else {
		var duration = ep["timeStamp"] - sp["timeStamp"];
		if(duration &gt; 30) {
			t._touchDrag = true;
		}
	}

	if(e.cancelable) {
		e.preventDefault();
	}
};
/** @private
* @param {Event} e
*/
tr.grid.Scrollbar.prototype._onTouchEnd = function (e) {
	if (this._isFrozen) {
		tr._preventDefault(e);
		return;
	}

	this._swiping = false;
	if(this._touchDrag) {
		this._touchDrag = false;

		if(e.cancelable) {
			e.preventDefault();
		}

		if(this._smoothing &amp;&amp; !this._smoothingId) {
			var sp = this._startPos;
			var ep = this._getTouchInfo(e, this._endPos);
			var duration = ep["timeStamp"] - sp["timeStamp"];
			var diff = (this._vertical) ? (sp["y"] - ep["y"]) : (sp["x"] - ep["x"]);
			this._smoothingSpeed = diff * 30 / duration; // pixel per milliseconds
			if(this._smoothingSpeed &gt; 10 || this._smoothingSpeed &lt; -10) {
				this._smoothingId = setInterval(this._smoothScroll, 25);
			}
		}
	}
};
/** @private
* @param {Event} e
* @param {Object=} obj
* @return {!Object}
*/
tr.grid.Scrollbar.prototype._getTouchInfo = function(e, obj) {
	var touch = e.changedTouches[0];
	if(!obj) {
		obj = {};
	}
	obj["x"] = touch.pageX;
	obj["y"] = touch.pageY;
	obj["timeStamp"] = e.timeStamp;
	obj["scrollValue"] = this._getScrollValue();
	return obj;
};
/** @private
*/
tr.grid.Scrollbar.prototype._smoothScroll = function() {
	var ss = this._smoothingSpeed;
	ss = (ss * 0.9) | 0; // OR operator is not equivalent to Math.floor()
	this._smoothingSpeed = ss;
	if(ss &gt; 1 || ss &lt; -1) {
		this._scroll(ss);
	} else {
		clearInterval(this._smoothingId);
		this._smoothingId = 0;
	}
};

/** @public
* @param {boolean=} opt_disabled
*/
tr.grid.Scrollbar.prototype.disableMouseWheel = function (opt_disabled) {
	if(opt_disabled === false) {
		this.setMouseWheelLogic(this._mouseWheelLogic || this._onMouseWheel);
	} else {
		this.setMouseWheelLogic(null);
	}
};
/** @public
* @ignore
* @param {Function} handler
*/
tr.grid.Scrollbar.prototype.setMouseWheelLogic = function (handler) {
	this.removeWheelListener(this._parentNode);

	this._mouseWheelLogic = handler;

	if(this._mouseWheelLogic) {
		// Wheel listener should be added to parentNode (utilizing event bubbling)
		this.addWheelListener(this._parentNode);
	}
};
/** @public
* @param {Element} elem Element that will trigger scrolling by mouse wheel
*/
tr.grid.Scrollbar.prototype.addWheelListener = function (elem) {
	if(elem &amp;&amp; this._mouseWheelLogic) {
		// Note that this wheel event can not use passive options ({passive: false}) because of the need to prevent default behavior
		elem.addEventListener("wheel", this._mouseWheelLogic, false);
	}
};
/** @public
* @param {Element} elem Element that will trigger scrolling by mouse wheel
*/
tr.grid.Scrollbar.prototype.removeWheelListener = function (elem) {
	if(elem &amp;&amp; this._mouseWheelLogic) {
		elem.removeEventListener("wheel", this._mouseWheelLogic, false);
	}
};
/** @public
* @param {string} val
*/
tr.grid.Scrollbar.prototype.setMouseWheelSpeed = function (val) {
	this._wheelScrolling = typeof val == "string" ? val : "";
};
/** @public
* @ignore
* @return {string}
*/
tr.grid.Scrollbar.prototype.getMouseWheelSpeed = function () {
	return this._wheelScrolling;
};
/** @public
* @return {function(Event)} Mouse wheel logic that is attached to this instance
*/
tr.grid.Scrollbar.prototype.getDefaultMouseWheelLogic = function () {
	return this._onMouseWheel;
};
/** TODO: Support mouse wheel (currently works only touchpad wheel)
* @private
* @param {Event} e
*/
tr.grid.Scrollbar.prototype._onMouseWheel = function (e) {
	// Blacklist for prevent triggering the scrollbar when the dialog is opened.
	if(e.target.opened) { // get attribute method doesn't work in elf element
		return;
	}
	if (this._isFrozen) {
		tr._preventDefault(e);
		return;
	}
	if(e.ctrlKey || e.altKey || e.shiftKey) { return; }
	if(!this.isActive()) { return; }

	var delta = (this._vertical) ? e["deltaY"] : e["deltaX"];

	if(!delta) { return; }

	if(this._isOnEdge(delta)) { return; }

	// We must prevent on a passive event such as "wheel" to prevent default scrolling of the window
	tr._preventDefault(e);

	// Only Firefox implements deltaMode. All other browsers use DOM_DELTA_PIXEL in most of the cases
	// See https://github.com/w3c/uievents/issues/181 and https://github.com/svgdotjs/svg.panzoom.js/issues/67
	// Hence, we need to normalize the delta value, so every browser have similar mousewheel behaviors.
	if(e.deltaMode) { // https://developer.mozilla.org/en-US/docs/Web/API/WheelEvent/deltaMode
		delta = (delta &gt; 0) ? 100 : -100; // WARNING: We use estimated value, since there is no simple way to calculate actual pixel value
	}

	if(this._wheelScrolling != "linear") {
		var scrollSize = this.getContentSize();
		if(scrollSize &gt;= 4000) { // Scaling for large content
			delta *= 1 + scrollSize / 4000 | 0; // If scrollSize == 4000, delta *= 2. If scrollSize == 8000, delta *= 3
		}
	}

	this.update();
	this._scroll(delta);
};

/** @public
* @param {number} px
*/
tr.grid.Scrollbar.prototype.setScrollingStep = function (px) {
	this._step = (px &gt; 0) ? px : 0;
};

/** prevent all scrollbar action using stopPropagation and preventDefault
* @public
* @param {boolean=} frozen=true
* @return {boolean} return previous frozen status
*/
tr.grid.Scrollbar.prototype.freezeScrolling = function (frozen) {
	var prev = this._isFrozen;
	this._isFrozen = frozen !== false;
	return prev;
};
/** @public
*/
tr.grid.Scrollbar.prototype.restoreTrackPosition = function () {
	// Scroll event will be fired asynchronously, if there is any change
	var track = this._topNode.getElement();
	if(this._vertical) {
		track.scrollTop = this._tScrollVal;
		if(track.scrollTop){
			this._tScrollVal = track.scrollTop; //Check to ensure that cache equal to element's scroll
		}
	}
	//TODO: handle restore scrollLeft for hscroll
};

goog.exportSymbol("tr.grid.Scrollbar", tr.grid.Scrollbar);
goog.exportSymbol("tr.grid.Scrollbar.updateTrackThickness", tr.grid.Scrollbar.updateTrackThickness);
(function() {
var pt = tr.grid.Scrollbar.prototype;
var methodMap = {
	"dispose": pt.dispose,
	"getParent": pt.getParent,
	"setParent": pt.setParent,
	"getContent": pt.getContent,

	"setAutoHide": pt.setAutoHide,
	"getAutoHide": pt.getAutoHide,
	"setTrackSize": pt.setTrackSize,

	"disableKeyboardInput": pt.disableKeyboardInput,
	"disableTouchInput": pt.disableTouchInput,

	"disableMouseWheel": pt.disableMouseWheel,
	"setMouseWheelLogic": pt.setMouseWheelLogic,
	"addWheelListener": pt.addWheelListener,
	"removeWheelListener": pt.removeWheelListener,
	"setMouseWheelSpeed": pt.setMouseWheelSpeed,
	"getDefaultMouseWheelLogic": pt.getDefaultMouseWheelLogic,

	"isActive": pt.isActive,
	"isEnabled": pt.isEnabled,
	"enable": pt.enable,
	"disable": pt.disable,

	"getTrackSize": pt.getTrackSize,
	"getPaneSize": pt.getPaneSize,
	"getContentSize": pt.getContentSize,
	"getTrackThickness": pt.getTrackThickness,
	"getScrollGap": pt.getScrollGap,

	"update": pt.update,
	"flash": pt.flash,

	"attachToExternalElement": pt.attachToExternalElement,

	"setScrollingStep": pt.setScrollingStep,
	"freezeScrolling": pt.freezeScrolling,

	"restoreTrackPosition": pt.restoreTrackPosition
};
// Export methods for Closure's advanced compilation
for(var methodName in methodMap) {
	goog.exportProperty(pt, methodName, methodMap[methodName]);
}
})();
</code></pre>
        </article>
    </section>




</div>

<nav>
    <h2><a href="index.html">Home</a></h2><h3>Namespaces</h3><ul><li><a href="AdFin.html">AdFin</a></li><li><a href="DateTime.html">DateTime</a></li><li><a href="Info.html">Info</a></li><li><a href="Logic.html">Logic</a></li><li><a href="Math.html">Math</a></li><li><a href="Realtime.html">Realtime</a></li><li><a href="Statistic.html">Statistic</a></li><li><a href="Text.html">Text</a></li><li><a href="tr.ElementFrameWork.html">ElementFrameWork</a></li><li><a href="tr.PipDefinition.html">PipDefinition</a></li></ul><h3>Classes</h3><ul><li><a href="tr.ADCSubscription.html">ADCSubscription</a></li><li><a href="tr.AdFinSubscription.html">AdFinSubscription</a></li><li><a href="tr.cgrid.editor.TextBox.html">TextBox</a></li><li><a href="tr.cgrid.filter.TextBox.html">TextBox</a></li><li><a href="tr.cgrid.formatter.AsyncFormatter.html">AsyncFormatter</a></li><li><a href="tr.cgrid.formatter.CheckBox.html">CheckBox</a></li><li><a href="tr.cgrid.formatter.UpDownColor.html">UpDownColor</a></li><li><a href="tr.ColumnStats.html">ColumnStats</a></li><li><a href="tr.CompositeGrid.html">CompositeGrid</a></li><li><a href="tr.DataCache.html">DataCache</a></li><li><a href="tr.DataTable.html">DataTable</a></li><li><a href="tr.DataView.html">DataView</a></li><li><a href="tr.DropDown.html">DropDown</a></li><li><a href="tr.ElementControl.html">ElementControl</a></li><li><a href="tr.ElementWrapper.html">ElementWrapper</a></li><li><a href="tr.Event.html">Event</a></li><li><a href="tr.EventDispatcher.html">EventDispatcher</a></li><li><a href="tr.EventDispatcher.extendClass-tempCtor.html">tempCtor</a></li><li><a href="tr.EventManager.html">EventManager</a></li><li><a href="tr.FieldFormatter.html">FieldFormatter</a></li><li><a href="tr.fn.Engine.html">Engine</a></li><li><a href="tr.fn.Formula.html">Formula</a></li><li><a href="tr.fn.VariableToken.html">VariableToken</a></li><li><a href="tr.Grid.html">Grid</a></li><li><a href="tr.grid.BidOfferSpan.html">BidOfferSpan</a></li><li><a href="tr.grid.Blinker.html">Blinker</a></li><li><a href="tr.grid.Cell.html">Cell</a></li><li><a href="tr.grid.CellBlinkingPlugin.html">CellBlinkingPlugin</a></li><li><a href="tr.grid.CellEditingPlugin.html">CellEditingPlugin</a></li><li><a href="tr.grid.CellFloatingPanel.html">CellFloatingPanel</a></li><li><a href="tr.grid.CellPainter.html">CellPainter</a></li><li><a href="tr.grid.CellSpan.html">CellSpan</a></li><li><a href="tr.grid.CellSpans.html">CellSpans</a></li><li><a href="tr.grid.CellWriter.html">CellWriter</a></li><li><a href="tr.grid.CheckboxColumnPlugin.html">CheckboxColumnPlugin</a></li><li><a href="tr.grid.ColumnFilterPlugin.html">ColumnFilterPlugin</a></li><li><a href="tr.grid.ColumnSelectionPlugin.html">ColumnSelectionPlugin</a></li><li><a href="tr.grid.ColumnStackingPlugin.html">ColumnStackingPlugin</a></li><li><a href="tr.grid.ColumnWidthAdjustingPlugin.html">ColumnWidthAdjustingPlugin</a></li><li><a href="tr.grid.Conflator.html">Conflator</a></li><li><a href="tr.grid.DataSourceTreePlugin.html">DataSourceTreePlugin</a></li><li><a href="tr.grid.DirectContentBindingPlugin.html">DirectContentBindingPlugin</a></li><li><a href="tr.grid.DragAndDropTitlePlugin.html">DragAndDropTitlePlugin</a></li><li><a href="tr.grid.DraggableContentPlugin.html">DraggableContentPlugin</a></li><li><a href="tr.grid.FindBar.html">FindBar</a></li><li><a href="tr.grid.FindBarPlugin.html">FindBarPlugin</a></li><li><a href="tr.grid.GroupStatisticsPlugin.html">GroupStatisticsPlugin</a></li><li><a href="tr.grid.HeatMapRenderer.html">HeatMapRenderer</a></li><li><a href="tr.grid.HScrollbar.html">HScrollbar</a></li><li><a href="tr.grid.IndexMarker.html">IndexMarker</a></li><li><a href="tr.grid.MovableHeaderPlugin.html">MovableHeaderPlugin</a></li><li><a href="tr.grid.NumberFormatter.html">NumberFormatter</a></li><li><a href="tr.grid.PercentBar.html">PercentBar</a></li><li><a href="tr.grid.PercentBarRenderer.html">PercentBarRenderer</a></li><li><a href="tr.grid.Plugin.html">Plugin</a></li><li><a href="tr.grid.RangeBar.html">RangeBar</a></li><li><a href="tr.grid.ResizableTitlePlugin.html">ResizableTitlePlugin</a></li><li><a href="tr.grid.Reverter.html">Reverter</a></li><li><a href="tr.grid.RowHeightAdjustingPlugin.html">RowHeightAdjustingPlugin</a></li><li><a href="tr.grid.RowSelectionPlugin.html">RowSelectionPlugin</a></li><li><a href="tr.grid.Scrollbar.html">Scrollbar</a></li><li><a href="tr.grid.SectionSettings.html">SectionSettings</a></li><li><a href="tr.grid.SmartTooltipsPlugin.html">SmartTooltipsPlugin</a></li><li><a href="tr.grid.SortableTitlePlugin.html">SortableTitlePlugin</a></li><li><a href="tr.grid.Virtualizer.html">Virtualizer</a></li><li><a href="tr.grid.VScrollbar.html">VScrollbar</a></li><li><a href="tr.grid.ZoomPlugin.html">ZoomPlugin</a></li><li><a href="tr.HttpRequest.html">HttpRequest</a></li><li><a href="tr.IntervalSubscription.html">IntervalSubscription</a></li><li><a href="tr.LayoutGrid.html">LayoutGrid</a></li><li><a href="tr.ListMenu.html">ListMenu</a></li><li><a href="tr.MenuItem.html">MenuItem</a></li><li><a href="tr.MockArchive.html">MockArchive</a></li><li><a href="tr.MockJET.html">MockJET</a></li><li><a href="tr.MockQuotes.html">MockQuotes</a></li><li><a href="tr.MockQuotes2.html">MockQuotes2</a></li><li><a href="tr.MockSubscription.html">MockSubscription</a></li><li><a href="tr.MockSubscriptions.html">MockSubscriptions</a></li><li><a href="tr.Popup.html">Popup</a></li><li><a href="tr.PopupMenu.html">PopupMenu</a></li><li><a href="tr.PrintTrait.html">PrintTrait</a></li><li><a href="tr.RequestQueue.html">RequestQueue</a></li><li><a href="tr.Segment.html">Segment</a></li><li><a href="tr.SegmentCollection.html">SegmentCollection</a></li><li><a href="tr.TSISubscription.html">TSISubscription</a></li><li><a href="tr.WrappedView.html">WrappedView</a></li></ul><h3>Interfaces</h3><ul><li><a href="tr.cgrid.ICompositeExtension.html">ICompositeExtension</a></li><li><a href="tr.grid.IPlugin.html">IPlugin</a></li><li><a href="tr.IElementControl.html">IElementControl</a></li><li><a href="tr.ILayoutGrid.html">ILayoutGrid</a></li></ul><h3>Events</h3><ul><li><a href="tr.CompositeGrid.html#event:cellClicked">cellClicked</a></li><li><a href="tr.CompositeGrid.html#event:cellDblClicked">cellDblClicked</a></li><li><a href="tr.CompositeGrid.html#event:cellMouseDown">cellMouseDown</a></li><li><a href="tr.CompositeGrid.html#event:cellRightClicked">cellRightClicked</a></li><li><a href="tr.CompositeGrid.html#event:columnSorted">columnSorted</a></li><li><a href="tr.CompositeGrid.html#event:editorAttached">editorAttached</a></li><li><a href="tr.CompositeGrid.html#event:editorDetached">editorDetached</a></li><li><a href="tr.CompositeGrid.html#event:filterAdded">filterAdded</a></li><li><a href="tr.CompositeGrid.html#event:filterCleared">filterCleared</a></li><li><a href="tr.CompositeGrid.html#event:filterModified">filterModified</a></li><li><a href="tr.CompositeGrid.html#event:filterRemoved">filterRemoved</a></li><li><a href="tr.CompositeGrid.html#event:mouseLeaveCell">mouseLeaveCell</a></li><li><a href="tr.CompositeGrid.html#event:mouseOverCell">mouseOverCell</a></li><li><a href="tr.CompositeGrid.html#event:pageChanged">pageChanged</a></li><li><a href="tr.CompositeGrid.html#event:selectionChanged">selectionChanged</a></li><li><a href="tr.DataCache.html#event:dataChanged">dataChanged</a></li><li><a href="tr.DataCache.html#event:dataComposed">dataComposed</a></li><li><a href="tr.DataTable.html#event:dataChanged">dataChanged</a></li><li><a href="tr.DataTable.html#event:dataComposed">dataComposed</a></li><li><a href="tr.DataView.html#event:beforeFiltering">beforeFiltering</a></li><li><a href="tr.DataView.html#event:beforeGroupAdded">beforeGroupAdded</a></li><li><a href="tr.DataView.html#event:dataChanged">dataChanged</a></li><li><a href="tr.DataView.html#event:groupAdded">groupAdded</a></li><li><a href="tr.DataView.html#event:groupCriteriaChanged">groupCriteriaChanged</a></li><li><a href="tr.DataView.html#event:pageCountChanged">pageCountChanged</a></li><li><a href="tr.DataView.html#event:pageIndexChanged">pageIndexChanged</a></li><li><a href="tr.DataView.html#event:preDisposed">preDisposed</a></li><li><a href="tr.DataView.html#event:wrapCountChanged">wrapCountChanged</a></li><li><a href="tr.DataView.html#event:wrapSizeChanged">wrapSizeChanged</a></li><li><a href="tr.Formula.html#event:dataCacheChanged">dataCacheChanged</a></li><li><a href="tr.grid.CellEditingPlugin.html#event:cancelled">cancelled</a></li><li><a href="tr.grid.CellEditingPlugin.html#event:change">change</a></li><li><a href="tr.grid.CellEditingPlugin.html#event:closed">closed</a></li><li><a href="tr.grid.CellEditingPlugin.html#event:editorOpened">editorOpened</a></li><li><a href="tr.grid.CellEditingPlugin.html#event:preEditorOpening">preEditorOpening</a></li><li><a href="tr.grid.CheckboxColumnPlugin.html#event:clicked">clicked</a></li><li><a href="tr.grid.ColumnFilterPlugin.html#event:click">click</a></li><li><a href="tr.grid.ColumnFilterPlugin.html#event:iconCreated">iconCreated</a></li><li><a href="tr.grid.ColumnStackingPlugin.html#event:clicked">clicked</a></li><li><a href="tr.grid.ColumnStackingPlugin.html#event:iconCreated">iconCreated</a></li><li><a href="tr.grid.DragAndDropTitlePlugin.html#event:columnMoved">columnMoved</a></li><li><a href="tr.grid.DragAndDropTitlePlugin.html#event:dragged">dragged</a></li><li><a href="tr.grid.DraggableContentPlugin.html#event:drag">drag</a></li><li><a href="tr.grid.DraggableContentPlugin.html#event:dragEnd">dragEnd</a></li><li><a href="tr.grid.DraggableContentPlugin.html#event:dragStart">dragStart</a></li><li><a href="tr.grid.FindBarPlugin.html#event:clicked">clicked</a></li><li><a href="tr.grid.MovableHeaderPlugin.html#event:dragged">dragged</a></li><li><a href="tr.grid.MovableHeaderPlugin.html#event:groupMoved">groupMoved</a></li><li><a href="tr.grid.MovableHeaderPlugin.html#event:sectionMoved">sectionMoved</a></li><li><a href="tr.grid.RowSelectionPlugin.html#event:selectionChanged">selectionChanged</a></li><li><a href="tr.grid.SortableTitlePlugin.html#event:clicked">clicked</a></li><li><a href="tr.grid.SortableTitlePlugin.html#event:columnSorted">columnSorted</a></li><li><a href="tr.grid.SortableTitlePlugin.html#event:preClicked">preClicked</a></li><li><a href="tr.grid.SortableTitlePlugin.html#event:preDataSorting">preDataSorting</a></li><li><a href="tr.Grid.html#event:columnAdded">columnAdded</a></li><li><a href="tr.Grid.html#event:columnAlignmentChanged">columnAlignmentChanged</a></li><li><a href="tr.Grid.html#event:columnRemoved">columnRemoved</a></li><li><a href="tr.Grid.html#event:columnVisibilityChanged">columnVisibilityChanged</a></li><li><a href="tr.Grid.html#event:dataSourceChanged">dataSourceChanged</a></li><li><a href="tr.Grid.html#event:postSectionDataBinding">postSectionDataBinding</a></li><li><a href="tr.Grid.html#event:rowExpansionBinding">rowExpansionBinding</a></li><li><a href="tr.Grid.html#event:rowHighlighted">rowHighlighted</a></li><li><a href="tr.Grid.html#event:sectionAdded">sectionAdded</a></li><li><a href="tr.Grid.html#event:widthChanged">widthChanged</a></li><li><a href="tr.HttpRequest.html#event:abort">abort</a></li><li><a href="tr.HttpRequest.html#event:error">error</a></li><li><a href="tr.HttpRequest.html#event:load">load</a></li><li><a href="tr.HttpRequest.html#event:loadend">loadend</a></li><li><a href="tr.HttpRequest.html#event:loadstart">loadstart</a></li><li><a href="tr.HttpRequest.html#event:timeout">timeout</a></li><li><a href="tr.IElementControl.html#event:blur">blur</a></li><li><a href="tr.IElementControl.html#event:change">change</a></li><li><a href="tr.IElementControl.html#event:click">click</a></li><li><a href="tr.IElementControl.html#event:contextmenu">contextmenu</a></li><li><a href="tr.IElementControl.html#event:dblclick">dblclick</a></li><li><a href="tr.IElementControl.html#event:drag">drag</a></li><li><a href="tr.IElementControl.html#event:dragend">dragend</a></li><li><a href="tr.IElementControl.html#event:dragenter">dragenter</a></li><li><a href="tr.IElementControl.html#event:dragleave">dragleave</a></li><li><a href="tr.IElementControl.html#event:dragover">dragover</a></li><li><a href="tr.IElementControl.html#event:dragstart">dragstart</a></li><li><a href="tr.IElementControl.html#event:drop">drop</a></li><li><a href="tr.IElementControl.html#event:focus">focus</a></li><li><a href="tr.IElementControl.html#event:formchange">formchange</a></li><li><a href="tr.IElementControl.html#event:forminput">forminput</a></li><li><a href="tr.IElementControl.html#event:input">input</a></li><li><a href="tr.IElementControl.html#event:invalid">invalid</a></li><li><a href="tr.IElementControl.html#event:keydown">keydown</a></li><li><a href="tr.IElementControl.html#event:keypress">keypress</a></li><li><a href="tr.IElementControl.html#event:keyup">keyup</a></li><li><a href="tr.IElementControl.html#event:mousedown">mousedown</a></li><li><a href="tr.IElementControl.html#event:mousemove">mousemove</a></li><li><a href="tr.IElementControl.html#event:mouseout">mouseout</a></li><li><a href="tr.IElementControl.html#event:mouseover">mouseover</a></li><li><a href="tr.IElementControl.html#event:mouseup">mouseup</a></li><li><a href="tr.IElementControl.html#event:mousewheel">mousewheel</a></li><li><a href="tr.IElementControl.html#event:reset">reset</a></li><li><a href="tr.IElementControl.html#event:scroll">scroll</a></li><li><a href="tr.IElementControl.html#event:select">select</a></li><li><a href="tr.IElementControl.html#event:submit">submit</a></li><li><a href="tr.ILayoutGrid.html#event:blur">blur</a></li><li><a href="tr.ILayoutGrid.html#event:change">change</a></li><li><a href="tr.ILayoutGrid.html#event:click">click</a></li><li><a href="tr.ILayoutGrid.html#event:contextmenu">contextmenu</a></li><li><a href="tr.ILayoutGrid.html#event:dblclick">dblclick</a></li><li><a href="tr.ILayoutGrid.html#event:drag">drag</a></li><li><a href="tr.ILayoutGrid.html#event:dragend">dragend</a></li><li><a href="tr.ILayoutGrid.html#event:dragenter">dragenter</a></li><li><a href="tr.ILayoutGrid.html#event:dragleave">dragleave</a></li><li><a href="tr.ILayoutGrid.html#event:dragover">dragover</a></li><li><a href="tr.ILayoutGrid.html#event:dragstart">dragstart</a></li><li><a href="tr.ILayoutGrid.html#event:drop">drop</a></li><li><a href="tr.ILayoutGrid.html#event:focus">focus</a></li><li><a href="tr.ILayoutGrid.html#event:formchange">formchange</a></li><li><a href="tr.ILayoutGrid.html#event:forminput">forminput</a></li><li><a href="tr.ILayoutGrid.html#event:input">input</a></li><li><a href="tr.ILayoutGrid.html#event:invalid">invalid</a></li><li><a href="tr.ILayoutGrid.html#event:keydown">keydown</a></li><li><a href="tr.ILayoutGrid.html#event:keypress">keypress</a></li><li><a href="tr.ILayoutGrid.html#event:keyup">keyup</a></li><li><a href="tr.ILayoutGrid.html#event:mousedown">mousedown</a></li><li><a href="tr.ILayoutGrid.html#event:mousemove">mousemove</a></li><li><a href="tr.ILayoutGrid.html#event:mouseout">mouseout</a></li><li><a href="tr.ILayoutGrid.html#event:mouseover">mouseover</a></li><li><a href="tr.ILayoutGrid.html#event:mouseup">mouseup</a></li><li><a href="tr.ILayoutGrid.html#event:mousewheel">mousewheel</a></li><li><a href="tr.ILayoutGrid.html#event:reset">reset</a></li><li><a href="tr.ILayoutGrid.html#event:scroll">scroll</a></li><li><a href="tr.ILayoutGrid.html#event:select">select</a></li><li><a href="tr.ILayoutGrid.html#event:submit">submit</a></li><li><a href="tr.LayoutGrid.html#event:rowCountChanged">rowCountChanged</a></li><li><a href="tr.LayoutGrid.html#event:rowHeightChanged">rowHeightChanged</a></li><li><a href="tr.LayoutGrid.html#event:rowHighlighted">rowHighlighted</a></li><li><a href="tr.Popup.html#event:hidden">hidden</a></li><li><a href="tr.Popup.html#event:shown">shown</a></li><li><a href="tr.PopupMenu.html#event:hidden">hidden</a></li><li><a href="tr.PopupMenu.html#event:shown">shown</a></li><li><a href="tr.PrintTrait.html#event:afterprint">afterprint</a></li><li><a href="tr.PrintTrait.html#event:beforeprint">beforeprint</a></li><li><a href="tr.PrintTrait.html#event:pageCounting">pageCounting</a></li><li><a href="tr.WrappedView.html#event:dataChanged">dataChanged</a></li></ul><h3>Global</h3><ul><li><a href="global.html#cellRef%255Bundefined%255D">cellRef[undefined]</a></li><li><a href="global.html#e%255Bundefined%255D">e[undefined]</a></li><li><a href="global.html#.textContent">.textContent</a></li><li><a href="global.html#get">get</a></li><li><a href="global.html#input%255Bundefined%255D">input[undefined]</a></li><li><a href="global.html#q%255Bundefined%255D">q[undefined]</a></li><li><a href="global.html#sortingDef%255B1%255D">sortingDef[1]</a></li></ul>
</nav>


<script src="scripts/linenumber.js"> </script>
<script src="scripts/prettify.js"> </script>
<script> prettyPrint(); </script>
</body>
</html>
