<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <title>JSDoc: Source: data/formula/Formula.js</title>

    <script src="scripts/prettify.js"> </script>
    <script src="scripts/lang-css.js"> </script>
    <!--[if lt IE 9]>
      <script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->
    <link type="text/css" rel="stylesheet" href="styles/default.css">
    <link type="text/css" rel="stylesheet" href="styles/elf-template.css">
</head>

<body>

<div id="main-template" class="elf-template">
    



    
    <section>
        <article>
            <pre class="prettyprint source linenums"><code>goog.provide("tr.fn.Formula");

goog.require("tr.fn.VariableToken");
goog.require("tr.EventDispatcher");

/** Trigger when data within the realtime formula has been changed
* @event tr.Formula#dataCacheChanged
*/

/** @constructor
* @extends {tr.EventDispatcher}
* @param {string=} expression
* @param {Object=} context
*/
tr.fn.Formula = function(expression, context) {
	this._input = expression || "";
	if(context !== undefined) {
		this._context = context;
		if (context["_DATA"]) { // _DATA is an internal context used for getting cached data
			this["__D"] = context["_DATA"];
		}
	}
	this["__F"] = [];
	this._fnTokens = [];
	this._fields = [];
	this._fieldMap = {};
	this._dataCache = {};
	this._intervalServices = {};
	this._formulaCount = 1; // Initial count
	this._addEvent("dataCacheChanged");
	this._addEvent("dataRequired");
	this._addEvent("formulaChanged");
	this._onDataCacheChanged = this._onDataCacheChanged.bind(this);
	this.dispatchDataChanged = this.dispatchDataChanged.bind(this);

	this._parse(this._input);
};
goog.inherits(tr.fn.Formula, tr.EventDispatcher);

/** @type {Object.&lt;string, boolean&gt;}
* @const
* @public
*/
tr.fn.Formula._isBoundFormula = {
	"RECORD": true,
	"TR": true,
	"MTXSERIES": true,
	"NOW": true,
	"TODAY": true,
	// Adfin - StylesFunction
	"ADSTYLEATTRIBUTE": true,
	// Adfin - BdFunction
	"ADBONDDERIV": true,
	"ADBONDYIELD": true,
	"BDSETTLE": true,
	"ACCRUED": true,
	// Adfin - CfFunction
	"CFYLD": true,
	// Adfin - DfFunction
	"DFFORMATDATE": true,
	"DFADDPERIOD": true,
	"DFADDWD": true,
	"DFADDMONTHS": true,
	"DFADDYEARS": true,
	"DFADJUSTTOWD": true,
	"DFLASTWD": true,
	"DFFINDDATED": true,
	"DFCOUNTDAYS": true,
	"DFCOUNTWD": true,
	// Adfin - FxFunction
	"ADFXSWPTODEP": true,
	"FXCALCPERIOD": true,
	// Adfin - OpFunction
	"OPCALCDERIV": true,
	"OPIMPLIEDVOL": true,
	// Adfin - UtFunction
	"ADFORMAT": true,
	"ADHISTORYVALUE": true


};
/** @private
* @type {string}
*/
tr.fn.Formula.prototype._input = ""; // Initial user input
/** @private
* @type {string}
*/
tr.fn.Formula.prototype._expression = ""; // Evaluated expression
/** @private
* @type {string}
*/
tr.fn.Formula.prototype._alias = ""; // Alias name of formula
/** @private
* @type {Function}
*/
tr.fn.Formula.prototype._main = null; // Function resulted from eval(expression)

/** @private
* @type {Array.&lt;Function&gt;}
*/
tr.fn.Formula.prototype["__F"] = null; // Sub-methods that is used by this formula
/** @private
* @type {Array.&lt;tr.fn.VariableToken&gt;}
*/
tr.fn.Formula.prototype._fnTokens = null; // Sub-methods meta-data
/** @private
* @type {Array.&lt;string&gt;}
*/
tr.fn.Formula.prototype._fields = null; // Required field names from the expression
/** @private
* @type {Object.&lt;string, boolean&gt;}
*/
tr.fn.Formula.prototype._fieldMap = null; // Required field names from the expression

/** @private
* @type {string}
*/
tr.fn.Formula.prototype._reference = "";

/** @private
* @type {Object.&lt;string, Function&gt;}
*/
tr.fn.Formula.prototype._context = null;

/** @private
* @type {*}
*/
tr.fn.Formula.prototype._rtService = null;

/** @private
* @type {Object.&lt;string, *&gt;}
*/
tr.fn.Formula.prototype._intervalServices = null;

/** @private
* @type {Object.&lt;string, *&gt;}
*/
tr.fn.Formula.prototype._dataCache = null;

/** @private
* @type {string}
*/
tr.fn.Formula.prototype._dataLastError = "";

/** @private
* @type {string}
*/
tr.fn.Formula.prototype._inputWithTokenField = "";

/** @private
* @type {number}
*/
tr.fn.Formula.prototype._formulaCount = 0;

/** @private
* @type {Object.&lt;string, Function&gt;}
*/
tr.fn.Formula._invalidOps = {
	"+=": true,
	"-=": true,
	"*=": true,
	"/=": true,
	"|=": true,
	"&amp;=": true,
	"^=": true
};

/** @public
*/
tr.fn.Formula.prototype.dispose = function() {
	if(this._rtService) {
		this._rtService["dispose"]();
		this._rtService = null;
	}
	for(var serviceName in this._intervalServices) {
		// No need to dispose the static object
		this._intervalServices[serviceName]["removeEventListener"]("dataChanged", this.dispatchDataChanged);
	}
	this._intervalServices = null;
	this.unlistenAll();
};

/** @public
* @param {Object.&lt;string, *&gt;} rowData
* @return {*}
*/
tr.fn.Formula.prototype.calculate = function(rowData) {
	if (this._main) {
		this._dataLastError = ""; // Clear last realtime error message
		var res = this._main(rowData);
		switch(this._dataLastError) {
			case "Pending data":		// Don't show data if realtime data is still pending
				res = undefined;
				break;
			case "Pending - no erase":
				res = "...";			// Data update is pending - do not erase previous value
				break;
		}
		return res;
	}
	return undefined;
};

/** Function resulted from eval(expression)
* @public
* @return {Function} Returns function that takes an JSON object as a parameter. Return null if function is not valid JavaScript codes.
*/
tr.fn.Formula.prototype.getFunction = function(str) { return this._main; };
/** @public
* @return {Array.&lt;string&gt;}
*/
tr.fn.Formula.prototype.getFieldNames = function() { return this._fields; };

/** For internal use only
* @public
* @ignore
* @param {string} str
*/
tr.fn.Formula.prototype._setReference = function(str) {
	this._reference = str;
};
/** @public
* @return {string}
*/
tr.fn.Formula.prototype.getReference = function() {
	return this._reference;
};

/** Evaluated expression
* @public
* @return {string}
*/
tr.fn.Formula.prototype.getExpression = function() {
	return this._expression;
};
/** @public
* @function
* @return {string}
*/
tr.fn.Formula.prototype.toString = tr.fn.Formula.prototype.getReference;

/** Initial user input
* @public
* @return {string}
*/
tr.fn.Formula.prototype.getInput = function() { return this._input; };

/** Get alias name of formula. If alias does not exist, user input is returned instead
* @public
* @return {string}
*/
tr.fn.Formula.prototype.getAlias = function() { return this._alias || this._input; };
/** Set alias name of formula
* @public
* @param {string} str
*/
tr.fn.Formula.prototype.setAlias = function(str) {
	this._alias = str;
};
/** Add formula count
* @public
*/
tr.fn.Formula.prototype.addFormulaCount = function() {
	this._formulaCount++;
};
/** Subtract formula count. Return true if formula count is zero.
* @public
* @return {boolean}
*/
tr.fn.Formula.prototype.subtractFormulaCount = function() {
	return --this._formulaCount === 0;
};

/** @public
*/
tr.fn.Formula.prototype.updateContext = function() {
	if(!this._context) { return; }

	var len = this._fnTokens.length;
	for(var i = 0; i &lt; len; ++i) {
		var fname = this._fnTokens[i].getFunctionName();
		this["__F"][i] = this._context[fname] || tr.fn.Formula._emptyFunction;
		if (tr.fn.Formula._isBoundFormula[fname]) {
			this["__F"][i] = this["__F"][i].bind(this);
		}
		//this.__F[i] = this._logger.bind(this, i);
	}
};

/** @private
* @param {number} index
*/
tr.fn.Formula.prototype._logger = function(index) {
	console.log("[" + index + "] " + this._fnTokens[index].getFunctionName() + " is executed" );
};
/** @private
*/
tr.fn.Formula._emptyFunction = function() {};

/** @private
* @param {string} str
* @return {boolean}
*/
tr.fn.Formula.prototype._detectCodeInjection = function(str) {
	var injection = false;

	if(str.match(/\+\+|--/)) { // ++ and -- which modifies current variable is not allowed
		injection = true;
	}

	if(!injection) {
		var matches = str.match(/([^=]=+)/g) || [];
		for (var i = matches.length; --i &gt;= 0;) {
			var m = matches[i];
			var lastTwoChars = m.substring(m.length - 2);
			if (tr.fn.Formula._invalidOps[lastTwoChars]) {
				injection = true;
				break;
			}
		}
	}

	// if(injection) {
		// console.log("WARNING: Code injection detected");
	// }

	return injection;
};
/** Upper case only formula expression. All other cases are ignored
* @public
* @param {string} exp
* @return {string}
*/
tr.fn.Formula.toUpperCase = function(exp) {
	if(!exp || exp.charAt(0) !== "=") { //Prevent impacting to UDIP search field
		return exp || "";
	}

	var tokens = [];
	var calcHierarchy = [];

	// Tokenize string constants first because they has enclosure (single quotes and double quotes)
	exp = tr.fn.Formula.tokenizeQuotes(exp, tokens, calcHierarchy); 
	
	exp = exp.toUpperCase(); // Upper case the remaining

	// May have the new string token from ADC field with parameter
	exp = exp.replace(/TR\.[\w_ ]+\([^\(\)]*\)(\.[a-zA-Z]+)*/g, tr.fn.Formula._encloseWithTR);

	exp = tr.fn.Formula.resolveTokens(exp, tokens, calcHierarchy); // Restore the string

	return exp;
};
/** @description Wrap TR function to ADC field with parameter e.g. 
* TR.Revenue(Scale=2)
* TR.Revenue(Scale=2).calcdate,
* TR.Revenue(Period=FY0,Scale=2)
* @private
* @param {string} adcField
* @return {string}
*/
tr.fn.Formula._encloseWithTR = function(adcField) {
	return "TR(\"" + adcField + "\")";
};
/** @public
* @ignore
* @param {string} exp
* @param {Array.&lt;tr.fn.VariableToken&gt;=} tokens
* @param {Array.&lt;Array.&lt;number&gt;&gt;=} calcHierarchy
* @return {string}
*/
tr.fn.Formula.tokenizeQuotes = function(exp, tokens, calcHierarchy) {
	if(!tokens) {
		tokens = [];
	}
	if(!calcHierarchy) {
		calcHierarchy = [];
	}

	var index;
	var matched = false;
	var tokenIndices = [];
	do {
		matched = false;
		exp = exp.replace(/(["'])(?:(?=(\\?))\2.)*?\1/g, function(str) {
			matched = true;
			index = tokens.length;
			tokens.push(new fn.VariableToken(str, index));
			tokenIndices.push(index);
			return "♦" + index + "♦";
		});
	} while(matched);
	calcHierarchy.push(tokenIndices);
	return exp;
};
/** @public
* @ignore
* @param {string} exp
* @param {Array.&lt;tr.fn.VariableToken&gt;=} tokens
* @param {Array.&lt;Array.&lt;number&gt;&gt;=} calcHierarchy
* @return {string}
*/
tr.fn.Formula.tokenizeAdcWithParams = function(exp, tokens, calcHierarchy) {
	if(!tokens) {
		tokens = [];
	}
	if(!calcHierarchy) {
		calcHierarchy = [];
	}

	var index;
	var matched = false;
	var tokenIndices = [];
	do {
		matched = false;
		exp = exp.replace(/TR\.\w+\([^\)]*\)+/g, function(str) {
			matched = true;
			index = tokens.length;
			tokens.push(new fn.VariableToken(str, index));
			tokenIndices.push(index);
			return "♦" + index + "♦";
		});
	} while(matched);
	calcHierarchy.push(tokenIndices);
	return exp;
};
/** @public
* @ignore
* @param {string} exp
* @param {Array.&lt;tr.fn.VariableToken&gt;=} tokens
* @param {Array.&lt;Array.&lt;number&gt;&gt;=} calcHierarchy
* @return {string}
*/
tr.fn.Formula.replaceUnwantedCharacters = function(exp, tokens, calcHierarchy) {
	// Replace all double spaces with single space
	while(exp.indexOf("  ") &gt;= 0) {
		exp = exp.replace(/ {2}/g, " ");
	}

	// Remove all dollar signs (e.g. $CF_BID + $CF_ASK)
	exp = exp.replace(/\$/g, "");

	// Replace single ampersand with plus sign to support string concatenation with ampersand
	exp = exp.replace(/\&amp;+/g, function(str) {
		if(str === "&amp;") {
			return "+";
		}
		return str;
	});

	/**
	 * Replace all assignment operator with equality operator, by using
	 * regular expression for detecting only "=" that is not a starting point of a formula,
	 * so the character "=" is not replaced with "==" during conversion.
	 *
	 * @example
	 * =ABS(COL5+COL6) -&gt; =ABS(COL5+COL6)
	 * =(COL5=COL6)    -&gt; =(COL5==COL6)
	 */
	exp = exp.replace(/(&lt;=|&gt;=|!=|!==|===|==|=(?!([\w]*\([^()]*\))))/g, function(m) {
		if (m === "=") {
			return "==";
		}

		return m;
	});

	return exp;
};
/** @private
* @param {string} exp
* @param {Array.&lt;tr.fn.VariableToken&gt;=} tokens
* @param {Array.&lt;Array.&lt;number&gt;&gt;=} calcHierarchy
* @return {string}
*/
tr.fn.Formula.prototype._tokenizeParentheses = function(exp, tokens, calcHierarchy) {
	if (!tokens) {
		tokens = [];
	}

	if(!calcHierarchy) {
		calcHierarchy = [];
	}

	var fnStrToIndex = {}; // To avoid duplicate function

	/**
	 * It is better to not duplicate content of regular expressions to avoid any possible typos
	 * or discrepancies.
	 * Therefore we copy existing regular expression and assign new flags to it instead.
	 */
	var firstMatchRE = /[\w._]*(?:=|=[\w]*)?\([^()]*\)/;
	var globalRE = new RegExp(firstMatchRE.source, 'g');

	while (exp.match(firstMatchRE)) {
		var tokenIndices = [];

		exp = exp.replace(globalRE, function (fnStr, group) {
			// Remove the first equal sign.
			if (fnStr.charAt(0) === "=") {
				fnStr = fnStr.substr(1, fnStr.length);
			}

			var index = fnStrToIndex[fnStr];

			if (index === undefined) {
				index = tokens.length;
				tokens.push(new fn.VariableToken(fnStr, index));
				fnStrToIndex[fnStr] = index;
			}

			tokenIndices.push(index);

			return "♦" + index + "♦";
		});

		calcHierarchy.push(tokenIndices);
	}

	return exp;
};
/** @private
* @param {string} exp
* @param {Array.&lt;tr.fn.VariableToken&gt;=} tokens
* @param {Array.&lt;Array.&lt;number&gt;&gt;=} calcHierarchy
* @return {string}
*/
tr.fn.Formula.prototype._tokenizeConstants = function(exp, tokens, calcHierarchy) {
	if(!tokens) {
		tokens = [];
	}
	if(!calcHierarchy) {
		calcHierarchy = [];
	}

	var tokenIndices = [];
	exp = exp.replace(/[\w._♦]+/g, function(varStr) {
		if (varStr.charAt(0) === "♦") {
			return varStr;
		}
		var index = tokens.length;
		tokens.push(new fn.VariableToken(varStr, index));
		tokenIndices.push(index);
		return "♦" + index + "♦";
	});
	calcHierarchy.push(tokenIndices);
	return exp;
};
/** @public
* @param {string} exp
* @param {Array.&lt;tr.fn.VariableToken&gt;} tokens
* @param {Array.&lt;Array.&lt;number&gt;&gt;} calcHierarchy
* @return {string}
*/
tr.fn.Formula.resolveTokens = function(exp, tokens, calcHierarchy) {
	for(var i = calcHierarchy.length; --i &gt;= 0;) { // Must be done in reverse order
		var indices = calcHierarchy[i];
		var len = indices.length;
		for(var j = 0; j &lt; len; ++j) {
			var index = indices[j];
			var token = tokens[index];
			exp = exp.replace(new RegExp("♦" + index + "♦", "g"), function(m) {
				return token.getExpression();
			});
		}
	}
	return exp;
};

/** @private
* @param {string} exp
* @param {Array.&lt;tr.fn.VariableToken&gt;} tokens
* @param {Array.&lt;Array.&lt;number&gt;&gt;} calcHierarchy
* @return {string}
*/
tr.fn.Formula._getInputWithTokenField = function(exp, tokens, calcHierarchy) {
	for(var i = calcHierarchy.length; --i &gt;= 0;) { // Must be done in reverse order
		var indices = calcHierarchy[i];
		var len = indices.length;
		for(var j = 0; j &lt; len; ++j) {
			var index = indices[j];
			var token = tokens[index];
			exp = exp.replace(new RegExp("♦" + index + "♦", "g"), function(m) {
				return token.getInputWithTokenField();
			});
		}
	}
	return "=" + exp;
};

/** @private
* @param {string} exp
* @return {Function}
*/
tr.fn.Formula.prototype._parse = function(exp) {
	this._expression = "";
	this._main = null;

	this["__F"].length = 0;
	this._fnTokens.length = 0;
	this._fields.length = 0;

	if(!exp) { return null; }

	if(exp.charAt(0) === "=") { // Remove the first equal sign
		exp = exp.substr(1);
	}
	exp = exp.replace(/^\s+|\s+$/gm, ""); // Trim white spaces -- equivalent to String.trim(), which is not support in IE8
	exp = exp.replace(/&lt;&gt;/g, "!=");
	exp = exp.replace(/‛|‘|’/g, "'"); // Left and right single quote will be converted to simple single quote
	exp = exp.replace(/‟|“|”/g, '"'); // Left and right double quote will be converted to simple double quote

	if(!exp || this._detectCodeInjection(exp)) { return null; }

	var tokens = [];
	var calcHierarchy = [];

	exp = tr.fn.Formula.tokenizeQuotes(exp, tokens, calcHierarchy); // Tokenize string constants first because they has enclosure (single quotes and double quotes)
	
	exp = tr.fn.Formula.tokenizeAdcWithParams(exp, tokens, calcHierarchy);
	
	exp = tr.fn.Formula.replaceUnwantedCharacters(exp, tokens, calcHierarchy);

	exp = this._tokenizeParentheses(exp, tokens, calcHierarchy); // Tokenize all methods and parenthesis group

	exp = this._tokenizeConstants(exp, tokens, calcHierarchy); // Tokenize the rest of the constants and dynamic values

	// Used for change field name in formula
	this._inputWithTokenField = tr.fn.Formula._getInputWithTokenField(exp, tokens, calcHierarchy);

	// Resolve each function tokens into valid JavaScript codes
	exp = tr.fn.Formula.resolveTokens(exp, tokens, calcHierarchy);

	// Re-organize function structure and index, and retrieve field data
	var fields = {};
	var len = tokens.length;
	for(var i = 0; i &lt; len; ++i) {
		var token = tokens[i];
		if(token.getFunctionName()) {
			var fIndex = this._fnTokens.length;
			exp = exp.replace(new RegExp("this\\.__F\\[" + i + "\\]", "g"), "this.__F[" + fIndex + "]");
			token.setIndex(fIndex);
			this._fnTokens.push(token);
		}
		token.getFieldNames(fields);
	}

	this._expression = exp; // The expression has been finalized
	this.updateContext();

	this._main = this._createFunction(this._expression);
	if(!this._main) {
		return null;
	}

	this._fieldMap = fields;
	this._fields = Object.keys(fields);
	return this._main;
};

/** @private
* @param {string} expression
* @return {Function}
*/
tr.fn.Formula.prototype._createFunction = function (expression) {
	var func = null;
	try {
		func = /** @type{Function} */(eval("(function (__R) { return " + expression + "; })"));
		func = func.bind(this);
		func({}); // Try to execute the method once to check error
	} catch(err) {
		func = null;
		// window.console.log('Expression: "' + this._input + '" contains the following error: \n' + err.message);
	}
	return func;
};

/** @private
* @param {string} colName
* @param {Object.&lt;string, *&gt;} rowData
* @return {*}
*/
tr.fn.Formula.prototype["__D"] = function (colName, rowData) {
	return rowData[colName];
};
/** @public
* @param {string} field
* @param {string=} opt_src
*/
tr.fn.Formula.prototype.addField = function(field, opt_src) {
	if(this._fieldMap[field]) { // Existing in this._fields
		return false;
	}
	if(field.indexOf("undefined") &gt;= 0) { // We can remove this block if the ADC service can ignore the invalid requested field.
		// REMARK: ADC cannot support the invalid parameter. It will respond with ERROR and do not return any ADC data anymore.
		return false; // WORKAROUND: Field name must not contain with string 'undefined'
	}

	this._fields.push(field);
	this._fieldMap[field] = true;
	this._dispatch("dataRequired", { "field": field, "src": opt_src || "adc" });
	return true;
};

/** Change field in formula
* @public
* @param {string} oldName
* @param {string} newName
* @return {boolean}
*/
tr.fn.Formula.prototype.changeField = function (oldName, newName) {
	var index = this._fields.indexOf(oldName);
	if (index &lt; 0) {
		return false;
	}
	this._fields.splice(index, 1);
	if (this._fields.indexOf(newName) &lt; 0) {
		this._fields.push(newName);
	}
	var oldInput = this._input;
	var oldTokenField = "♠" + oldName + "♥";
	var newTokenField = "♠" + newName + "♥";
	this._inputWithTokenField = this._inputWithTokenField.replace(new RegExp("♠[^♠]*♥", "g"), function(str) {
		return (str === oldTokenField) ? newTokenField : str;
	});
	this._input = this._inputWithTokenField.replace(new RegExp("♠[^♠]*♥", "g"), function(str) {
		return str.substr(1, str.length - 2); // Remove "♠" and "♥"
	});
	this._expression = this._expression.replace(new RegExp('this\\.__D\\("' + oldName + '", __R\\)', "g"), 'this.__D("' + newName + '", __R)');
	this._main = this._createFunction(this._expression);
	this._dispatch("formulaChanged", { "oldInput": oldInput, "formula": this });
	return true;
};
/** Change multiple field in formula
* @public
* @param {Array.&lt;string&gt;} oldNames
* @param {Array.&lt;string&gt;} newNames
* @return {boolean}
*/
tr.fn.Formula.prototype.changeFields = function (oldNames, newNames) {
	if(!Array.isArray(oldNames) || !Array.isArray(newNames)) {
		return false;
	}
	if(oldNames.length !== newNames.length) {
		return false;
	}

	var oldInput = this._input;
	for(var i = oldNames.length; --i &gt;= 0;) {
		var oldName = oldNames[i];
		var newName = newNames[i];

		var index = this._fields.indexOf(oldName);
		if (index &lt; 0) {
			continue;
		}

		this._fields.splice(index, 1);
		if (this._fields.indexOf(newName) &lt; 0) {
			this._fields.push(newName);
		}

		var oldTokenField = "♠" + oldName + "♥";
		var newTokenField = "♠" + newName + "♥";

		this._inputWithTokenField = this._inputWithTokenField.replace(new RegExp("♠[^♠]*♥", "g"), function(str) {
			return (str === oldTokenField) ? newTokenField : str;
		});
		this._input = this._inputWithTokenField.replace(new RegExp("♠[^♠]*♥", "g"), function(str) {
			return str.substr(1, str.length - 2); // Remove "♠" and "♥"
		});
		this._expression = this._expression.replace(new RegExp('this\\.__D\\("' + oldName + '", __R\\)', "g"), 'this.__D("' + newName + '", __R)');
	}

	this._main = this._createFunction(this._expression);
	this._dispatch("formulaChanged", { "oldInput": oldInput, "formula": this });
	return true;
};

//#region Realtime service
/** @public
* @return {*}
*/
tr.fn.Formula.prototype.getRealtimeService = function() {
	return this._rtService;
};

/** @public
* @param {Object} rtService
*/
tr.fn.Formula.prototype.setRealtimeService = function(rtService) {
	if (this._rtService) {
		this._rtService["dispose"]();
	}
	this._rtService = rtService;
	this._rtService["addEventListener"]("dataChanged", this._onDataCacheChanged);
};
//#endregion Realtime service

//#region Interval service
/** @public
* @return {*}
*/
tr.fn.Formula.prototype.getIntervalService = function(funcName) {
	return this._intervalServices[funcName];
};

/** @public
* @param {string} funcName
* @param {Object} newService
*/
tr.fn.Formula.prototype.setIntervalService = function(funcName, newService) {
	if(!newService) {
		return;
	}

	var service = this._intervalServices[funcName];
	if (service) {
		service["removeEventListener"]("dataChanged", this.dispatchDataChanged); // Service will stop only if no event listener anymore
	}
	this._intervalServices[funcName] = newService;
	newService["addEventListener"]("dataChanged", this.dispatchDataChanged);
};
//#endregion Interval service

//#region formula data cache
/** @public
* @return {*}
*/
tr.fn.Formula.prototype.getCachedData = function(symbol) {
	return this._dataCache[symbol];
};

/** @public
* @param {string} symbol
* @param {Object.&lt;string,*&gt;} values
*/
tr.fn.Formula.prototype.setCachedData = function(symbol, values) {
	this._dataCache[symbol] = values;
};

/** @public
* @param {string} msg
*/
tr.fn.Formula.prototype.setDataError = function(msg) {
	this._dataLastError = msg;
};

/** @public
* @param {Object=} e
*/
tr.fn.Formula.prototype.dispatchDataChanged = function(e) {
	// Just dispatch the event. No need to cache any data in formula.
	this._dispatch("dataCacheChanged", {});
};

/** @public
* @param {Object} e
*/
tr.fn.Formula.prototype._onDataCacheChanged = function(e) {
	// Cache data for real-time function since real-time function has its own RIC list. Then dispatch the event.
	var symbol = e['ric'];
	var values = /** @type{Object.&lt;string, *&gt;} */(e['values']);
	var data = this._dataCache[symbol];
	if (data) {
		for (var field in values) {
			data[field] = values[field];
		}
	} else {
		this._dataCache[symbol] = values;
	}
	this._dispatch("dataCacheChanged", {});
};
//#endregion formula data cache

goog.exportSymbol("tr.fn.Formula", tr.fn.Formula);
goog.exportProperty(tr.fn.Formula, "toUpperCase", tr.fn.Formula.toUpperCase);
tr.fn.Formula._proto = tr.fn.Formula.prototype;

goog.exportProperty(tr.fn.Formula._proto, "dispose", tr.fn.Formula._proto.dispose);
goog.exportProperty(tr.fn.Formula._proto, "calculate", tr.fn.Formula._proto.calculate);
goog.exportProperty(tr.fn.Formula._proto, "dispatchDataChanged", tr.fn.Formula._proto.dispatchDataChanged);

goog.exportProperty(tr.fn.Formula._proto, "getFunction", tr.fn.Formula._proto.getFunction);
goog.exportProperty(tr.fn.Formula._proto, "getFieldNames", tr.fn.Formula._proto.getFieldNames);
//goog.exportProperty(tr.fn.Formula._proto, "setReference", tr.fn.Formula._proto.setReference);
goog.exportProperty(tr.fn.Formula._proto, "getReference", tr.fn.Formula._proto.getReference);
goog.exportProperty(tr.fn.Formula._proto, "getExpression", tr.fn.Formula._proto.getExpression);
goog.exportProperty(tr.fn.Formula._proto, "toString", tr.fn.Formula._proto.toString);
goog.exportProperty(tr.fn.Formula._proto, "getInput", tr.fn.Formula._proto.getInput);
goog.exportProperty(tr.fn.Formula._proto, "setAlias", tr.fn.Formula._proto.setAlias);

goog.exportProperty(tr.fn.Formula._proto, "addFormulaCount", tr.fn.Formula._proto.addFormulaCount);
goog.exportProperty(tr.fn.Formula._proto, "subtractFormulaCount", tr.fn.Formula._proto.subtractFormulaCount);

goog.exportProperty(tr.fn.Formula._proto, "updateContext", tr.fn.Formula._proto.updateContext);

goog.exportProperty(tr.fn.Formula._proto, "getRealtimeService", tr.fn.Formula._proto.getRealtimeService);
goog.exportProperty(tr.fn.Formula._proto, "setRealtimeService", tr.fn.Formula._proto.setRealtimeService);
goog.exportProperty(tr.fn.Formula._proto, "getIntervalService", tr.fn.Formula._proto.getIntervalService);
goog.exportProperty(tr.fn.Formula._proto, "setIntervalService", tr.fn.Formula._proto.setIntervalService);

goog.exportProperty(tr.fn.Formula._proto, "getCachedData", tr.fn.Formula._proto.getCachedData);
goog.exportProperty(tr.fn.Formula._proto, "setCachedData", tr.fn.Formula._proto.setCachedData);
goog.exportProperty(tr.fn.Formula._proto, "setDataError", tr.fn.Formula._proto.setDataError);

goog.exportProperty(tr.fn.Formula._proto, "addField", tr.fn.Formula._proto.addField);
goog.exportProperty(tr.fn.Formula._proto, "changeField", tr.fn.Formula._proto.changeField);
goog.exportProperty(tr.fn.Formula._proto, "changeFields", tr.fn.Formula._proto.changeFields);
</code></pre>
        </article>
    </section>




</div>

<nav>
    <h2><a href="index.html">Home</a></h2><h3>Namespaces</h3><ul><li><a href="AdFin.html">AdFin</a></li><li><a href="DateTime.html">DateTime</a></li><li><a href="Info.html">Info</a></li><li><a href="Logic.html">Logic</a></li><li><a href="Math.html">Math</a></li><li><a href="Realtime.html">Realtime</a></li><li><a href="Statistic.html">Statistic</a></li><li><a href="Text.html">Text</a></li><li><a href="tr.ElementFrameWork.html">ElementFrameWork</a></li><li><a href="tr.PipDefinition.html">PipDefinition</a></li></ul><h3>Classes</h3><ul><li><a href="tr.ADCSubscription.html">ADCSubscription</a></li><li><a href="tr.AdFinSubscription.html">AdFinSubscription</a></li><li><a href="tr.cgrid.editor.TextBox.html">TextBox</a></li><li><a href="tr.cgrid.filter.TextBox.html">TextBox</a></li><li><a href="tr.cgrid.formatter.AsyncFormatter.html">AsyncFormatter</a></li><li><a href="tr.cgrid.formatter.CheckBox.html">CheckBox</a></li><li><a href="tr.cgrid.formatter.UpDownColor.html">UpDownColor</a></li><li><a href="tr.ColumnStats.html">ColumnStats</a></li><li><a href="tr.CompositeGrid.html">CompositeGrid</a></li><li><a href="tr.DataCache.html">DataCache</a></li><li><a href="tr.DataTable.html">DataTable</a></li><li><a href="tr.DataView.html">DataView</a></li><li><a href="tr.DropDown.html">DropDown</a></li><li><a href="tr.ElementControl.html">ElementControl</a></li><li><a href="tr.ElementWrapper.html">ElementWrapper</a></li><li><a href="tr.Event.html">Event</a></li><li><a href="tr.EventDispatcher.html">EventDispatcher</a></li><li><a href="tr.EventDispatcher.extendClass-tempCtor.html">tempCtor</a></li><li><a href="tr.EventManager.html">EventManager</a></li><li><a href="tr.FieldFormatter.html">FieldFormatter</a></li><li><a href="tr.fn.Engine.html">Engine</a></li><li><a href="tr.fn.Formula.html">Formula</a></li><li><a href="tr.fn.VariableToken.html">VariableToken</a></li><li><a href="tr.Grid.html">Grid</a></li><li><a href="tr.grid.BidOfferSpan.html">BidOfferSpan</a></li><li><a href="tr.grid.Blinker.html">Blinker</a></li><li><a href="tr.grid.Cell.html">Cell</a></li><li><a href="tr.grid.CellBlinkingPlugin.html">CellBlinkingPlugin</a></li><li><a href="tr.grid.CellEditingPlugin.html">CellEditingPlugin</a></li><li><a href="tr.grid.CellFloatingPanel.html">CellFloatingPanel</a></li><li><a href="tr.grid.CellPainter.html">CellPainter</a></li><li><a href="tr.grid.CellSpan.html">CellSpan</a></li><li><a href="tr.grid.CellSpans.html">CellSpans</a></li><li><a href="tr.grid.CellWriter.html">CellWriter</a></li><li><a href="tr.grid.CheckboxColumnPlugin.html">CheckboxColumnPlugin</a></li><li><a href="tr.grid.CollapsibleHeaderPlugin.html">CollapsibleHeaderPlugin</a></li><li><a href="tr.grid.ColumnFilterPlugin.html">ColumnFilterPlugin</a></li><li><a href="tr.grid.ColumnGroupingPlugin.html">ColumnGroupingPlugin</a></li><li><a href="tr.grid.ColumnSelectionPlugin.html">ColumnSelectionPlugin</a></li><li><a href="tr.grid.ColumnStackingPlugin.html">ColumnStackingPlugin</a></li><li><a href="tr.grid.ColumnWidthAdjustingPlugin.html">ColumnWidthAdjustingPlugin</a></li><li><a href="tr.grid.Conflator.html">Conflator</a></li><li><a href="tr.grid.DataSourceTreePlugin.html">DataSourceTreePlugin</a></li><li><a href="tr.grid.DirectContentBindingPlugin.html">DirectContentBindingPlugin</a></li><li><a href="tr.grid.DragAndDropTitlePlugin.html">DragAndDropTitlePlugin</a></li><li><a href="tr.grid.DraggableContentPlugin.html">DraggableContentPlugin</a></li><li><a href="tr.grid.FindBar.html">FindBar</a></li><li><a href="tr.grid.FindBarPlugin.html">FindBarPlugin</a></li><li><a href="tr.grid.GroupStatisticsPlugin.html">GroupStatisticsPlugin</a></li><li><a href="tr.grid.HeatMapRenderer.html">HeatMapRenderer</a></li><li><a href="tr.grid.HScrollbar.html">HScrollbar</a></li><li><a href="tr.grid.IndexMarker.html">IndexMarker</a></li><li><a href="tr.grid.MovableHeaderPlugin.html">MovableHeaderPlugin</a></li><li><a href="tr.grid.NumberFormatter.html">NumberFormatter</a></li><li><a href="tr.grid.PercentBar.html">PercentBar</a></li><li><a href="tr.grid.PercentBarRenderer.html">PercentBarRenderer</a></li><li><a href="tr.grid.Plugin.html">Plugin</a></li><li><a href="tr.grid.RangeBar.html">RangeBar</a></li><li><a href="tr.grid.ResizableTitlePlugin.html">ResizableTitlePlugin</a></li><li><a href="tr.grid.Reverter.html">Reverter</a></li><li><a href="tr.grid.RowHeightAdjustingPlugin.html">RowHeightAdjustingPlugin</a></li><li><a href="tr.grid.RowSelectionPlugin.html">RowSelectionPlugin</a></li><li><a href="tr.grid.Scrollbar.html">Scrollbar</a></li><li><a href="tr.grid.SectionSettings.html">SectionSettings</a></li><li><a href="tr.grid.SmartTooltipsPlugin.html">SmartTooltipsPlugin</a></li><li><a href="tr.grid.SortableTitlePlugin.html">SortableTitlePlugin</a></li><li><a href="tr.grid.TreeIndentingPlugin.html">TreeIndentingPlugin</a></li><li><a href="tr.grid.Virtualizer.html">Virtualizer</a></li><li><a href="tr.grid.VScrollbar.html">VScrollbar</a></li><li><a href="tr.grid.ZoomPlugin.html">ZoomPlugin</a></li><li><a href="tr.HttpRequest.html">HttpRequest</a></li><li><a href="tr.IntervalSubscription.html">IntervalSubscription</a></li><li><a href="tr.LayoutGrid.html">LayoutGrid</a></li><li><a href="tr.ListMenu.html">ListMenu</a></li><li><a href="tr.MenuItem.html">MenuItem</a></li><li><a href="tr.MockArchive.html">MockArchive</a></li><li><a href="tr.MockJET.html">MockJET</a></li><li><a href="tr.MockQuotes.html">MockQuotes</a></li><li><a href="tr.MockQuotes2.html">MockQuotes2</a></li><li><a href="tr.MockSubscription.html">MockSubscription</a></li><li><a href="tr.MockSubscriptions.html">MockSubscriptions</a></li><li><a href="tr.Popup.html">Popup</a></li><li><a href="tr.PopupMenu.html">PopupMenu</a></li><li><a href="tr.PrintTrait.html">PrintTrait</a></li><li><a href="tr.RequestQueue.html">RequestQueue</a></li><li><a href="tr.Segment.html">Segment</a></li><li><a href="tr.SegmentCollection.html">SegmentCollection</a></li><li><a href="tr.TSISubscription.html">TSISubscription</a></li></ul><h3>Interfaces</h3><ul><li><a href="tr.cgrid.ICompositeExtension.html">ICompositeExtension</a></li><li><a href="tr.grid.IPlugin.html">IPlugin</a></li><li><a href="tr.IElementControl.html">IElementControl</a></li><li><a href="tr.ILayoutGrid.html">ILayoutGrid</a></li></ul><h3>Events</h3><ul><li><a href="tr.CompositeGrid.html#event:cellClicked">cellClicked</a></li><li><a href="tr.CompositeGrid.html#event:cellDblClicked">cellDblClicked</a></li><li><a href="tr.CompositeGrid.html#event:cellMouseDown">cellMouseDown</a></li><li><a href="tr.CompositeGrid.html#event:cellRightClicked">cellRightClicked</a></li><li><a href="tr.CompositeGrid.html#event:columnSorted">columnSorted</a></li><li><a href="tr.CompositeGrid.html#event:editorAttached">editorAttached</a></li><li><a href="tr.CompositeGrid.html#event:editorDetached">editorDetached</a></li><li><a href="tr.CompositeGrid.html#event:filterAdded">filterAdded</a></li><li><a href="tr.CompositeGrid.html#event:filterCleared">filterCleared</a></li><li><a href="tr.CompositeGrid.html#event:filterModified">filterModified</a></li><li><a href="tr.CompositeGrid.html#event:filterRemoved">filterRemoved</a></li><li><a href="tr.CompositeGrid.html#event:mouseLeaveCell">mouseLeaveCell</a></li><li><a href="tr.CompositeGrid.html#event:mouseOverCell">mouseOverCell</a></li><li><a href="tr.CompositeGrid.html#event:pageChanged">pageChanged</a></li><li><a href="tr.CompositeGrid.html#event:selectionChanged">selectionChanged</a></li><li><a href="tr.DataCache.html#event:dataChanged">dataChanged</a></li><li><a href="tr.DataCache.html#event:dataComposed">dataComposed</a></li><li><a href="tr.DataTable.html#event:dataChanged">dataChanged</a></li><li><a href="tr.DataTable.html#event:dataComposed">dataComposed</a></li><li><a href="tr.DataView.html#event:beforeFiltering">beforeFiltering</a></li><li><a href="tr.DataView.html#event:beforeGroupAdded">beforeGroupAdded</a></li><li><a href="tr.DataView.html#event:dataChanged">dataChanged</a></li><li><a href="tr.DataView.html#event:groupAdded">groupAdded</a></li><li><a href="tr.DataView.html#event:groupCriteriaChanged">groupCriteriaChanged</a></li><li><a href="tr.DataView.html#event:pageCountChanged">pageCountChanged</a></li><li><a href="tr.DataView.html#event:pageIndexChanged">pageIndexChanged</a></li><li><a href="tr.DataView.html#event:preDisposed">preDisposed</a></li><li><a href="tr.Formula.html#event:dataCacheChanged">dataCacheChanged</a></li><li><a href="tr.grid.CellEditingPlugin.html#event:cancelled">cancelled</a></li><li><a href="tr.grid.CellEditingPlugin.html#event:change">change</a></li><li><a href="tr.grid.CellEditingPlugin.html#event:closed">closed</a></li><li><a href="tr.grid.CellEditingPlugin.html#event:editorOpened">editorOpened</a></li><li><a href="tr.grid.CellEditingPlugin.html#event:preEditorOpening">preEditorOpening</a></li><li><a href="tr.grid.CheckboxColumnPlugin.html#event:clicked">clicked</a></li><li><a href="tr.grid.CollapsibleHeaderPlugin.html#event:clicked">clicked</a></li><li><a href="tr.grid.CollapsibleHeaderPlugin.html#event:contentBindinig">contentBindinig</a></li><li><a href="tr.grid.CollapsibleHeaderPlugin.html#event:footerBinding">footerBinding</a></li><li><a href="tr.grid.CollapsibleHeaderPlugin.html#event:headerBinding">headerBinding</a></li><li><a href="tr.grid.ColumnFilterPlugin.html#event:click">click</a></li><li><a href="tr.grid.ColumnFilterPlugin.html#event:iconCreated">iconCreated</a></li><li><a href="tr.grid.ColumnGroupingPlugin.html#event:columnCollapsed">columnCollapsed</a></li><li><a href="tr.grid.ColumnGroupingPlugin.html#event:groupChanged">groupChanged</a></li><li><a href="tr.grid.ColumnGroupingPlugin.html#event:render">render</a></li><li><a href="tr.grid.ColumnStackingPlugin.html#event:clicked">clicked</a></li><li><a href="tr.grid.ColumnStackingPlugin.html#event:iconCreated">iconCreated</a></li><li><a href="tr.grid.DragAndDropTitlePlugin.html#event:columnMoved">columnMoved</a></li><li><a href="tr.grid.DragAndDropTitlePlugin.html#event:dragged">dragged</a></li><li><a href="tr.grid.DraggableContentPlugin.html#event:drag">drag</a></li><li><a href="tr.grid.DraggableContentPlugin.html#event:dragEnd">dragEnd</a></li><li><a href="tr.grid.DraggableContentPlugin.html#event:dragStart">dragStart</a></li><li><a href="tr.grid.FindBarPlugin.html#event:clicked">clicked</a></li><li><a href="tr.grid.MovableHeaderPlugin.html#event:dragged">dragged</a></li><li><a href="tr.grid.MovableHeaderPlugin.html#event:groupMoved">groupMoved</a></li><li><a href="tr.grid.MovableHeaderPlugin.html#event:sectionMoved">sectionMoved</a></li><li><a href="tr.grid.RowSelectionPlugin.html#event:selectionChanged">selectionChanged</a></li><li><a href="tr.grid.SortableTitlePlugin.html#event:clicked">clicked</a></li><li><a href="tr.grid.SortableTitlePlugin.html#event:columnSorted">columnSorted</a></li><li><a href="tr.grid.SortableTitlePlugin.html#event:preClicked">preClicked</a></li><li><a href="tr.grid.SortableTitlePlugin.html#event:preDataSorting">preDataSorting</a></li><li><a href="tr.grid.TreeIndentingPlugin.html#event:clicked">clicked</a></li><li><a href="tr.grid.TreeIndentingPlugin.html#event:contentBindinig">contentBindinig</a></li><li><a href="tr.grid.TreeIndentingPlugin.html#event:footerBinding">footerBinding</a></li><li><a href="tr.grid.TreeIndentingPlugin.html#event:headerBinding">headerBinding</a></li><li><a href="tr.Grid.html#event:columnAdded">columnAdded</a></li><li><a href="tr.Grid.html#event:columnAlignmentChanged">columnAlignmentChanged</a></li><li><a href="tr.Grid.html#event:columnRemoved">columnRemoved</a></li><li><a href="tr.Grid.html#event:columnVisibilityChanged">columnVisibilityChanged</a></li><li><a href="tr.Grid.html#event:dataSourceChanged">dataSourceChanged</a></li><li><a href="tr.Grid.html#event:postSectionDataBinding">postSectionDataBinding</a></li><li><a href="tr.Grid.html#event:rowExpansionBinding">rowExpansionBinding</a></li><li><a href="tr.Grid.html#event:rowHighlighted">rowHighlighted</a></li><li><a href="tr.Grid.html#event:sectionAdded">sectionAdded</a></li><li><a href="tr.Grid.html#event:widthChanged">widthChanged</a></li><li><a href="tr.HttpRequest.html#event:abort">abort</a></li><li><a href="tr.HttpRequest.html#event:error">error</a></li><li><a href="tr.HttpRequest.html#event:load">load</a></li><li><a href="tr.HttpRequest.html#event:loadend">loadend</a></li><li><a href="tr.HttpRequest.html#event:loadstart">loadstart</a></li><li><a href="tr.HttpRequest.html#event:timeout">timeout</a></li><li><a href="tr.IElementControl.html#event:blur">blur</a></li><li><a href="tr.IElementControl.html#event:change">change</a></li><li><a href="tr.IElementControl.html#event:click">click</a></li><li><a href="tr.IElementControl.html#event:contextmenu">contextmenu</a></li><li><a href="tr.IElementControl.html#event:dblclick">dblclick</a></li><li><a href="tr.IElementControl.html#event:drag">drag</a></li><li><a href="tr.IElementControl.html#event:dragend">dragend</a></li><li><a href="tr.IElementControl.html#event:dragenter">dragenter</a></li><li><a href="tr.IElementControl.html#event:dragleave">dragleave</a></li><li><a href="tr.IElementControl.html#event:dragover">dragover</a></li><li><a href="tr.IElementControl.html#event:dragstart">dragstart</a></li><li><a href="tr.IElementControl.html#event:drop">drop</a></li><li><a href="tr.IElementControl.html#event:focus">focus</a></li><li><a href="tr.IElementControl.html#event:formchange">formchange</a></li><li><a href="tr.IElementControl.html#event:forminput">forminput</a></li><li><a href="tr.IElementControl.html#event:input">input</a></li><li><a href="tr.IElementControl.html#event:invalid">invalid</a></li><li><a href="tr.IElementControl.html#event:keydown">keydown</a></li><li><a href="tr.IElementControl.html#event:keypress">keypress</a></li><li><a href="tr.IElementControl.html#event:keyup">keyup</a></li><li><a href="tr.IElementControl.html#event:mousedown">mousedown</a></li><li><a href="tr.IElementControl.html#event:mousemove">mousemove</a></li><li><a href="tr.IElementControl.html#event:mouseout">mouseout</a></li><li><a href="tr.IElementControl.html#event:mouseover">mouseover</a></li><li><a href="tr.IElementControl.html#event:mouseup">mouseup</a></li><li><a href="tr.IElementControl.html#event:mousewheel">mousewheel</a></li><li><a href="tr.IElementControl.html#event:reset">reset</a></li><li><a href="tr.IElementControl.html#event:scroll">scroll</a></li><li><a href="tr.IElementControl.html#event:select">select</a></li><li><a href="tr.IElementControl.html#event:submit">submit</a></li><li><a href="tr.ILayoutGrid.html#event:blur">blur</a></li><li><a href="tr.ILayoutGrid.html#event:change">change</a></li><li><a href="tr.ILayoutGrid.html#event:click">click</a></li><li><a href="tr.ILayoutGrid.html#event:contextmenu">contextmenu</a></li><li><a href="tr.ILayoutGrid.html#event:dblclick">dblclick</a></li><li><a href="tr.ILayoutGrid.html#event:drag">drag</a></li><li><a href="tr.ILayoutGrid.html#event:dragend">dragend</a></li><li><a href="tr.ILayoutGrid.html#event:dragenter">dragenter</a></li><li><a href="tr.ILayoutGrid.html#event:dragleave">dragleave</a></li><li><a href="tr.ILayoutGrid.html#event:dragover">dragover</a></li><li><a href="tr.ILayoutGrid.html#event:dragstart">dragstart</a></li><li><a href="tr.ILayoutGrid.html#event:drop">drop</a></li><li><a href="tr.ILayoutGrid.html#event:focus">focus</a></li><li><a href="tr.ILayoutGrid.html#event:formchange">formchange</a></li><li><a href="tr.ILayoutGrid.html#event:forminput">forminput</a></li><li><a href="tr.ILayoutGrid.html#event:input">input</a></li><li><a href="tr.ILayoutGrid.html#event:invalid">invalid</a></li><li><a href="tr.ILayoutGrid.html#event:keydown">keydown</a></li><li><a href="tr.ILayoutGrid.html#event:keypress">keypress</a></li><li><a href="tr.ILayoutGrid.html#event:keyup">keyup</a></li><li><a href="tr.ILayoutGrid.html#event:mousedown">mousedown</a></li><li><a href="tr.ILayoutGrid.html#event:mousemove">mousemove</a></li><li><a href="tr.ILayoutGrid.html#event:mouseout">mouseout</a></li><li><a href="tr.ILayoutGrid.html#event:mouseover">mouseover</a></li><li><a href="tr.ILayoutGrid.html#event:mouseup">mouseup</a></li><li><a href="tr.ILayoutGrid.html#event:mousewheel">mousewheel</a></li><li><a href="tr.ILayoutGrid.html#event:reset">reset</a></li><li><a href="tr.ILayoutGrid.html#event:scroll">scroll</a></li><li><a href="tr.ILayoutGrid.html#event:select">select</a></li><li><a href="tr.ILayoutGrid.html#event:submit">submit</a></li><li><a href="tr.LayoutGrid.html#event:rowCountChanged">rowCountChanged</a></li><li><a href="tr.LayoutGrid.html#event:rowHeightChanged">rowHeightChanged</a></li><li><a href="tr.LayoutGrid.html#event:rowHighlighted">rowHighlighted</a></li><li><a href="tr.Popup.html#event:hidden">hidden</a></li><li><a href="tr.Popup.html#event:shown">shown</a></li><li><a href="tr.PopupMenu.html#event:hidden">hidden</a></li><li><a href="tr.PopupMenu.html#event:shown">shown</a></li><li><a href="tr.PrintTrait.html#event:afterprint">afterprint</a></li><li><a href="tr.PrintTrait.html#event:beforeprint">beforeprint</a></li><li><a href="tr.PrintTrait.html#event:pageCounting">pageCounting</a></li></ul><h3>Global</h3><ul><li><a href="global.html#cellRef%255Bundefined%255D">cellRef[undefined]</a></li><li><a href="global.html#e%255Bundefined%255D">e[undefined]</a></li><li><a href="global.html#.textContent">.textContent</a></li><li><a href="global.html#get">get</a></li><li><a href="global.html#input%255Bundefined%255D">input[undefined]</a></li><li><a href="global.html#q%255Bundefined%255D">q[undefined]</a></li><li><a href="global.html#sortingDef%255B1%255D">sortingDef[1]</a></li></ul>
</nav>


<script src="scripts/linenumber.js"> </script>
<script src="scripts/prettify.js"> </script>
<script> prettyPrint(); </script>
</body>
</html>
