<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <title>JSDoc: Source: grid/plugins/DragAndDropTitlePlugin.js</title>

    <script src="scripts/prettify.js"> </script>
    <script src="scripts/lang-css.js"> </script>
    <!--[if lt IE 9]&gt;
      &lt;script src="//html5shiv.googlecode.com/svn/trunk/html5.js"&gt;&lt;/script&gt;
    &lt;![endif]-->
    <link type="text/css" rel="stylesheet" href="styles/default.css">
    <link type="text/css" rel="stylesheet" href="styles/elf-template.css">
</head>

<body>

<div id="main-template" class="elf-template">
    



    
    <section>
        <article>
            <pre class="prettyprint source linenums"><code>goog.provide("tr.grid.DragAndDropTitlePlugin");

goog.require("tr.res");
goog.require("tr.Grid");
goog.require("tr.ILayoutGrid");

goog.require("tr.grid.IPlugin");
goog.require("tr.grid.Plugin");

/** Event
* @event tr.grid.DragAndDropTitlePlugin#dragged
* @type {MouseEvent}
* @property {*} * Depends on the browser's mouse event arguments
*/
/** Event
* @event tr.grid.DragAndDropTitlePlugin#columnMoved
* @property {number} startColumnIndex
* @property {number} destColumnIndex
*/

/** @constructor
 * @extends {tr.grid.Plugin}
 * @implements {tr.grid.IPlugin}
 */
tr.grid.DragAndDropTitlePlugin = function () {
	var _t = this;

	_t._onColumnAdded = _t._onColumnAdded.bind(_t);
	_t._onColumnMoved = _t._onColumnMoved.bind(_t);
	_t._onColumnRemoved = _t._onColumnRemoved.bind(_t);

	_t._onMouseUp = _t._onMouseUp.bind(_t);
	_t._onMouseDown = _t._onMouseDown.bind(_t);

	_t._onDrag = _t._onDrag.bind(_t);
	_t._onDragStart = _t._onDragStart.bind(_t);
	_t._onDragEnd = _t._onDragEnd.bind(_t);
	_t._onDragPulse = _t._onDragPulse.bind(_t);

	_t._hosts = [];

	_t._guideline = document.createElement("svg");
	_t._guideline.className = "tr-guideline";
	_t._dragbox = document.createElement("svg");
	_t._dragbox.className = "tr-dragbox";

	_t._addEvent("dragged"); // drag
	_t._addEvent("dragStart");
	_t._addEvent("dragInterval");
	_t._addEvent("preColumnMoved");
	_t._addEvent(tr.res.columnMoved);

};
goog.inherits(tr.grid.DragAndDropTitlePlugin, tr.grid.Plugin);


/** @private
* @type {tr.Grid}
*/
tr.grid.DragAndDropTitlePlugin.prototype._clickedGrid;
/** @private
* @type {tr.ILayoutGrid}
*/
tr.grid.DragAndDropTitlePlugin.prototype._clickedSection = null;
/** @private
* @type {number}
*/
tr.grid.DragAndDropTitlePlugin.prototype._clickedRow = -1;
/** @private
* @type {!Element}
*/
tr.grid.DragAndDropTitlePlugin.prototype._guideline;
/** @private
* @type {!Element}
*/
tr.grid.DragAndDropTitlePlugin.prototype._dragbox;
/** @private
* @type {number}
*/
tr.grid.DragAndDropTitlePlugin.prototype._timerId = 0;
/** @private
* @type {number}
*/
tr.grid.DragAndDropTitlePlugin.prototype._dragPulseId = 0;
/** @private
* @type {Object}
*/
tr.grid.DragAndDropTitlePlugin.prototype._pos = null; // Cache of current mouse position
/** @private
* @type {number}
*/
tr.grid.DragAndDropTitlePlugin.prototype._cacheLeft = 0;
/** @private
* @type {number}
*/
tr.grid.DragAndDropTitlePlugin.prototype._cacheWidth = 0;

/** @private
* @type {number}
*/
tr.grid.DragAndDropTitlePlugin.prototype._startColumn = -1;
/** @private
* @type {number}
*/
tr.grid.DragAndDropTitlePlugin.prototype._endColumn = -1;
/** @private
* @type {number}
*/
tr.grid.DragAndDropTitlePlugin.prototype._destColumn = -1;
/** @private
* @type {number}
*/
tr.grid.DragAndDropTitlePlugin.prototype._leftMovableBorder = -1;
/** @private
* @type {number}
*/
tr.grid.DragAndDropTitlePlugin.prototype._rightMovableBorder = -1;
/** @private
* @type {boolean}
*/
tr.grid.DragAndDropTitlePlugin.prototype._isDragging = false;
/** @private
* @type {boolean}
*/
tr.grid.DragAndDropTitlePlugin.prototype._lockFrozen = false;
/** @private
* @type {boolean}
*/
tr.grid.DragAndDropTitlePlugin.prototype._disabled = false;
/** @private
* @type {boolean}
*/
tr.grid.DragAndDropTitlePlugin.prototype._noColumnMoving = false;
/** @private
* @type {boolean}
*/
tr.grid.DragAndDropTitlePlugin.prototype._noDragBox = false;


/** @override */
tr.grid.DragAndDropTitlePlugin.prototype.getName = function () {
	return "DragAndDropTitlePlugin"; // Read Only
};
/** @override */
tr.grid.DragAndDropTitlePlugin.prototype.initialize = function (host) {
	if(this._hosts.indexOf(host) &gt;= 0) { return; }

	this._hosts.push(host);
	host.listen(tr.res.mousedown, this._onMouseDown);
	host.listen(tr.res.columnAdded, this._onColumnAdded);
	host.listen(tr.res.columnMoved, this._onColumnMoved);
	host.listen(tr.res.columnRemoved, this._onColumnRemoved);

	host.listen(tr.res.dragstart, tr._preventDefault);
};

/** @override */
tr.grid.DragAndDropTitlePlugin.prototype.unload = function (host) {
	var at = this._hosts.indexOf(host);
	if(at &lt; 0) { return; }

	this._hosts.splice(at, 1);
	host.unlisten(tr.res.mousedown, this._onMouseDown);
	host.unlisten(tr.res.columnAdded, this._onColumnAdded);
	host.unlisten(tr.res.columnMoved, this._onColumnMoved);
	host.unlisten(tr.res.columnRemoved, this._onColumnRemoved);
};

/** Specify column to be processed by this plugin
* @public
* @return {Object}
*/
tr.grid.DragAndDropTitlePlugin.prototype.getMarker = function () {
	return {};
};

/**
* Lock moving of frozen column. If true is spsecified, dragging is disabled for frozen column.
* @public
* @param {boolean} lock
*/
tr.grid.DragAndDropTitlePlugin.prototype.lockFrozenColumn = function(lock) {
	this._lockFrozen = lock;
};

/** Disable this plugin entirely
* @public
* @param {boolean=} opt_disabled
*/
tr.grid.DragAndDropTitlePlugin.prototype.disable = function(opt_disabled) {
	this._disabled = opt_disabled !== false;
};
/** Disable column moving. Only cursor is showing and events are fired. No real column moving.
* @public
* @param {boolean=} opt_disabled
*/
tr.grid.DragAndDropTitlePlugin.prototype.disableMoving = function(opt_disabled) {
	this._noColumnMoving = opt_disabled !== false;
};
/** Disable column moving. Only cursor is showing and events are fired. No real column moving.
* @public
* @param {boolean=} opt_disabled
*/
tr.grid.DragAndDropTitlePlugin.prototype.disableDragBox = function(opt_disabled) {
	this._noDragBox = opt_disabled !== false;
};

/** @private
* @param {number} colIndex
* @return {boolean}
*/
tr.grid.DragAndDropTitlePlugin.prototype._isAllowed = function(colIndex) {
	var host = this._clickedGrid || this._hosts[0];
	if (host) {
		var stationaryIndex = host.getStationaryColumnIndex();
		if (stationaryIndex &lt; 0) {
			return true;
		}
		if (colIndex &lt;= stationaryIndex) {
			return false;
		}
	}
	return true;
};
/** @private
* @param {Event} e
*/
tr.grid.DragAndDropTitlePlugin.prototype._onMouseDown = function (e) {
	if(this._disabled) {
		return;
	}
	if(e.shiftKey || e.ctrlKey || e.altKey) {
		return; // Ignore mousedown event, if modifier key is detected
	}
	if(e.button) {
		return; // We don't allow drag with middle click (button == 1), or right click (button == 2)
	}
	if(this._timerId) {
		return; // Drag timer is already start
	}

	var host = this.getRelativeGrid(e);
	if(!host) {
		return; // Given event should be within grid element
	}

	this._pos = host.getRelativePosition(e);
	if (this._pos["hit"] === false) {
		return; // Only start dragging when mouse is down on the grid
	}

	var posSection = this._pos[tr.res.section];
	var section = /** @type{tr.ILayoutGrid} */(posSection);
	if(!section) {
		return; // The section that is not in the target section list cannot be dragged
	} else if(this._pos[tr.res.sectionType] !== tr.res.title) {
		return; // Sections other than title section cannot be dragged by default
	}

	var colIndex = this._pos[tr.res.colIndex];
	if(!this._isAllowed(colIndex)) {
		return; // The column cannot be dragged
	}
	if(this._lockFrozen &amp;&amp; host.isPinnedColumn(colIndex)) {
		return; // If the lock frag is on, frozen columns cannot be dragged
	}

	var rowIndex = this._pos[tr.res.rowIndex]; // rowIndex may not exist
	var movableBorder = this._findMoveableBorder(colIndex, rowIndex-1, section);
	var movingColumns = this._getSpan(colIndex, rowIndex, section);

	this._clickedGrid = host;
	this._clickedSection = section;
	this._clickedRow = rowIndex;

	this._startColumn = movingColumns["left"];
	this._endColumn = movingColumns["right"];
	this._leftMovableBorder = movableBorder["left"];
	this._rightMovableBorder = movableBorder["right"];
	this._destColumn = this._startColumn;

	this._timerId = setTimeout(this._onDragStart, 300);
	window.addEventListener(tr.res.mouseup, this._onMouseUp, false);
};
/** @private
* @param {Object} e
*/
tr.grid.DragAndDropTitlePlugin.prototype._onMouseUp = function (e) {
	if(this._timerId) {
		window.clearTimeout(this._timerId);
		window.removeEventListener(tr.res.mouseup, this._onMouseUp, false);
		this._timerId = 0;
		this._clearCache();
	}
};

/** @private
*/
tr.grid.DragAndDropTitlePlugin.prototype._onDragStart = function () {
	if(this._disabled || this._isDragging) { return; }

	if (this._hasListener("dragStart")) {
		var pos = this._pos;
		this._dispatch("dragStart", /** @type{!Object} */(pos));
	}

	if (this._pos["cancel"]) {
		return;
	}

	this._timerId = 0;
	window.removeEventListener(tr.res.mouseup, this._onMouseUp, false);

	if(!this._clickedGrid) {
		return;
	}

	this._isDragging = true;
	document.body.classList.add("tr-dragging"); // Prevent text selection
	// document.body.classList.add("tr-move-cursor");

	window.addEventListener(tr.res.mousemove, this._onDrag, false);
	window.addEventListener(tr.res.mouseup, this._onDragEnd, true);

	var host = this._clickedGrid;
	var height = host.getHeight();
	var sectionBound =  this._clickedSection.getBoundingClientRect();
	var clickedCellBound =  this._clickedSection.getCell(this._startColumn, this._clickedRow).getBoundingClientRect();

	var gridElem = host.getElement();
	this._guideline.style.top = (clickedCellBound.top - sectionBound.top) + "px";
	this._guideline.style.height = (height - 1) + "px";
	this._dragbox.style.height = (height - 33) + "px"; // WARNING: Height could be long
	this._dragbox.style.width = this._clickedSection.getColumnWidth(this._startColumn) + "px";

	 // TODO: guideline and drag box should be outside of grid area
	gridElem.appendChild(this._guideline);

	this._dimCol(true);
	this._renderGuideline();

	// For step scrolling // TODO: Merge this logic with DraggableContentPlugin
	this._scrollStep = Math.floor(host.getScrollWidth() / 25); // Update the scrollbar first
	if(this._scrollStep &lt; 40) {
		this._scrollStep = 40;
	} else if(this._scrollStep &gt; 400) {
		this._scrollStep = 400;
	}
	var scrollbar = host.getHScrollbar();
	this._cacheLeft = scrollbar.getLeft() + 20;
	this._cacheWidth = scrollbar.getLeft() + scrollbar.getWidth() - 20;

	this._dragPulseId = window.setInterval(this._onDragPulse, 150); // Start pulse
};
/** @private
* @param {Event} e
*/
tr.grid.DragAndDropTitlePlugin.prototype._onDrag = function (e) {
	if(!this._isDragging) { return; }

	tr._preventDefault(e);
	this._pos = this._clickedGrid.getRelativePosition(e); // Relative to the clicked grid

	var	host = this.getRelativeGrid(e);
	if (!host || host !== this._clickedGrid) { return; }

	var colIndex = this._pos[tr.res.colIndex];
	if ((colIndex &gt;= this._leftMovableBorder) &amp;&amp;
		(colIndex &lt;= this._rightMovableBorder) &amp;&amp;
		this._isAllowed(colIndex) &amp;&amp;
		!(this._lockFrozen &amp;&amp; host.isPinnedColumn(colIndex))) {
		this._renderGuideline();
		this._dispatch("dragged", /** @type{!Object} */(e));
	}
	this._renderDragBox(e);
};
/** @private
* @param {Event} e
*/
tr.grid.DragAndDropTitlePlugin.prototype._onDragEnd = function (e) {
	if(!this._isDragging) {
		return;
	}

	this._isDragging = false;
	document.body.classList.remove("tr-dragging");
	// document.body.classList.remove("tr-move-cursor");
	this._dimCol(false);

	var pn = this._guideline.parentNode;
	if(pn) {
		pn.removeChild(this._guideline);
	}

	pn = this._dragbox.parentNode;
	if(pn) {
		pn.removeChild(this._dragbox);
	}

	window.removeEventListener(tr.res.mousemove, this._onDrag, false);
	window.removeEventListener(tr.res.mouseup, this._onDragEnd, true);

	if(this._dragPulseId) {
		window.clearInterval(this._dragPulseId);
		this._dragPulseId = 0;
	}
	this._pos = null;

	tr._preventDefault(e);

	//When move to the right, the first position is the current one.
	if (this._destColumn &gt; this._startColumn) {
		--this._destColumn;
	}
	//Cancel moving if the destination column is the current column or not allowed column
	if ((!this._destColumn &amp;&amp; this._destColumn !== 0) || // undefined, NaN, null
		this._destColumn &lt; 0 ||
		!this._isAllowed(this._destColumn) ||
		(this._destColumn &gt;= this._startColumn &amp;&amp; this._destColumn &lt;= this._endColumn)) {
		this._clearCache();
		return;
	}

	var arg = {
		"startColumnIndex": this._startColumn,
		"destColumnIndex": this._destColumn
	};

	if (this._hasListener("preColumnMoved")) {
		this._dispatch("preColumnMoved", arg);
	}

	if (arg["cancel"]) {
		return;
	}

	if (!this._noColumnMoving) {
		var shiftStart = -1;
		var shiftEnd = -1;
		var moveSize = -1;
		if (this._startColumn &gt; this._destColumn) { //Move backward
			shiftStart = this._destColumn;
			shiftEnd = this._startColumn - 1;
			moveSize = -1 * (this._startColumn - this._destColumn); //Move to the left
		} else
		if (this._startColumn &lt; this._destColumn) { //Move foward
			shiftStart = this._endColumn + 1;
			shiftEnd = this._destColumn;
			moveSize = ((shiftEnd - shiftStart) + 1); //Move to the right
		}

		//Perform moving all columns in the range
		for(var j = this._hosts.length; --j &gt;= 0;) {
			var host = this._hosts[j];
			if (moveSize &gt; 0) { //Move forward
				for (var i = this._startColumn; i &lt;= this._endColumn;i++) {
					host.moveColumn(this._startColumn , this._destColumn);
				}
			} else { //Move backward
				for (var i = this._startColumn; i &lt;= this._endColumn;i++) {
					host.moveColumn(this._startColumn + (i - this._startColumn), this._destColumn + (i - this._startColumn));
				}
			}
		}
	}

	if (this._hasListener(tr.res.columnMoved)) {
		this._dispatch(tr.res.columnMoved, {
			"startColumnIndex": this._startColumn,
			"endColumnIndex": this._endColumn,
			"destColumnIndex": this._destColumn,
			"clickedRow": this._clickedRow
		});
	}
	this._clearCache();
};

/** @private
*/
tr.grid.DragAndDropTitlePlugin.prototype._onDragPulse = function() {
	if(!this._isDragging || !this._pos) { return; }

	var pos = this._pos;
	this._dispatch("dragInterval", /** @type{!Object} */(pos));

	var host = this._clickedGrid;
	if(!host || !host.getHScrollbar().isActive()) { return; }

	var x = this._pos["x"];
	var scrollVal = 0;
	if(x &lt; this._cacheLeft) {
		scrollVal = -Math.floor(this._scrollStep * (0.8 + Math.random()));

	} else if(x &gt; this._cacheWidth) {
		scrollVal = Math.floor(this._scrollStep * (0.8 + Math.random()));
	}

	this._scrollRight(scrollVal);
};
/** @private
*/
tr.grid.DragAndDropTitlePlugin.prototype._clearCache = function() {
	this._startColumn = this._endColumn = this._destColumn = -1;

	this._leftMovableBorder = this._rightMovableBorder = -1;

	this._clickedRow = -1;
	this._clickedSection = this._clickedGrid = null;
};

/** @private
* @param {number} colIndex
* @param {number} row
* @param {tr.ILayoutGrid} section
* @return {!Object}
*/
tr.grid.DragAndDropTitlePlugin.prototype._getSpan = function(colIndex, row, section) {
	var cellSpan = section.getCellColSpan(colIndex, row);

	if (cellSpan &lt;= 0) { // The specified cell is being occupied
		colIndex += cellSpan; // Convert the given negative index to the spanning cell
		cellSpan = section.getCellColSpan(colIndex, row);
	}

	return { "left": colIndex, "right": (colIndex + cellSpan - 1) };
};
/** @private
* @param {number} col
* @param {number} row
* @param {tr.ILayoutGrid} section
* @return {!Object}
*/
tr.grid.DragAndDropTitlePlugin.prototype._findMoveableBorder = function(col, row, section) {
	if (row &lt; 0 || (!row &amp;&amp; row !== 0)) { // Guaranteed to get out of infinite loop by checking undefined, NaN, null
		return { "left": 0, "right": (section.getColumnCount() - 1) };
	}
	var span = this._getSpan(col, row, section);
	if (span["right"] &gt;= span["left"]) {
		return span;
	} else {
		return this._findMoveableBorder(col, row-1, section);
	}
};
/**
* @private
*/
tr.grid.DragAndDropTitlePlugin.prototype._renderGuideline = function() {
	var colIndex = this._pos[tr.res.colIndex];
	if(colIndex == null || colIndex &lt; 0) { // undefined, null or negative number
		return;
	}

	var currentSpan = this._getSpan(colIndex, this._clickedRow, this._clickedSection);
	var colStart = currentSpan["left"]; // This can be different from colIndex
	var colEnd = currentSpan["right"];
	var colLeft = this._clickedGrid.getColumnLeft(colStart);
	var colWidth = 0;
	for(var i = colStart; i &lt;= colEnd; ++i) {
		colWidth += this._clickedGrid.getColumnWidth(i);
	}

	var rightHand = this._pos["x"] &gt; colLeft + colWidth / 2;
	var destColumn = (rightHand) ? colEnd + 1 : colStart;

	colLeft = this._clickedGrid.getColumnLeft(this._destColumn);
	// If destination exceeds the specified bounds
	if (destColumn &lt; this._leftMovableBorder) {
		destColumn = this._leftMovableBorder;
	} else if (destColumn &gt; this._rightMovableBorder) {
		destColumn = this._rightMovableBorder + 1;
		if(rightHand) {
			colLeft -= 4; // Shift guideline to the left if this is the rightmost column
		}
	}

	this._destColumn = destColumn;
	this._guideline.style.left = colLeft + "px";
};
/** @private
* @param {!Element|Event|MouseEvent} e
*/
tr.grid.DragAndDropTitlePlugin.prototype._renderDragBox = function(e) {
	if(this._noDragBox) {
		return;
	}

	var gridElem = this._clickedGrid.getElement();
	var pn = this._dragbox.parentNode;
	if(!pn) {
		gridElem.appendChild(this._dragbox);
	}

	var gridRect = gridElem.getBoundingClientRect();
	var zoomFactor = this._clickedGrid["zoomFactor"]; // TODO: Remove zoom factor
	var contentWidth = gridRect.width;

	var x = e.clientX - gridRect.left;
	var y = ((e.pageY - gridRect.top) / zoomFactor) - window.scrollY;
	var midFactor = parseFloat((x / contentWidth).toFixed(2));
	var dragboxLeft = (gridRect.width * midFactor) / zoomFactor - this._dragbox.offsetWidth * midFactor;

	this._dragbox.style.left = dragboxLeft + "px";
	this._dragbox.style.top = (y + 10)  + "px";
};

/**
* @private
* @param {boolean} inOut
*/
tr.grid.DragAndDropTitlePlugin.prototype._dimCol = function(inOut) {
	for (var i = this._startColumn; i &lt;= this._endColumn; i++) {
		this._clickedGrid.enableColumnClass(i, "drag-fadeout", inOut);
	}
};


goog.exportSymbol("tr.grid.DragAndDropTitlePlugin", tr.grid.DragAndDropTitlePlugin);
tr.grid.DragAndDropTitlePlugin._proto = tr.grid.DragAndDropTitlePlugin.prototype;

goog.exportProperty(tr.grid.DragAndDropTitlePlugin._proto, "getName", tr.grid.DragAndDropTitlePlugin._proto.getName);
goog.exportProperty(tr.grid.DragAndDropTitlePlugin._proto, "initialize", tr.grid.DragAndDropTitlePlugin._proto.initialize);
goog.exportProperty(tr.grid.DragAndDropTitlePlugin._proto, "unload", tr.grid.DragAndDropTitlePlugin._proto.unload);

goog.exportProperty(tr.grid.DragAndDropTitlePlugin._proto, "getMarker", tr.grid.DragAndDropTitlePlugin._proto.getMarker);
goog.exportProperty(tr.grid.DragAndDropTitlePlugin._proto, "lockFrozenColumn", tr.grid.DragAndDropTitlePlugin._proto.lockFrozenColumn);
goog.exportProperty(tr.grid.DragAndDropTitlePlugin._proto, "disable", tr.grid.DragAndDropTitlePlugin._proto.disable);
goog.exportProperty(tr.grid.DragAndDropTitlePlugin._proto, "disableMoving", tr.grid.DragAndDropTitlePlugin._proto.disableMoving);
goog.exportProperty(tr.grid.DragAndDropTitlePlugin._proto, "disableDragBox", tr.grid.DragAndDropTitlePlugin._proto.disableDragBox);
</code></pre>
        </article>
    </section>




</div>

<nav>
    <h2><a href="index.html">Home</a></h2><h3>Namespaces</h3><ul><li><a href="AdFin.html">AdFin</a></li><li><a href="DateTime.html">DateTime</a></li><li><a href="Info.html">Info</a></li><li><a href="Logic.html">Logic</a></li><li><a href="Math.html">Math</a></li><li><a href="Realtime.html">Realtime</a></li><li><a href="Statistic.html">Statistic</a></li><li><a href="Text.html">Text</a></li><li><a href="tr.ElementFrameWork.html">ElementFrameWork</a></li><li><a href="tr.PipDefinition.html">PipDefinition</a></li></ul><h3>Classes</h3><ul><li><a href="tr.ADCSubscription.html">ADCSubscription</a></li><li><a href="tr.AdFinSubscription.html">AdFinSubscription</a></li><li><a href="tr.cgrid.editor.TextBox.html">TextBox</a></li><li><a href="tr.cgrid.filter.TextBox.html">TextBox</a></li><li><a href="tr.cgrid.formatter.AsyncFormatter.html">AsyncFormatter</a></li><li><a href="tr.cgrid.formatter.CheckBox.html">CheckBox</a></li><li><a href="tr.cgrid.formatter.UpDownColor.html">UpDownColor</a></li><li><a href="tr.ColumnStats.html">ColumnStats</a></li><li><a href="tr.CompositeGrid.html">CompositeGrid</a></li><li><a href="tr.DataCache.html">DataCache</a></li><li><a href="tr.DataTable.html">DataTable</a></li><li><a href="tr.DataView.html">DataView</a></li><li><a href="tr.DropDown.html">DropDown</a></li><li><a href="tr.ElementControl.html">ElementControl</a></li><li><a href="tr.ElementWrapper.html">ElementWrapper</a></li><li><a href="tr.Event.html">Event</a></li><li><a href="tr.EventDispatcher.html">EventDispatcher</a></li><li><a href="tr.EventDispatcher.extendClass-tempCtor.html">tempCtor</a></li><li><a href="tr.EventManager.html">EventManager</a></li><li><a href="tr.FieldFormatter.html">FieldFormatter</a></li><li><a href="tr.fn.Engine.html">Engine</a></li><li><a href="tr.fn.Formula.html">Formula</a></li><li><a href="tr.fn.VariableToken.html">VariableToken</a></li><li><a href="tr.Grid.html">Grid</a></li><li><a href="tr.grid.BidOfferSpan.html">BidOfferSpan</a></li><li><a href="tr.grid.Blinker.html">Blinker</a></li><li><a href="tr.grid.Cell.html">Cell</a></li><li><a href="tr.grid.CellBlinkingPlugin.html">CellBlinkingPlugin</a></li><li><a href="tr.grid.CellEditingPlugin.html">CellEditingPlugin</a></li><li><a href="tr.grid.CellFloatingPanel.html">CellFloatingPanel</a></li><li><a href="tr.grid.CellPainter.html">CellPainter</a></li><li><a href="tr.grid.CellSpan.html">CellSpan</a></li><li><a href="tr.grid.CellSpans.html">CellSpans</a></li><li><a href="tr.grid.CellWriter.html">CellWriter</a></li><li><a href="tr.grid.CheckboxColumnPlugin.html">CheckboxColumnPlugin</a></li><li><a href="tr.grid.ColumnFilterPlugin.html">ColumnFilterPlugin</a></li><li><a href="tr.grid.ColumnSelectionPlugin.html">ColumnSelectionPlugin</a></li><li><a href="tr.grid.ColumnStackingPlugin.html">ColumnStackingPlugin</a></li><li><a href="tr.grid.ColumnWidthAdjustingPlugin.html">ColumnWidthAdjustingPlugin</a></li><li><a href="tr.grid.Conflator.html">Conflator</a></li><li><a href="tr.grid.DataSourceTreePlugin.html">DataSourceTreePlugin</a></li><li><a href="tr.grid.DirectContentBindingPlugin.html">DirectContentBindingPlugin</a></li><li><a href="tr.grid.DragAndDropTitlePlugin.html">DragAndDropTitlePlugin</a></li><li><a href="tr.grid.DraggableContentPlugin.html">DraggableContentPlugin</a></li><li><a href="tr.grid.FindBar.html">FindBar</a></li><li><a href="tr.grid.FindBarPlugin.html">FindBarPlugin</a></li><li><a href="tr.grid.GroupStatisticsPlugin.html">GroupStatisticsPlugin</a></li><li><a href="tr.grid.HeatMapRenderer.html">HeatMapRenderer</a></li><li><a href="tr.grid.HScrollbar.html">HScrollbar</a></li><li><a href="tr.grid.IndexMarker.html">IndexMarker</a></li><li><a href="tr.grid.MovableHeaderPlugin.html">MovableHeaderPlugin</a></li><li><a href="tr.grid.NumberFormatter.html">NumberFormatter</a></li><li><a href="tr.grid.PercentBar.html">PercentBar</a></li><li><a href="tr.grid.PercentBarRenderer.html">PercentBarRenderer</a></li><li><a href="tr.grid.Plugin.html">Plugin</a></li><li><a href="tr.grid.RangeBar.html">RangeBar</a></li><li><a href="tr.grid.ResizableTitlePlugin.html">ResizableTitlePlugin</a></li><li><a href="tr.grid.Reverter.html">Reverter</a></li><li><a href="tr.grid.RowHeightAdjustingPlugin.html">RowHeightAdjustingPlugin</a></li><li><a href="tr.grid.RowSelectionPlugin.html">RowSelectionPlugin</a></li><li><a href="tr.grid.Scrollbar.html">Scrollbar</a></li><li><a href="tr.grid.SectionSettings.html">SectionSettings</a></li><li><a href="tr.grid.SmartTooltipsPlugin.html">SmartTooltipsPlugin</a></li><li><a href="tr.grid.SortableTitlePlugin.html">SortableTitlePlugin</a></li><li><a href="tr.grid.Virtualizer.html">Virtualizer</a></li><li><a href="tr.grid.VScrollbar.html">VScrollbar</a></li><li><a href="tr.grid.ZoomPlugin.html">ZoomPlugin</a></li><li><a href="tr.HttpRequest.html">HttpRequest</a></li><li><a href="tr.IntervalSubscription.html">IntervalSubscription</a></li><li><a href="tr.LayoutGrid.html">LayoutGrid</a></li><li><a href="tr.ListMenu.html">ListMenu</a></li><li><a href="tr.MenuItem.html">MenuItem</a></li><li><a href="tr.MockArchive.html">MockArchive</a></li><li><a href="tr.MockJET.html">MockJET</a></li><li><a href="tr.MockQuotes.html">MockQuotes</a></li><li><a href="tr.MockQuotes2.html">MockQuotes2</a></li><li><a href="tr.MockSubscription.html">MockSubscription</a></li><li><a href="tr.MockSubscriptions.html">MockSubscriptions</a></li><li><a href="tr.Popup.html">Popup</a></li><li><a href="tr.PopupMenu.html">PopupMenu</a></li><li><a href="tr.PrintTrait.html">PrintTrait</a></li><li><a href="tr.RequestQueue.html">RequestQueue</a></li><li><a href="tr.Segment.html">Segment</a></li><li><a href="tr.SegmentCollection.html">SegmentCollection</a></li><li><a href="tr.TSISubscription.html">TSISubscription</a></li><li><a href="tr.WrappedView.html">WrappedView</a></li></ul><h3>Interfaces</h3><ul><li><a href="tr.cgrid.ICompositeExtension.html">ICompositeExtension</a></li><li><a href="tr.grid.IPlugin.html">IPlugin</a></li><li><a href="tr.IElementControl.html">IElementControl</a></li><li><a href="tr.ILayoutGrid.html">ILayoutGrid</a></li></ul><h3>Events</h3><ul><li><a href="tr.CompositeGrid.html#event:cellClicked">cellClicked</a></li><li><a href="tr.CompositeGrid.html#event:cellDblClicked">cellDblClicked</a></li><li><a href="tr.CompositeGrid.html#event:cellMouseDown">cellMouseDown</a></li><li><a href="tr.CompositeGrid.html#event:cellRightClicked">cellRightClicked</a></li><li><a href="tr.CompositeGrid.html#event:columnSorted">columnSorted</a></li><li><a href="tr.CompositeGrid.html#event:editorAttached">editorAttached</a></li><li><a href="tr.CompositeGrid.html#event:editorDetached">editorDetached</a></li><li><a href="tr.CompositeGrid.html#event:filterAdded">filterAdded</a></li><li><a href="tr.CompositeGrid.html#event:filterCleared">filterCleared</a></li><li><a href="tr.CompositeGrid.html#event:filterModified">filterModified</a></li><li><a href="tr.CompositeGrid.html#event:filterRemoved">filterRemoved</a></li><li><a href="tr.CompositeGrid.html#event:mouseLeaveCell">mouseLeaveCell</a></li><li><a href="tr.CompositeGrid.html#event:mouseOverCell">mouseOverCell</a></li><li><a href="tr.CompositeGrid.html#event:pageChanged">pageChanged</a></li><li><a href="tr.CompositeGrid.html#event:selectionChanged">selectionChanged</a></li><li><a href="tr.DataCache.html#event:dataChanged">dataChanged</a></li><li><a href="tr.DataCache.html#event:dataComposed">dataComposed</a></li><li><a href="tr.DataTable.html#event:dataChanged">dataChanged</a></li><li><a href="tr.DataTable.html#event:dataComposed">dataComposed</a></li><li><a href="tr.DataView.html#event:beforeFiltering">beforeFiltering</a></li><li><a href="tr.DataView.html#event:beforeGroupAdded">beforeGroupAdded</a></li><li><a href="tr.DataView.html#event:dataChanged">dataChanged</a></li><li><a href="tr.DataView.html#event:groupAdded">groupAdded</a></li><li><a href="tr.DataView.html#event:groupCriteriaChanged">groupCriteriaChanged</a></li><li><a href="tr.DataView.html#event:pageCountChanged">pageCountChanged</a></li><li><a href="tr.DataView.html#event:pageIndexChanged">pageIndexChanged</a></li><li><a href="tr.DataView.html#event:preDisposed">preDisposed</a></li><li><a href="tr.DataView.html#event:wrapCountChanged">wrapCountChanged</a></li><li><a href="tr.DataView.html#event:wrapSizeChanged">wrapSizeChanged</a></li><li><a href="tr.Formula.html#event:dataCacheChanged">dataCacheChanged</a></li><li><a href="tr.grid.CellEditingPlugin.html#event:cancelled">cancelled</a></li><li><a href="tr.grid.CellEditingPlugin.html#event:change">change</a></li><li><a href="tr.grid.CellEditingPlugin.html#event:closed">closed</a></li><li><a href="tr.grid.CellEditingPlugin.html#event:editorOpened">editorOpened</a></li><li><a href="tr.grid.CellEditingPlugin.html#event:preEditorOpening">preEditorOpening</a></li><li><a href="tr.grid.CheckboxColumnPlugin.html#event:clicked">clicked</a></li><li><a href="tr.grid.ColumnFilterPlugin.html#event:click">click</a></li><li><a href="tr.grid.ColumnFilterPlugin.html#event:iconCreated">iconCreated</a></li><li><a href="tr.grid.ColumnStackingPlugin.html#event:clicked">clicked</a></li><li><a href="tr.grid.ColumnStackingPlugin.html#event:iconCreated">iconCreated</a></li><li><a href="tr.grid.DragAndDropTitlePlugin.html#event:columnMoved">columnMoved</a></li><li><a href="tr.grid.DragAndDropTitlePlugin.html#event:dragged">dragged</a></li><li><a href="tr.grid.DraggableContentPlugin.html#event:drag">drag</a></li><li><a href="tr.grid.DraggableContentPlugin.html#event:dragEnd">dragEnd</a></li><li><a href="tr.grid.DraggableContentPlugin.html#event:dragStart">dragStart</a></li><li><a href="tr.grid.FindBarPlugin.html#event:clicked">clicked</a></li><li><a href="tr.grid.MovableHeaderPlugin.html#event:dragged">dragged</a></li><li><a href="tr.grid.MovableHeaderPlugin.html#event:groupMoved">groupMoved</a></li><li><a href="tr.grid.MovableHeaderPlugin.html#event:sectionMoved">sectionMoved</a></li><li><a href="tr.grid.RowSelectionPlugin.html#event:selectionChanged">selectionChanged</a></li><li><a href="tr.grid.SortableTitlePlugin.html#event:clicked">clicked</a></li><li><a href="tr.grid.SortableTitlePlugin.html#event:columnSorted">columnSorted</a></li><li><a href="tr.grid.SortableTitlePlugin.html#event:preClicked">preClicked</a></li><li><a href="tr.grid.SortableTitlePlugin.html#event:preDataSorting">preDataSorting</a></li><li><a href="tr.Grid.html#event:columnAdded">columnAdded</a></li><li><a href="tr.Grid.html#event:columnAlignmentChanged">columnAlignmentChanged</a></li><li><a href="tr.Grid.html#event:columnRemoved">columnRemoved</a></li><li><a href="tr.Grid.html#event:columnVisibilityChanged">columnVisibilityChanged</a></li><li><a href="tr.Grid.html#event:dataSourceChanged">dataSourceChanged</a></li><li><a href="tr.Grid.html#event:postSectionDataBinding">postSectionDataBinding</a></li><li><a href="tr.Grid.html#event:rowExpansionBinding">rowExpansionBinding</a></li><li><a href="tr.Grid.html#event:rowHighlighted">rowHighlighted</a></li><li><a href="tr.Grid.html#event:sectionAdded">sectionAdded</a></li><li><a href="tr.Grid.html#event:widthChanged">widthChanged</a></li><li><a href="tr.HttpRequest.html#event:abort">abort</a></li><li><a href="tr.HttpRequest.html#event:error">error</a></li><li><a href="tr.HttpRequest.html#event:load">load</a></li><li><a href="tr.HttpRequest.html#event:loadend">loadend</a></li><li><a href="tr.HttpRequest.html#event:loadstart">loadstart</a></li><li><a href="tr.HttpRequest.html#event:timeout">timeout</a></li><li><a href="tr.IElementControl.html#event:blur">blur</a></li><li><a href="tr.IElementControl.html#event:change">change</a></li><li><a href="tr.IElementControl.html#event:click">click</a></li><li><a href="tr.IElementControl.html#event:contextmenu">contextmenu</a></li><li><a href="tr.IElementControl.html#event:dblclick">dblclick</a></li><li><a href="tr.IElementControl.html#event:drag">drag</a></li><li><a href="tr.IElementControl.html#event:dragend">dragend</a></li><li><a href="tr.IElementControl.html#event:dragenter">dragenter</a></li><li><a href="tr.IElementControl.html#event:dragleave">dragleave</a></li><li><a href="tr.IElementControl.html#event:dragover">dragover</a></li><li><a href="tr.IElementControl.html#event:dragstart">dragstart</a></li><li><a href="tr.IElementControl.html#event:drop">drop</a></li><li><a href="tr.IElementControl.html#event:focus">focus</a></li><li><a href="tr.IElementControl.html#event:formchange">formchange</a></li><li><a href="tr.IElementControl.html#event:forminput">forminput</a></li><li><a href="tr.IElementControl.html#event:input">input</a></li><li><a href="tr.IElementControl.html#event:invalid">invalid</a></li><li><a href="tr.IElementControl.html#event:keydown">keydown</a></li><li><a href="tr.IElementControl.html#event:keypress">keypress</a></li><li><a href="tr.IElementControl.html#event:keyup">keyup</a></li><li><a href="tr.IElementControl.html#event:mousedown">mousedown</a></li><li><a href="tr.IElementControl.html#event:mousemove">mousemove</a></li><li><a href="tr.IElementControl.html#event:mouseout">mouseout</a></li><li><a href="tr.IElementControl.html#event:mouseover">mouseover</a></li><li><a href="tr.IElementControl.html#event:mouseup">mouseup</a></li><li><a href="tr.IElementControl.html#event:mousewheel">mousewheel</a></li><li><a href="tr.IElementControl.html#event:reset">reset</a></li><li><a href="tr.IElementControl.html#event:scroll">scroll</a></li><li><a href="tr.IElementControl.html#event:select">select</a></li><li><a href="tr.IElementControl.html#event:submit">submit</a></li><li><a href="tr.ILayoutGrid.html#event:blur">blur</a></li><li><a href="tr.ILayoutGrid.html#event:change">change</a></li><li><a href="tr.ILayoutGrid.html#event:click">click</a></li><li><a href="tr.ILayoutGrid.html#event:contextmenu">contextmenu</a></li><li><a href="tr.ILayoutGrid.html#event:dblclick">dblclick</a></li><li><a href="tr.ILayoutGrid.html#event:drag">drag</a></li><li><a href="tr.ILayoutGrid.html#event:dragend">dragend</a></li><li><a href="tr.ILayoutGrid.html#event:dragenter">dragenter</a></li><li><a href="tr.ILayoutGrid.html#event:dragleave">dragleave</a></li><li><a href="tr.ILayoutGrid.html#event:dragover">dragover</a></li><li><a href="tr.ILayoutGrid.html#event:dragstart">dragstart</a></li><li><a href="tr.ILayoutGrid.html#event:drop">drop</a></li><li><a href="tr.ILayoutGrid.html#event:focus">focus</a></li><li><a href="tr.ILayoutGrid.html#event:formchange">formchange</a></li><li><a href="tr.ILayoutGrid.html#event:forminput">forminput</a></li><li><a href="tr.ILayoutGrid.html#event:input">input</a></li><li><a href="tr.ILayoutGrid.html#event:invalid">invalid</a></li><li><a href="tr.ILayoutGrid.html#event:keydown">keydown</a></li><li><a href="tr.ILayoutGrid.html#event:keypress">keypress</a></li><li><a href="tr.ILayoutGrid.html#event:keyup">keyup</a></li><li><a href="tr.ILayoutGrid.html#event:mousedown">mousedown</a></li><li><a href="tr.ILayoutGrid.html#event:mousemove">mousemove</a></li><li><a href="tr.ILayoutGrid.html#event:mouseout">mouseout</a></li><li><a href="tr.ILayoutGrid.html#event:mouseover">mouseover</a></li><li><a href="tr.ILayoutGrid.html#event:mouseup">mouseup</a></li><li><a href="tr.ILayoutGrid.html#event:mousewheel">mousewheel</a></li><li><a href="tr.ILayoutGrid.html#event:reset">reset</a></li><li><a href="tr.ILayoutGrid.html#event:scroll">scroll</a></li><li><a href="tr.ILayoutGrid.html#event:select">select</a></li><li><a href="tr.ILayoutGrid.html#event:submit">submit</a></li><li><a href="tr.LayoutGrid.html#event:rowCountChanged">rowCountChanged</a></li><li><a href="tr.LayoutGrid.html#event:rowHeightChanged">rowHeightChanged</a></li><li><a href="tr.LayoutGrid.html#event:rowHighlighted">rowHighlighted</a></li><li><a href="tr.Popup.html#event:hidden">hidden</a></li><li><a href="tr.Popup.html#event:shown">shown</a></li><li><a href="tr.PopupMenu.html#event:hidden">hidden</a></li><li><a href="tr.PopupMenu.html#event:shown">shown</a></li><li><a href="tr.PrintTrait.html#event:afterprint">afterprint</a></li><li><a href="tr.PrintTrait.html#event:beforeprint">beforeprint</a></li><li><a href="tr.PrintTrait.html#event:pageCounting">pageCounting</a></li><li><a href="tr.WrappedView.html#event:dataChanged">dataChanged</a></li></ul><h3>Global</h3><ul><li><a href="global.html#cellRef%255Bundefined%255D">cellRef[undefined]</a></li><li><a href="global.html#e%255Bundefined%255D">e[undefined]</a></li><li><a href="global.html#.textContent">.textContent</a></li><li><a href="global.html#get">get</a></li><li><a href="global.html#input%255Bundefined%255D">input[undefined]</a></li><li><a href="global.html#q%255Bundefined%255D">q[undefined]</a></li><li><a href="global.html#sortingDef%255B1%255D">sortingDef[1]</a></li></ul>
</nav>


<script src="scripts/linenumber.js"> </script>
<script src="scripts/prettify.js"> </script>
<script> prettyPrint(); </script>
</body>
</html>
