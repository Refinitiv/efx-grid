<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <title>JSDoc: Source: grid/plugins/ColumnGroupingPlugin.js</title>

    <script src="scripts/prettify.js"> </script>
    <script src="scripts/lang-css.js"> </script>
    <!--[if lt IE 9]&gt;
      &lt;script src="//html5shiv.googlecode.com/svn/trunk/html5.js"&gt;&lt;/script&gt;
    &lt;![endif]-->
    <link type="text/css" rel="stylesheet" href="styles/default.css">
    <link type="text/css" rel="stylesheet" href="styles/elf-template.css">
</head>

<body>

<div id="main-template" class="elf-template">
    



    
    <section>
        <article>
            <pre class="prettyprint source linenums"><code>goog.provide("tr.grid.ColumnGroupingPlugin");

goog.require("tr.res");
goog.require("tr.ElementWrapper");
goog.require("tr.ILayoutGrid");
goog.require("tr.grid.IPlugin");
goog.require("tr.grid.Plugin");

/**
 * Enum for column grouping save.
 * @enum {number}
 */
tr.ColumnGroupingMask = {
	NotGrouped: 0,
	BeginGroup: 1,
	EndGroup: 2,
	InGroup: 4,
	Collapsed: 8
};

/** Fires after clicking to toggle collapsed state. UI is changed before the firing.
* @event tr.grid.ColumnGroupingPlugin#columnCollapsed
* @property {Array.&lt;number&gt;} groupMembers
* @property {boolean} collapsed Collapsed state after the toggle
*/
/** Fires after updating all grouping states and UI. Note that the updating is done asyncronously, so this event tells when the operation is completed. 
* @event tr.grid.ColumnGroupingPlugin#groupChanged
* @property {Array.&lt;Array.&lt;number&gt;&gt;} groups All existing groups
*/
/** Fires before rendering default UI. Client can cancel or override the default UI by settting cancel property of the event argument to true.  
* @event tr.grid.ColumnGroupingPlugin#render
* @property {tr.grid.Cell} cell
* @property {number} colIndex
* @property {number} rowIndex
* @property {tr.ILayoutGrid} section
* @example
* var handler = function(e) {
*     e.cancel = true; // Cancel the default UI
* };
*/

/** @constructor
 * @param {Array.&lt;number|boolean&gt;|null=} opt_restrictions By default all columns will be processed by this plugin
 * @param {Array.&lt;number|boolean&gt;|null=} opt_exclusions By default no column will be excluded by this plugin
 * @extends {tr.grid.Plugin}
 * @implements {tr.grid.IPlugin}
 */
tr.grid.ColumnGroupingPlugin = function (opt_restrictions, opt_exclusions) {
	var _t = this;

	_t._onPreSectionRender = _t._onPreSectionRender.bind(_t);
	_t._onColumnAdded = _t._onColumnAdded.bind(_t);
	_t._onColumnMoved = _t._onColumnMoved.bind(_t);
	_t._onColumnRemoved = _t._onColumnRemoved.bind(_t);
	_t._toggleCollapsedState = _t._toggleCollapsedState.bind(_t);
	_t.updateColumnGroups = _t.updateColumnGroups.bind(_t);

	_t._colData = []; // Storing group state
	_t._marker = new tr.grid.IndexMarker(opt_restrictions, opt_exclusions);

	_t._hosts = [];

	_t._addEvent("columnCollapsed");
	_t._addEvent("groupChanged");
	_t._addEvent("render");
	_t._addEvent("groupsConstructed");
};
goog.inherits(tr.grid.ColumnGroupingPlugin, tr.grid.Plugin);


/** @type {number}
* @private
*/
tr.grid.ColumnGroupingPlugin.prototype._updateTimerId = 0;
/** @type {boolean}
* @private
*/
tr.grid.ColumnGroupingPlugin.prototype._leftAnchoring = false;
/** @type {boolean}
* @private
*/
tr.grid.ColumnGroupingPlugin.prototype._defaultUI = true;

/** @override */
tr.grid.ColumnGroupingPlugin.prototype.getName = function () {
	return "ColumnGroupingPlugin"; // read only
};
/** @override */
tr.grid.ColumnGroupingPlugin.prototype.initialize = function (host) {
	if(this._hosts.indexOf(host) &gt;= 0) { return; }
	this._hosts.push(host);
	if (this._hosts.length === 1) { 
		host.listen(tr.res.columnAdded, this._onColumnAdded);
		host.listen(tr.res.columnMoved, this._onColumnMoved);
		host.listen(tr.res.columnRemoved, this._onColumnRemoved);
	}
	host.listen("preSectionRender", this._onPreSectionRender);
};
/** @override */
tr.grid.ColumnGroupingPlugin.prototype.unload = function (host) {
	var at = this._hosts.indexOf(host);
	if(at &lt; 0) { return; }

	this._hosts.splice(at, 1);

	host.unlisten("preSectionRender", this._onPreSectionRender);
	host.unlisten(tr.res.columnAdded, this._onColumnAdded);
	host.unlisten(tr.res.columnMoved, this._onColumnMoved);
	host.unlisten(tr.res.columnRemoved, this._onColumnRemoved);
};

/** @private
 * @param {number} colIndex
 * @return {!Object}
 */
tr.grid.ColumnGroupingPlugin.prototype._addGroupMember = function(colIndex) {
	var cdata = this._colData[colIndex];
	if(!cdata) {
		cdata = {};
		this._colData[colIndex] = cdata;
	}
	cdata._grouped = true;
	return cdata;
};
/** @public
 * @suppress {checkTypes}
 * @param {Array.&lt;number&gt;} colIndices array of the display column index
 * @param {boolean=} opt_collapsed All group is collapsed by default
 */
tr.grid.ColumnGroupingPlugin.prototype.createGroups = function(colIndices, opt_collapsed) {
	if (!colIndices) { return; }

	var cstkp = this._getPlugin("ColumnStackingPlugin");
	// Filter invalid columns
	var i;
	var len = colIndices.length;
	var colCount = this._getColumnCount();
	for (i = len; --i &gt;= 0;) {
		var colIndex = colIndices[i];
		if (colIndex &gt;= colCount || 
			!this._marker.isAllowed(colIndex) ||
			this.isColumnInGroup(colIndex) ||
			(cstkp &amp;&amp; cstkp.isColumnStacked([colIndex]))
		) {
			colIndices.splice(i, 1);
		}
	}
	len = colIndices.length;
	if(!len) { return; }
	
	colIndices.sort(tr._numericSorter); // In-place sorting
	
	var collapsed = opt_collapsed !== false;
	var cdata;
	for (i = 0; i &lt; len; i++) {
		cdata = this._addGroupMember(colIndices[i]);
		cdata._collapsed = collapsed;
	}
	
	if(this._leftAnchoring) {
		cdata = this._colData[colIndices[0]];
	} else {
		cdata = this._colData[colIndices[colIndices.length - 1]];
	}
	if(cdata) {
		cdata._anchor = true;
	}

	this._updateColumnGroups();
};
/** @public
 * @param {number} colIndex
 * @param {boolean=} opt_expanded
 * @return {Array.&lt;number&gt;}
 */
tr.grid.ColumnGroupingPlugin.prototype.expandGroup = function(colIndex, opt_expanded) {
	var groupMembers = this.getMemberIndices(colIndex);
	if(!groupMembers) { return null; }

	var collapsed = opt_expanded === false;
	for (var j = groupMembers.length; --j &gt;= 0;) {
		this._collapseMember(groupMembers[j], collapsed);
	}
	return groupMembers;
};
/** @private
 * @param {number} colIndex
 * @param {boolean} collapsed
 */
tr.grid.ColumnGroupingPlugin.prototype._collapseMember = function(colIndex, collapsed) {
	var cdata = this._colData[colIndex];
		
	for (var i = this._hosts.length; --i &gt;= 0;) {
		var host = this._hosts[i];
		host.enableColumnClass(colIndex, "collapsed", collapsed);
		
		if(cdata &amp;&amp; cdata._anchor) {
			var tsect = host.getSection(tr.res.title);
			host.setColumnVisibility(colIndex, true, 1);
			if (collapsed) {
				if(cdata._origWidth === undefined) {
					// origWidth exists if only the column is the last one in group and in collapsed state
					cdata._origWidth = this.getColumnWidth(host, colIndex); 
				}
				if(this._leftAnchoring) {
					host.setColumnWidth(colIndex, 16, false); // TODO: Fix this hard coded
				} else { // Button mode
					if(tsect) {
						host.setColumnWidth(colIndex, tsect.getRowHeight(0), false);
					}
				}
			} else {
				if(cdata._origWidth !== undefined) {
					host.setColumnWidth(colIndex, cdata._origWidth, false);
				}
			}
			
			// Update collapsed state UI
			if(tsect) {
				var rowCount = tsect.getRowCount();
				for(var r = 0; r &lt; rowCount; ++r) {
					var cell = tsect.getCell(colIndex, r);
					if(cell &amp;&amp; cell._groupArrow) {
						if(collapsed) {
							cell._groupArrow.classList.add("closed"); // classList.toggle is not supported in IE10
						} else {
							cell._groupArrow.classList.remove("closed");
						}
					}
				}
			}
		} else {
			host.setColumnVisibility(colIndex, !collapsed, 1);
		}
	}
	if(cdata) {
		cdata._collapsed = collapsed;
		if(!collapsed) {
			delete cdata._origWidth;
		}
	}
};

/** @public
 * @param {number} colIndex
 * @param {boolean=} opt_collapsed
 * @return {Array.&lt;number&gt;}
 */
tr.grid.ColumnGroupingPlugin.prototype.collapseGroup = function(colIndex, opt_collapsed) {
	return this.expandGroup(colIndex, opt_collapsed === false);
};

/** @public
 * @param {number|Array.&lt;number&gt;} colRef
 * */
tr.grid.ColumnGroupingPlugin.prototype.removeGroup = function(colRef) {
	var colIndices = (typeof colRef == "number") ? [colRef] : /** @type{Array.&lt;number&gt;} */(colRef);
	var len = colIndices ? colIndices.length : 0;
	var dirty = 0;
	for(var i = 0; i &lt; len; ++i) {
		var colIndex = colIndices[i];
		var cdata = this._colData[colIndex];
		if(cdata &amp;&amp; cdata._grouped) {
			if(cdata._collapsed) {
				this._collapseMember(colIndex, false); // Update UI immediately
			}
			cdata._grouped = false;
			cdata._anchor = false;
			dirty = 1;
		}
	}
	if(dirty) {
		this._updateColumnGroups();
	}
};
/** @public
 */
tr.grid.ColumnGroupingPlugin.prototype.removeAllGroups = function() {
	var colCount = this._getColumnCount();
	for(var i = 0; i &lt; colCount; ++i) {
		this.removeGroup(i);
	}
};
/** @public
 * @param {number} colIndex
 * @return {Array.&lt;number&gt;}
 */
tr.grid.ColumnGroupingPlugin.prototype.getMemberIndices = function(colIndex) {
	var group = null;
	var cdata = this._colData[colIndex];
	if(cdata &amp;&amp; cdata._grouped) {
		group = [colIndex];
		var leftMost = 0;
		var rightMost = this._getColumnCount();
		if(cdata._anchor) {
			if(this._leftAnchoring) {
				leftMost = rightMost;
			} else {
				rightMost = 0;
			}
		}
		
		var i;
		for(i = colIndex + 1; i &lt; rightMost; ++i) { // Navigate to the right
			cdata = this._colData[i];
			if(cdata &amp;&amp; cdata._grouped) {
				if(cdata._anchor) {
					if(!this._leftAnchoring) {
						group.push(i);
					}
					break;
				} else {
					group.push(i);
				}
			} else {
				break;
			}
		}
		
		for(i = colIndex; --i &gt;= leftMost;) { // Navigate to the left
			cdata = this._colData[i];
			if(cdata &amp;&amp; cdata._grouped) {
				if(cdata._anchor) {
					if(this._leftAnchoring) {
						group.unshift(i);
					}
					break;
				} else {
					group.unshift(i);
				}
			} else {
				break;
			}
		}
	}
	return group;
};

/** @public
 * @param {number} colIndex
 * @return {boolean}
 */
tr.grid.ColumnGroupingPlugin.prototype.isColumnInGroup = function(colIndex) {
	var cdata = this._colData[colIndex];
	return (cdata &amp;&amp; cdata._grouped) ? true : false;
};
/** @public
 * @param {number} colGroupMask
 */
tr.grid.ColumnGroupingPlugin.prototype.isInGroup = function(colGroupMask) {
	var groupMask = tr.ColumnGroupingMask.BeginGroup | tr.ColumnGroupingMask.EndGroup | tr.ColumnGroupingMask.InGroup;
	return (colGroupMask &amp; groupMask);
};
/** @public
 * @param {number} colGroupMask
 */
tr.grid.ColumnGroupingPlugin.prototype.isStartingGroup = function(colGroupMask) {
	return (colGroupMask &amp; tr.ColumnGroupingMask.BeginGroup);
};
/** @public
 * @param {number} colGroupMask
 */
tr.grid.ColumnGroupingPlugin.prototype.isEndingGroup = function(colGroupMask) {
	return (colGroupMask &amp; tr.ColumnGroupingMask.EndGroup);
};
/** @public
 * @param {number} colGroupMask
 */
tr.grid.ColumnGroupingPlugin.prototype.isCollapsedGroup = function(colGroupMask) {
	return (colGroupMask &amp; tr.ColumnGroupingMask.Collapsed);
};
/** @public
 * @param {number} colIndex
 * @param {boolean} opt_collapsed
 * @return {number} Bit Flag indicating various property states
 */
tr.grid.ColumnGroupingPlugin.prototype.generateGroupMask = function(colIndex, opt_collapsed) {
	var groupMask = 0;
	var groupMembers = this.getMemberIndices(colIndex);
	if (groupMembers &amp;&amp; groupMembers.length &gt; 0) {
		groupMask |= tr.ColumnGroupingMask.InGroup;
		if (colIndex === groupMembers[0]) {
			groupMask |= tr.ColumnGroupingMask.BeginGroup;
		}
		if (colIndex === groupMembers[groupMembers.length - 1]) {
			groupMask |= tr.ColumnGroupingMask.EndGroup;
		}

		if (opt_collapsed) {
			groupMask |= tr.ColumnGroupingMask.Collapsed;
		}
	}

	return groupMask;
};

/** Get column width that is originally defined, not the actual width that is currently displayed or hidden. 
 * @public
 * @param {number} colIndex
 * @return {number}
 */
tr.grid.ColumnGroupingPlugin.prototype.getUserDefinedColumnWidth = function(colIndex) {
	var host = this._hosts[0];
	if(!host) {
		return NaN;
	}
	
	var cdata = this._colData[colIndex];
	if(cdata) {
		// origWidth exists if only the column is the last one in group and in collapsed state
		if(cdata._anchor &amp;&amp; cdata._collapsed &amp;&amp; cdata._origWidth !== undefined) {
			return cdata._origWidth;
		}
	}
	return this.getColumnWidth(host, colIndex);
};

/** Get column width that is currently defined in the layout inside grid (not included the effect by this plugin). Hidden column still gives positive size as oppose to visibly 0 size
 * @public
 * @param {tr.Grid} host
 * @param {number} colIndex
 * @return {number}
 */
tr.grid.ColumnGroupingPlugin.prototype.getColumnWidth = function(host, colIndex) {
	if(host) {
		var hLayout = host.getHorizontalLayout();
		var min = hLayout.getMinimumLaneSize(colIndex);
		var size = hLayout.getCustomLaneSize(colIndex);
		return (size &lt; min) ? min : size; // Column width cannot be smaller than min
	}
	return NaN;
};

/**
 * @public
 * @param {boolean=} opt_enabled 
 */
tr.grid.ColumnGroupingPlugin.prototype.enableLeftAnchoring = function(opt_enabled) {
	var leftAnchoring = opt_enabled !== false;
	if(leftAnchoring !== this._leftAnchoring) {
		var groups = this._collectGroups();
		this.removeAllGroups();
		this._leftAnchoring = leftAnchoring;
		var i, len = groups.length;
		for(i = 0; i &lt; len; ++i) {
			this.createGroups(groups[i], true);
		}
	}
};
/**
 * @public
 * @param {boolean=} opt_disabled 
 */
tr.grid.ColumnGroupingPlugin.prototype.disableDefaultUI = function(opt_disabled) {
	this._defaultUI = opt_disabled === false;
};
/** This method allow tr.Grid's cell to be clicked to toggle collapsed state.
 * @public
 * @param {tr.grid.Cell|Element} cell
 * @example
 * var cgp = grid.loadPlugin("ColumnGrouping");
 * var cell = grid.getSection("title").getCell(0, 0);
 * cgp.addClickToToggleColapsedState(cell);
 */
tr.grid.ColumnGroupingPlugin.prototype.applyClickToToggle = function(cell) {
	var elem;
	if(!cell) {
		return; 
	} else if(cell["getElement"]) {
		elem = /** @type{Element} */(cell["getElement"]()); 
	} else {
		elem = /** @type{Element} */(cell);
	}
	if(!elem) { return; }
	
	elem.addEventListener(tr.res.click, this._toggleCollapsedState, false);
};

/** @private */
tr.grid.ColumnGroupingPlugin.prototype._onPreSectionRender = function (e) {
	if (e[tr.res.sectionType] !== tr.res.title) {
		return;
	}
	this._updateColumnGroups();
};
/** @override */
tr.grid.ColumnGroupingPlugin.prototype._onColumnAdded = function (e) {
	tr.grid.ColumnGroupingPlugin.base(this, "_onColumnAdded", e); // Move markers
	this._onNewMember(e[tr.res.colIndex]);
};
/** @override */
tr.grid.ColumnGroupingPlugin.prototype._onColumnMoved = function (e) {
	tr.grid.ColumnGroupingPlugin.base(this, "_onColumnMoved", e); // Move markers
	
	var colIndex = e[tr.res.toColIndex];
	
	var cdata = this._colData[colIndex];
	if(cdata &amp;&amp; cdata._grouped) {
		var group = cdata._group;
		if(group &amp;&amp; group.indexOf(colIndex) &gt;= 0) {
			var groupLen = group.length;
			for(var i = groupLen; --i &gt;= 0;) {
				cdata = this._colData[group[i]];
				if(cdata) {
					cdata._anchor = false;
				}
			}
			cdata = (this._leftAnchoring) ? this._colData[group[0]] : this._colData[group[groupLen - 1]];
			if(cdata) {
				cdata._anchor = true;
			}
		} else {
			cdata._anchor = false;
		}
		this._updateColumnGroups();
	} else {
		this._onNewMember(colIndex);
	}
};
/** @override */
tr.grid.ColumnGroupingPlugin.prototype._onColumnRemoved = function (e) {
	tr.grid.ColumnGroupingPlugin.base(this, "_onColumnRemoved", e); // Move markers
	this._updateColumnGroups();
};

/** @private
* @param {number} colIndex
*/
tr.grid.ColumnGroupingPlugin.prototype._onNewMember = function(colIndex) {
	var nextSibling = (this._leftAnchoring) ? colIndex + 1 : colIndex - 1;
	var cdata = this._colData[nextSibling];
	if(cdata &amp;&amp; cdata._grouped) {
		if(cdata._anchor) {
			return;
		}
		this._addGroupMember(colIndex);
		this._updateColumnGroups();
	}
};

/** @private
* @return {!Array.&lt;Array.&lt;number&gt;&gt;}
 */
tr.grid.ColumnGroupingPlugin.prototype._collectGroups = function() {
	var colCount = this._getColumnCount();
	var group = null;
	var groups = [];
	for (var c = 0; c &lt; colCount; ++c) {
		var cdata = this._colData[c];
		var endOfGroup = true;
		if(cdata &amp;&amp; cdata._grouped) {
			if(this._leftAnchoring) {
				if(group &amp;&amp; cdata._anchor) {
					group = this._collectGroup(groups, group);
				}
			}
			if(group) {
				group.push(c);
			} else {
				group = [c];
			}
			endOfGroup = (!this._leftAnchoring &amp;&amp; cdata._anchor) ? true : false;
		}
		if(endOfGroup) {
			group = this._collectGroup(groups, group);
		}
	}
	group = this._collectGroup(groups, group);
	
	return groups;
};
/** @private
* @param {!Array.&lt;Array.&lt;number&gt;&gt;} groups
* @param {Array.&lt;number&gt;} group
* @return {Array}
 */
tr.grid.ColumnGroupingPlugin.prototype._collectGroup = function(groups, group) {
	if(group &amp;&amp; group.length &gt; 1) {
		groups.push(group);
	}
	return null;
};
/** @private
* @param {!Array.&lt;Array.&lt;number&gt;&gt;} groups
 */
tr.grid.ColumnGroupingPlugin.prototype._updateAnchors = function(groups) {
	var validCol = {};
	var groupCount = groups.length;
	var cdata;
	for (var g = 0; g &lt; groupCount; ++g) {
		var group = groups[g];
		var groupLen = group.length;
		for(var f = groupLen; --f &gt;= 0;) {
			var index = group[f];
			validCol[index] = 1;
			cdata = this._colData[index];
			cdata._anchor = false;
			cdata._group = group; // For later reference;
		}
		cdata = (this._leftAnchoring) ? this._colData[group[0]] : this._colData[group[groupLen - 1]];
		cdata._anchor = true;
	}
	
	// Remove invalid groups
	var colCount = this._getColumnCount();
	for (var c = 0; c &lt; colCount; ++c) {
		cdata = this._colData[c];
		if(cdata) {
			if(cdata._grouped &amp;&amp; !validCol[c]) { // The group is no longer valid anymore
				cdata._grouped = false;
			}
			
			if(!cdata._grouped &amp;&amp; cdata._collapsed) { // Restore any column that is no longer a member
				this._collapseMember(c, false);
			}
		}
	}
	
};
/** @private
 */
tr.grid.ColumnGroupingPlugin.prototype._updateDefaultUI = function() {
	if(!this._defaultUI) { return; }
	
	var colCount = this._getColumnCount();
	var arg = {};
	for (var c = 0; c &lt; colCount; ++c) {
		var cdata = this._colData[c];
		if(!cdata) { continue; }

		for (var i = this._hosts.length; --i &gt;= 0;) {
			var host = this._hosts[i];
			host.enableColumnClass(c, "grouped", cdata._grouped);
			
			var tsect = host.getSection(tr.res.title);
			if(!tsect) { continue; }
			
			var rowCount = tsect.getRowCount();
			for(var r = 0; r &lt; rowCount; ++r) {
				var cell = tsect.getCell(c, r);
				if(!cell) { continue; }
				
				if(cdata._grouped &amp;&amp; cdata._anchor) {
					var newUI = this._leftAnchoring ? !cell._groupArrow : !cell._grouper;
					if(newUI) {
						arg["cell"] = cell;
						arg["colIndex"] = c;
						arg["rowIndex"] = r;
						arg["section"] = tsect;
						arg["cancel"] = false;
						this._dispatch("render", arg);
						newUI = !arg["cancel"];
					}
					if(newUI) {
						if(this._leftAnchoring) { // Add arrow
							var spanArrow = document.createElement("span");
							
							var div = document.createElement("div");
							div.className = "folder";
							div.appendChild(spanArrow);
							this.applyClickToToggle(div);
							
							var cellElem = cell.getElement();
							cellElem.appendChild(div);
							
							cell._groupArrow = div;
							cell.addClass("left-anchoring");
						} else { // Add group button
							var btn = document.createElement("button");
							btn.classList.add("group-button");
							this.applyClickToToggle(btn);
							btn.addEventListener(tr.res.mousedown, tr._preventDefault, false);
							btn.textContent = "..."; // TODO: Prevent text selection

							cell._grouper = btn;
							cell.insertFloatingIcon(btn, 100); // Group button must be located to the right most
							cell.addClass("grouping");
						}
					}
				} else {				
					if(cell._grouper) {
						cell.removeFloatingIcon(cell._grouper);
						cell.removeClass("grouping");
						cell._grouper = null;
					}
					if(cell._groupArrow) {
						var ga = cell._groupArrow;
						if(ga.parentElement) {
							ga.parentElement.removeChild(ga);
						}
						cell.removeClass("left-anchoring");
						cell._groupArrow = null;
					}
				}
			}
		}
	}
};
/** @private
 */
tr.grid.ColumnGroupingPlugin.prototype._updateColumnGroups = function() {
	var that = this;

	if(that._updateTimerId) {
		return;
	}

	that._updateTimerId = setTimeout(function () {
		that.updateColumnGroups();

		that._dispatch('groupsConstructed', {});
	}, 10);
};
/** @public
* @ignore
 */
tr.grid.ColumnGroupingPlugin.prototype.updateColumnGroups = function() {
	this._updateTimerId = 0;
	
	// Collecting all groups based on the given states, excluding invalid group
	var groups = this._collectGroups();
	this._updateAnchors(groups);
	this._updateDefaultUI();
	
	// Collapse members (buttons need to be updated before hiding)
	var colCount = this._getColumnCount();
	var colapsedMembers = {};
	for (var c = 0; c &lt; colCount; ++c) {
		var cdata = this._colData[c];
		if(!cdata) { continue; }
		if(cdata._grouped) {
			if(cdata._collapsed &amp;&amp; !colapsedMembers[c]) { // We don't need to collapse the same group repeatedly.
				var groupMembers = this.expandGroup(c, false); // Collapse the group
				for(var j = groupMembers.length; --j &gt;= 0;) {
					colapsedMembers[groupMembers[j]] = 1;
				}
			}
		} else {
			cdata = null;
			this._colData[c] = null;
		}
	}
	
	this._dispatch("groupChanged", {"groups": groups}); // For updating tooltips
};

/** @private
 * @param {Event} e
 */
tr.grid.ColumnGroupingPlugin.prototype._toggleCollapsedState = function(e) {
	tr._preventDefault(e);
	
	var colIndex = this._getColumnIndex(e);
	var cdata = this._colData[colIndex];
	if(!cdata) { return; }
	
	var collapsed = cdata._collapsed || false;
	var groupMembers = this.expandGroup(colIndex, collapsed); // Toggling the state

	this._dispatch("columnCollapsed", {
		"groupMembers": groupMembers,
		"collapsed": !collapsed
	}); // Usually for saving states
};

/** @private
 * @param {Event} e
 * @return {number}
 */
tr.grid.ColumnGroupingPlugin.prototype._getColumnIndex = function(e) {
	var colElem = tr.closestElement(/** @type{Node} */(e.currentTarget), "column");
	if(!colElem) { return -1; }
	
	var grid = this.getRelativeGrid(colElem);
	if(!grid) { return -1; }
	
	var tsect = grid.getSection(tr.res.title);
	if(!tsect) { return -1; }

	return tsect.getColumnIndex(colElem);
};


goog.exportSymbol("tr.grid.ColumnGroupingPlugin", tr.grid.ColumnGroupingPlugin);
tr.grid.ColumnGroupingPlugin._proto = tr.grid.ColumnGroupingPlugin.prototype;

goog.exportProperty(tr.grid.ColumnGroupingPlugin._proto, "getName", tr.grid.ColumnGroupingPlugin._proto.getName);
goog.exportProperty(tr.grid.ColumnGroupingPlugin._proto, "initialize", tr.grid.ColumnGroupingPlugin._proto.initialize);
goog.exportProperty(tr.grid.ColumnGroupingPlugin._proto, "unload", tr.grid.ColumnGroupingPlugin._proto.unload);

goog.exportProperty(tr.grid.ColumnGroupingPlugin._proto, "isColumnInGroup", tr.grid.ColumnGroupingPlugin._proto.isColumnInGroup);
goog.exportProperty(tr.grid.ColumnGroupingPlugin._proto, "isInGroup", tr.grid.ColumnGroupingPlugin._proto.isInGroup);
goog.exportProperty(tr.grid.ColumnGroupingPlugin._proto, "isStartingGroup", tr.grid.ColumnGroupingPlugin._proto.isStartingGroup);
goog.exportProperty(tr.grid.ColumnGroupingPlugin._proto, "isEndingGroup", tr.grid.ColumnGroupingPlugin._proto.isEndingGroup);
goog.exportProperty(tr.grid.ColumnGroupingPlugin._proto, "isCollapsedGroup", tr.grid.ColumnGroupingPlugin._proto.isCollapsedGroup);
goog.exportProperty(tr.grid.ColumnGroupingPlugin._proto, "generateGroupMask", tr.grid.ColumnGroupingPlugin._proto.generateGroupMask);

goog.exportProperty(tr.grid.ColumnGroupingPlugin._proto, "createGroups", tr.grid.ColumnGroupingPlugin._proto.createGroups);
goog.exportProperty(tr.grid.ColumnGroupingPlugin._proto, "collapseGroup", tr.grid.ColumnGroupingPlugin._proto.collapseGroup);
goog.exportProperty(tr.grid.ColumnGroupingPlugin._proto, "expandGroup", tr.grid.ColumnGroupingPlugin._proto.expandGroup);
goog.exportProperty(tr.grid.ColumnGroupingPlugin._proto, "removeGroup", tr.grid.ColumnGroupingPlugin._proto.removeGroup);
goog.exportProperty(tr.grid.ColumnGroupingPlugin._proto, "removeAllGroups", tr.grid.ColumnGroupingPlugin._proto.removeAllGroups);
goog.exportProperty(tr.grid.ColumnGroupingPlugin._proto, "getMemberIndices", tr.grid.ColumnGroupingPlugin._proto.getMemberIndices);

goog.exportProperty(tr.grid.ColumnGroupingPlugin._proto, "getUserDefinedColumnWidth", tr.grid.ColumnGroupingPlugin._proto.getUserDefinedColumnWidth);
goog.exportProperty(tr.grid.ColumnGroupingPlugin._proto, "getColumnWidth", tr.grid.ColumnGroupingPlugin._proto.getColumnWidth);

goog.exportProperty(tr.grid.ColumnGroupingPlugin._proto, "enableLeftAnchoring", tr.grid.ColumnGroupingPlugin._proto.enableLeftAnchoring);
goog.exportProperty(tr.grid.ColumnGroupingPlugin._proto, "disableDefaultUI", tr.grid.ColumnGroupingPlugin._proto.disableDefaultUI);
goog.exportProperty(tr.grid.ColumnGroupingPlugin._proto, "applyClickToToggle", tr.grid.ColumnGroupingPlugin._proto.applyClickToToggle);
</code></pre>
        </article>
    </section>




</div>

<nav>
    <h2><a href="index.html">Home</a></h2><h3>Namespaces</h3><ul><li><a href="AdFin.html">AdFin</a></li><li><a href="DateTime.html">DateTime</a></li><li><a href="Info.html">Info</a></li><li><a href="Logic.html">Logic</a></li><li><a href="Math.html">Math</a></li><li><a href="Realtime.html">Realtime</a></li><li><a href="Statistic.html">Statistic</a></li><li><a href="Text.html">Text</a></li><li><a href="tr.ElementFrameWork.html">ElementFrameWork</a></li><li><a href="tr.PipDefinition.html">PipDefinition</a></li></ul><h3>Classes</h3><ul><li><a href="tr.ADCSubscription.html">ADCSubscription</a></li><li><a href="tr.AdFinSubscription.html">AdFinSubscription</a></li><li><a href="tr.cgrid.editor.TextBox.html">TextBox</a></li><li><a href="tr.cgrid.filter.TextBox.html">TextBox</a></li><li><a href="tr.cgrid.formatter.AsyncFormatter.html">AsyncFormatter</a></li><li><a href="tr.cgrid.formatter.CheckBox.html">CheckBox</a></li><li><a href="tr.cgrid.formatter.UpDownColor.html">UpDownColor</a></li><li><a href="tr.ColumnStats.html">ColumnStats</a></li><li><a href="tr.CompositeGrid.html">CompositeGrid</a></li><li><a href="tr.DataCache.html">DataCache</a></li><li><a href="tr.DataTable.html">DataTable</a></li><li><a href="tr.DataView.html">DataView</a></li><li><a href="tr.DropDown.html">DropDown</a></li><li><a href="tr.ElementControl.html">ElementControl</a></li><li><a href="tr.ElementWrapper.html">ElementWrapper</a></li><li><a href="tr.Event.html">Event</a></li><li><a href="tr.EventDispatcher.html">EventDispatcher</a></li><li><a href="tr.EventDispatcher.extendClass-tempCtor.html">tempCtor</a></li><li><a href="tr.EventManager.html">EventManager</a></li><li><a href="tr.FieldFormatter.html">FieldFormatter</a></li><li><a href="tr.fn.Engine.html">Engine</a></li><li><a href="tr.fn.Formula.html">Formula</a></li><li><a href="tr.fn.VariableToken.html">VariableToken</a></li><li><a href="tr.Grid.html">Grid</a></li><li><a href="tr.grid.BidOfferSpan.html">BidOfferSpan</a></li><li><a href="tr.grid.Blinker.html">Blinker</a></li><li><a href="tr.grid.Cell.html">Cell</a></li><li><a href="tr.grid.CellBlinkingPlugin.html">CellBlinkingPlugin</a></li><li><a href="tr.grid.CellEditingPlugin.html">CellEditingPlugin</a></li><li><a href="tr.grid.CellFloatingPanel.html">CellFloatingPanel</a></li><li><a href="tr.grid.CellPainter.html">CellPainter</a></li><li><a href="tr.grid.CellSpan.html">CellSpan</a></li><li><a href="tr.grid.CellSpans.html">CellSpans</a></li><li><a href="tr.grid.CellWriter.html">CellWriter</a></li><li><a href="tr.grid.CheckboxColumnPlugin.html">CheckboxColumnPlugin</a></li><li><a href="tr.grid.CollapsibleHeaderPlugin.html">CollapsibleHeaderPlugin</a></li><li><a href="tr.grid.ColumnFilterPlugin.html">ColumnFilterPlugin</a></li><li><a href="tr.grid.ColumnGroupingPlugin.html">ColumnGroupingPlugin</a></li><li><a href="tr.grid.ColumnSelectionPlugin.html">ColumnSelectionPlugin</a></li><li><a href="tr.grid.ColumnStackingPlugin.html">ColumnStackingPlugin</a></li><li><a href="tr.grid.ColumnWidthAdjustingPlugin.html">ColumnWidthAdjustingPlugin</a></li><li><a href="tr.grid.Conflator.html">Conflator</a></li><li><a href="tr.grid.DataSourceTreePlugin.html">DataSourceTreePlugin</a></li><li><a href="tr.grid.DirectContentBindingPlugin.html">DirectContentBindingPlugin</a></li><li><a href="tr.grid.DragAndDropTitlePlugin.html">DragAndDropTitlePlugin</a></li><li><a href="tr.grid.DraggableContentPlugin.html">DraggableContentPlugin</a></li><li><a href="tr.grid.FindBar.html">FindBar</a></li><li><a href="tr.grid.FindBarPlugin.html">FindBarPlugin</a></li><li><a href="tr.grid.GroupStatisticsPlugin.html">GroupStatisticsPlugin</a></li><li><a href="tr.grid.HeatMapRenderer.html">HeatMapRenderer</a></li><li><a href="tr.grid.HScrollbar.html">HScrollbar</a></li><li><a href="tr.grid.IndexMarker.html">IndexMarker</a></li><li><a href="tr.grid.MovableHeaderPlugin.html">MovableHeaderPlugin</a></li><li><a href="tr.grid.NumberFormatter.html">NumberFormatter</a></li><li><a href="tr.grid.PercentBar.html">PercentBar</a></li><li><a href="tr.grid.PercentBarRenderer.html">PercentBarRenderer</a></li><li><a href="tr.grid.Plugin.html">Plugin</a></li><li><a href="tr.grid.RangeBar.html">RangeBar</a></li><li><a href="tr.grid.ResizableTitlePlugin.html">ResizableTitlePlugin</a></li><li><a href="tr.grid.Reverter.html">Reverter</a></li><li><a href="tr.grid.RowHeightAdjustingPlugin.html">RowHeightAdjustingPlugin</a></li><li><a href="tr.grid.RowSelectionPlugin.html">RowSelectionPlugin</a></li><li><a href="tr.grid.Scrollbar.html">Scrollbar</a></li><li><a href="tr.grid.SectionSettings.html">SectionSettings</a></li><li><a href="tr.grid.SmartTooltipsPlugin.html">SmartTooltipsPlugin</a></li><li><a href="tr.grid.SortableTitlePlugin.html">SortableTitlePlugin</a></li><li><a href="tr.grid.TreeIndentingPlugin.html">TreeIndentingPlugin</a></li><li><a href="tr.grid.Virtualizer.html">Virtualizer</a></li><li><a href="tr.grid.VScrollbar.html">VScrollbar</a></li><li><a href="tr.grid.ZoomPlugin.html">ZoomPlugin</a></li><li><a href="tr.HttpRequest.html">HttpRequest</a></li><li><a href="tr.IntervalSubscription.html">IntervalSubscription</a></li><li><a href="tr.LayoutGrid.html">LayoutGrid</a></li><li><a href="tr.ListMenu.html">ListMenu</a></li><li><a href="tr.MenuItem.html">MenuItem</a></li><li><a href="tr.MockArchive.html">MockArchive</a></li><li><a href="tr.MockJET.html">MockJET</a></li><li><a href="tr.MockQuotes.html">MockQuotes</a></li><li><a href="tr.MockQuotes2.html">MockQuotes2</a></li><li><a href="tr.MockSubscription.html">MockSubscription</a></li><li><a href="tr.MockSubscriptions.html">MockSubscriptions</a></li><li><a href="tr.Popup.html">Popup</a></li><li><a href="tr.PopupMenu.html">PopupMenu</a></li><li><a href="tr.PrintTrait.html">PrintTrait</a></li><li><a href="tr.RequestQueue.html">RequestQueue</a></li><li><a href="tr.Segment.html">Segment</a></li><li><a href="tr.SegmentCollection.html">SegmentCollection</a></li><li><a href="tr.TSISubscription.html">TSISubscription</a></li><li><a href="tr.WrappedView.html">WrappedView</a></li></ul><h3>Interfaces</h3><ul><li><a href="tr.cgrid.ICompositeExtension.html">ICompositeExtension</a></li><li><a href="tr.grid.IPlugin.html">IPlugin</a></li><li><a href="tr.IElementControl.html">IElementControl</a></li><li><a href="tr.ILayoutGrid.html">ILayoutGrid</a></li></ul><h3>Events</h3><ul><li><a href="tr.CompositeGrid.html#event:cellClicked">cellClicked</a></li><li><a href="tr.CompositeGrid.html#event:cellDblClicked">cellDblClicked</a></li><li><a href="tr.CompositeGrid.html#event:cellMouseDown">cellMouseDown</a></li><li><a href="tr.CompositeGrid.html#event:cellRightClicked">cellRightClicked</a></li><li><a href="tr.CompositeGrid.html#event:columnSorted">columnSorted</a></li><li><a href="tr.CompositeGrid.html#event:editorAttached">editorAttached</a></li><li><a href="tr.CompositeGrid.html#event:editorDetached">editorDetached</a></li><li><a href="tr.CompositeGrid.html#event:filterAdded">filterAdded</a></li><li><a href="tr.CompositeGrid.html#event:filterCleared">filterCleared</a></li><li><a href="tr.CompositeGrid.html#event:filterModified">filterModified</a></li><li><a href="tr.CompositeGrid.html#event:filterRemoved">filterRemoved</a></li><li><a href="tr.CompositeGrid.html#event:mouseLeaveCell">mouseLeaveCell</a></li><li><a href="tr.CompositeGrid.html#event:mouseOverCell">mouseOverCell</a></li><li><a href="tr.CompositeGrid.html#event:pageChanged">pageChanged</a></li><li><a href="tr.CompositeGrid.html#event:selectionChanged">selectionChanged</a></li><li><a href="tr.DataCache.html#event:dataChanged">dataChanged</a></li><li><a href="tr.DataCache.html#event:dataComposed">dataComposed</a></li><li><a href="tr.DataTable.html#event:dataChanged">dataChanged</a></li><li><a href="tr.DataTable.html#event:dataComposed">dataComposed</a></li><li><a href="tr.DataView.html#event:beforeFiltering">beforeFiltering</a></li><li><a href="tr.DataView.html#event:beforeGroupAdded">beforeGroupAdded</a></li><li><a href="tr.DataView.html#event:dataChanged">dataChanged</a></li><li><a href="tr.DataView.html#event:groupAdded">groupAdded</a></li><li><a href="tr.DataView.html#event:groupCriteriaChanged">groupCriteriaChanged</a></li><li><a href="tr.DataView.html#event:pageCountChanged">pageCountChanged</a></li><li><a href="tr.DataView.html#event:pageIndexChanged">pageIndexChanged</a></li><li><a href="tr.DataView.html#event:preDisposed">preDisposed</a></li><li><a href="tr.DataView.html#event:wrapCountChanged">wrapCountChanged</a></li><li><a href="tr.DataView.html#event:wrapSizeChanged">wrapSizeChanged</a></li><li><a href="tr.Formula.html#event:dataCacheChanged">dataCacheChanged</a></li><li><a href="tr.grid.CellEditingPlugin.html#event:cancelled">cancelled</a></li><li><a href="tr.grid.CellEditingPlugin.html#event:change">change</a></li><li><a href="tr.grid.CellEditingPlugin.html#event:closed">closed</a></li><li><a href="tr.grid.CellEditingPlugin.html#event:editorOpened">editorOpened</a></li><li><a href="tr.grid.CellEditingPlugin.html#event:preEditorOpening">preEditorOpening</a></li><li><a href="tr.grid.CheckboxColumnPlugin.html#event:clicked">clicked</a></li><li><a href="tr.grid.CollapsibleHeaderPlugin.html#event:clicked">clicked</a></li><li><a href="tr.grid.CollapsibleHeaderPlugin.html#event:contentBindinig">contentBindinig</a></li><li><a href="tr.grid.CollapsibleHeaderPlugin.html#event:footerBinding">footerBinding</a></li><li><a href="tr.grid.CollapsibleHeaderPlugin.html#event:headerBinding">headerBinding</a></li><li><a href="tr.grid.ColumnFilterPlugin.html#event:click">click</a></li><li><a href="tr.grid.ColumnFilterPlugin.html#event:iconCreated">iconCreated</a></li><li><a href="tr.grid.ColumnGroupingPlugin.html#event:columnCollapsed">columnCollapsed</a></li><li><a href="tr.grid.ColumnGroupingPlugin.html#event:groupChanged">groupChanged</a></li><li><a href="tr.grid.ColumnGroupingPlugin.html#event:render">render</a></li><li><a href="tr.grid.ColumnStackingPlugin.html#event:clicked">clicked</a></li><li><a href="tr.grid.ColumnStackingPlugin.html#event:iconCreated">iconCreated</a></li><li><a href="tr.grid.DragAndDropTitlePlugin.html#event:columnMoved">columnMoved</a></li><li><a href="tr.grid.DragAndDropTitlePlugin.html#event:dragged">dragged</a></li><li><a href="tr.grid.DraggableContentPlugin.html#event:drag">drag</a></li><li><a href="tr.grid.DraggableContentPlugin.html#event:dragEnd">dragEnd</a></li><li><a href="tr.grid.DraggableContentPlugin.html#event:dragStart">dragStart</a></li><li><a href="tr.grid.FindBarPlugin.html#event:clicked">clicked</a></li><li><a href="tr.grid.MovableHeaderPlugin.html#event:dragged">dragged</a></li><li><a href="tr.grid.MovableHeaderPlugin.html#event:groupMoved">groupMoved</a></li><li><a href="tr.grid.MovableHeaderPlugin.html#event:sectionMoved">sectionMoved</a></li><li><a href="tr.grid.RowSelectionPlugin.html#event:selectionChanged">selectionChanged</a></li><li><a href="tr.grid.SortableTitlePlugin.html#event:clicked">clicked</a></li><li><a href="tr.grid.SortableTitlePlugin.html#event:columnSorted">columnSorted</a></li><li><a href="tr.grid.SortableTitlePlugin.html#event:preClicked">preClicked</a></li><li><a href="tr.grid.SortableTitlePlugin.html#event:preDataSorting">preDataSorting</a></li><li><a href="tr.grid.TreeIndentingPlugin.html#event:clicked">clicked</a></li><li><a href="tr.grid.TreeIndentingPlugin.html#event:contentBindinig">contentBindinig</a></li><li><a href="tr.grid.TreeIndentingPlugin.html#event:footerBinding">footerBinding</a></li><li><a href="tr.grid.TreeIndentingPlugin.html#event:headerBinding">headerBinding</a></li><li><a href="tr.Grid.html#event:columnAdded">columnAdded</a></li><li><a href="tr.Grid.html#event:columnAlignmentChanged">columnAlignmentChanged</a></li><li><a href="tr.Grid.html#event:columnRemoved">columnRemoved</a></li><li><a href="tr.Grid.html#event:columnVisibilityChanged">columnVisibilityChanged</a></li><li><a href="tr.Grid.html#event:dataSourceChanged">dataSourceChanged</a></li><li><a href="tr.Grid.html#event:postSectionDataBinding">postSectionDataBinding</a></li><li><a href="tr.Grid.html#event:rowExpansionBinding">rowExpansionBinding</a></li><li><a href="tr.Grid.html#event:rowHighlighted">rowHighlighted</a></li><li><a href="tr.Grid.html#event:sectionAdded">sectionAdded</a></li><li><a href="tr.Grid.html#event:widthChanged">widthChanged</a></li><li><a href="tr.HttpRequest.html#event:abort">abort</a></li><li><a href="tr.HttpRequest.html#event:error">error</a></li><li><a href="tr.HttpRequest.html#event:load">load</a></li><li><a href="tr.HttpRequest.html#event:loadend">loadend</a></li><li><a href="tr.HttpRequest.html#event:loadstart">loadstart</a></li><li><a href="tr.HttpRequest.html#event:timeout">timeout</a></li><li><a href="tr.IElementControl.html#event:blur">blur</a></li><li><a href="tr.IElementControl.html#event:change">change</a></li><li><a href="tr.IElementControl.html#event:click">click</a></li><li><a href="tr.IElementControl.html#event:contextmenu">contextmenu</a></li><li><a href="tr.IElementControl.html#event:dblclick">dblclick</a></li><li><a href="tr.IElementControl.html#event:drag">drag</a></li><li><a href="tr.IElementControl.html#event:dragend">dragend</a></li><li><a href="tr.IElementControl.html#event:dragenter">dragenter</a></li><li><a href="tr.IElementControl.html#event:dragleave">dragleave</a></li><li><a href="tr.IElementControl.html#event:dragover">dragover</a></li><li><a href="tr.IElementControl.html#event:dragstart">dragstart</a></li><li><a href="tr.IElementControl.html#event:drop">drop</a></li><li><a href="tr.IElementControl.html#event:focus">focus</a></li><li><a href="tr.IElementControl.html#event:formchange">formchange</a></li><li><a href="tr.IElementControl.html#event:forminput">forminput</a></li><li><a href="tr.IElementControl.html#event:input">input</a></li><li><a href="tr.IElementControl.html#event:invalid">invalid</a></li><li><a href="tr.IElementControl.html#event:keydown">keydown</a></li><li><a href="tr.IElementControl.html#event:keypress">keypress</a></li><li><a href="tr.IElementControl.html#event:keyup">keyup</a></li><li><a href="tr.IElementControl.html#event:mousedown">mousedown</a></li><li><a href="tr.IElementControl.html#event:mousemove">mousemove</a></li><li><a href="tr.IElementControl.html#event:mouseout">mouseout</a></li><li><a href="tr.IElementControl.html#event:mouseover">mouseover</a></li><li><a href="tr.IElementControl.html#event:mouseup">mouseup</a></li><li><a href="tr.IElementControl.html#event:mousewheel">mousewheel</a></li><li><a href="tr.IElementControl.html#event:reset">reset</a></li><li><a href="tr.IElementControl.html#event:scroll">scroll</a></li><li><a href="tr.IElementControl.html#event:select">select</a></li><li><a href="tr.IElementControl.html#event:submit">submit</a></li><li><a href="tr.ILayoutGrid.html#event:blur">blur</a></li><li><a href="tr.ILayoutGrid.html#event:change">change</a></li><li><a href="tr.ILayoutGrid.html#event:click">click</a></li><li><a href="tr.ILayoutGrid.html#event:contextmenu">contextmenu</a></li><li><a href="tr.ILayoutGrid.html#event:dblclick">dblclick</a></li><li><a href="tr.ILayoutGrid.html#event:drag">drag</a></li><li><a href="tr.ILayoutGrid.html#event:dragend">dragend</a></li><li><a href="tr.ILayoutGrid.html#event:dragenter">dragenter</a></li><li><a href="tr.ILayoutGrid.html#event:dragleave">dragleave</a></li><li><a href="tr.ILayoutGrid.html#event:dragover">dragover</a></li><li><a href="tr.ILayoutGrid.html#event:dragstart">dragstart</a></li><li><a href="tr.ILayoutGrid.html#event:drop">drop</a></li><li><a href="tr.ILayoutGrid.html#event:focus">focus</a></li><li><a href="tr.ILayoutGrid.html#event:formchange">formchange</a></li><li><a href="tr.ILayoutGrid.html#event:forminput">forminput</a></li><li><a href="tr.ILayoutGrid.html#event:input">input</a></li><li><a href="tr.ILayoutGrid.html#event:invalid">invalid</a></li><li><a href="tr.ILayoutGrid.html#event:keydown">keydown</a></li><li><a href="tr.ILayoutGrid.html#event:keypress">keypress</a></li><li><a href="tr.ILayoutGrid.html#event:keyup">keyup</a></li><li><a href="tr.ILayoutGrid.html#event:mousedown">mousedown</a></li><li><a href="tr.ILayoutGrid.html#event:mousemove">mousemove</a></li><li><a href="tr.ILayoutGrid.html#event:mouseout">mouseout</a></li><li><a href="tr.ILayoutGrid.html#event:mouseover">mouseover</a></li><li><a href="tr.ILayoutGrid.html#event:mouseup">mouseup</a></li><li><a href="tr.ILayoutGrid.html#event:mousewheel">mousewheel</a></li><li><a href="tr.ILayoutGrid.html#event:reset">reset</a></li><li><a href="tr.ILayoutGrid.html#event:scroll">scroll</a></li><li><a href="tr.ILayoutGrid.html#event:select">select</a></li><li><a href="tr.ILayoutGrid.html#event:submit">submit</a></li><li><a href="tr.LayoutGrid.html#event:rowCountChanged">rowCountChanged</a></li><li><a href="tr.LayoutGrid.html#event:rowHeightChanged">rowHeightChanged</a></li><li><a href="tr.LayoutGrid.html#event:rowHighlighted">rowHighlighted</a></li><li><a href="tr.Popup.html#event:hidden">hidden</a></li><li><a href="tr.Popup.html#event:shown">shown</a></li><li><a href="tr.PopupMenu.html#event:hidden">hidden</a></li><li><a href="tr.PopupMenu.html#event:shown">shown</a></li><li><a href="tr.PrintTrait.html#event:afterprint">afterprint</a></li><li><a href="tr.PrintTrait.html#event:beforeprint">beforeprint</a></li><li><a href="tr.PrintTrait.html#event:pageCounting">pageCounting</a></li><li><a href="tr.WrappedView.html#event:dataChanged">dataChanged</a></li></ul><h3>Global</h3><ul><li><a href="global.html#cellRef%255Bundefined%255D">cellRef[undefined]</a></li><li><a href="global.html#e%255Bundefined%255D">e[undefined]</a></li><li><a href="global.html#.textContent">.textContent</a></li><li><a href="global.html#get">get</a></li><li><a href="global.html#input%255Bundefined%255D">input[undefined]</a></li><li><a href="global.html#q%255Bundefined%255D">q[undefined]</a></li><li><a href="global.html#sortingDef%255B1%255D">sortingDef[1]</a></li></ul>
</nav>


<script src="scripts/linenumber.js"> </script>
<script src="scripts/prettify.js"> </script>
<script> prettyPrint(); </script>
</body>
</html>
