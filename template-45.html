<h1 id="reading-or-getting-data-from-grid">Reading or getting data from Grid</h1>
<p>As Grid utilizes row virtualization technique, not all content are rendered on the document. You will need to access the data from Grid through Grid&#39;s APIs, not from texts displayed on the HTML element.</p>
<blockquote>
<p>Note: Grid does not provide two-way data binding. This means data from the configuration object or <code>data</code> property won&#39;t reflect actual data, when there is any runtime change.</p>
</blockquote>
<h2 id="getting-data-from-atlas-blotter">Getting data from Atlas Blotter</h2>
<p>In Atlas Blotter, rows will occasionally be moved around due to sorting and updates from the real-time data source. So, Atlas Blotter introduces RowDefinition object to represent and manage data for each row. RowDefinition object allows us to reference the row without a need to use row id. </p>
<p>To retrieve RowDefinition object, use <code>getRowDefinition()</code> method from Grid&#39;s <code>api</code> property.</p>
<p>To retrieve all RowDefinition objects, use <code>getRowDefinitions()</code> method from Grid&#39;s <code>api</code> property.</p>
<p>We can then use <code>getRowData()</code> or <code>getData()</code> to get data from RowDefinition object.</p>
<p>Alternatively, <code>getMultipleRowData()</code> method can be used to directly get row data from Grid without getting RowDefinition object first. </p>
<pre><code class="language-js">var row0 = grid.api.getRowDefinition(0); // row index 0
var row1 = grid.api.getRowDefinition(1); // row index 1

console.log(row0.getRowData()); // No row id or index required
console.log(row1.getData(&quot;Field Name&quot;)); // No row id or index required
</code></pre>
<p>All available APIs for <code>RowDefinition</code> object can be found <a href="#/apis/rt-grid/rowdefinition">here</a></p>
<p>All available APIs for Altas Blotter can be found <a href="#/apis/rt-grid/grid">here</a></p>
<h3 id="atlas-blotter-example">Atlas Blotter example</h3>
<code-sandbox hash="3aea216e"><pre><code class="language-css">textarea {
    height: 200px;
    width: 100%;
    overflow: auto;
    margin-bottom: 20px;
}
html hr {
    margin: 5px;
}
</code></pre>
<pre><code class="language-html">&lt;button id=&quot;top_row_btn&quot;&gt;Get data from top row&lt;/button&gt;
&lt;button id=&quot;col_btn&quot;&gt;Get company names&lt;/button&gt;
&lt;button id=&quot;all_btn1&quot;&gt;Get all data from transformed view&lt;/button&gt;
&lt;button id=&quot;all_btn2&quot;&gt;Get all data&lt;/button&gt;
&lt;hr&gt;
&lt;atlas-blotter id=&quot;grid&quot;&gt;&lt;/atlas-blotter&gt;
&lt;hr&gt;
&lt;textarea id=&quot;msg_ta&quot;&gt;&lt;/textarea&gt;
</code></pre>
<pre><code class="language-javascript">import &#39;./resources/extensions.js&#39;; // This line is only required for demo purpose. It is not relevant for your application.
import { halo } from &#39;./theme-loader.js&#39;; // This line is only required for demo purpose. It is not relevant for your application.
await halo(); // This line is only required for demo purpose. It is not relevant for your application.

/* ---------------------------------- Note ----------------------------------
  DataGenerator, Formatters and extensions are exposed to global scope
  in the bundle file to make it easier to create live examples.
  Importing formatters and extensions is still required in your application. 
  Please see the document for further information.
---------------------------------------------------------------------------*/
var fields = [&quot;companyName&quot;, &quot;market&quot;, &quot;CF_LAST&quot;, &quot;CF_NETCHNG&quot;, &quot;industry&quot;];
var records = tr.DataGenerator.generateRecords(fields, { seed: 0, numRows: 5 });
var configObj = {
    columns: [
        {name: &quot;Company&quot;, field: fields[0]},
        {name: &quot;Market&quot;, field: fields[1], width: 100},
        {name: &quot;Last&quot;, field: fields[2], width: 80},
        {name: &quot;Net. Chng&quot;, field: fields[3], width: 80},
        {name: &quot;Industry&quot;, field: fields[4]}
    ],
    staticDataRows: records
};

var grid = document.getElementById(&quot;grid&quot;);
grid.config = configObj;

document.getElementById(&quot;top_row_btn&quot;).addEventListener(&quot;click&quot;, function(e) {
    var record = grid.api.getRowData(0);
    logMessage(record);
});
document.getElementById(&quot;col_btn&quot;).addEventListener(&quot;click&quot;, function(e) {
    var records = grid.api.getMultipleRowData();
    var columnData = records.map(toCompanyName);
    logMessage(columnData);
});
document.getElementById(&quot;all_btn1&quot;).addEventListener(&quot;click&quot;, function(e) {
    var records = grid.api.getMultipleRowData();
    logMessage(records);
});
document.getElementById(&quot;all_btn2&quot;).addEventListener(&quot;click&quot;, function(e) {
    var rowDefs = grid.api.getAllRowDefinitions();
    var records = rowDefs.map(toRowData);
    logMessage(records);
});

function logMessage(data) {
    console.log(data);
    document.getElementById(&quot;msg_ta&quot;).value = JSON.stringify(data, null, 2);
}
function toCompanyName(rowData) {
    return rowData[&quot;companyName&quot;];
}
function toRowData(rowDef) {
    return rowDef.getRowData();
}
</code></pre>
</code-sandbox><h2 id="getting-data-from-emerald-grid">Getting data from Emerald Grid</h2>
<h3 id="row-id">Row ID</h3>
<p>Each row stored in DataTable and DataView has row ID. Row ID is used to refered back to the row since row index can be shifted by some data update and manipulation. If row ID is not defined, DataTable will automatically generate a unique row ID for the newly created row. </p>
<h3 id="datatable-and-dataview">DataTable and DataView</h3>
<p>DataTable stored original copy of the data. It is primarily used for adding, updating, and removing operations. Most of the other complex operations are done on DataView. So, you should use row ID to access data from DataTable when row order does not matter. When dealing with Grid&#39;s view and row order does matter, you should use row index to access the data from DataView.</p>
<h3 id="apis">APIs</h3>
<p>Use <code>getDataTable()</code> or <code>getDataView()</code> to retrieve Grid&#39;s internal data storage. </p>
<p>Use <code>getRowId()</code> and <code>getRowIndex()</code> to convert back and forth between row ID and row index.</p>
<p>Use <code>getRowData()</code> or <code>getRowDataAt()</code> to get data of the specified row.</p>
<pre><code class="language-js">var dt = grid.api.getDataTable();
var dv = grid.api.getDataView();

var rowId = dv.getRowId(2);

console.log(dt.getRowData(rowId));
console.log(dv.getRowDataAt(2));
</code></pre>
<p>Use <code>getData()</code> or <code>getDataAt()</code> to get data of the specified row and field.</p>
<pre><code class="language-js">var dt = grid.api.getDataTable();
var dv = grid.api.getDataView();

var rowId = dv.getRowId(0);

console.log(dt.getData(rowId, &quot;some field&quot;));
console.log(dv.getDataAt(0, &quot;some field&quot;));
</code></pre>
<p>Use <code>getColumnData()</code> to retrieve all data from the specified field.</p>
<pre><code class="language-js">var dt = grid.api.getDataTable();
var dv = grid.api.getDataView();

console.log(dt.getColumnData(&quot;Field1&quot;));
console.log(dv.getColumnData(&quot;Field1&quot;));
</code></pre>
<p>Use <code>getAllRowData()</code> to retrieve all rows</p>
<pre><code class="language-js">var dt = grid.api.getDataTable();
var dv = grid.api.getDataView();

console.log(dt.getAllRowData());
console.log(dv.getAllRowData());
</code></pre>
<p>Use <code>log()</code> to quickly log data in <strong>table format</strong> to developer console</p>
<pre><code class="language-js">var dt = grid.api.getDataTable();
var dv = grid.api.getDataView();

console.log(&quot;=== Data Table ===&quot;);
dt.log();

console.log(&quot;=== Data View ===&quot;);
dv.log();
</code></pre>
<p>To access data stored inside Grid, we need to retrieve DataTable or DataView instance and use <a href="#/apis/readme">their APIs</a>.</p>
<h3 id="emerald-grid-example">Emerald Grid example</h3>
<code-sandbox hash="875a01a9"><pre><code class="language-css">html hr {
    margin: 5px;
}
</code></pre>
<pre><code class="language-html">&lt;button id=&quot;top_row_btn&quot;&gt;Get Top Row Data&lt;/button&gt;
&lt;button id=&quot;col_btn&quot;&gt;Get Data from Column&lt;/button&gt;
&lt;button id=&quot;all_btn&quot;&gt;Get All Data&lt;/button&gt;
&lt;hr&gt;
&lt;emerald-grid id=&quot;grid&quot;&gt;&lt;/emerald-grid&gt;
</code></pre>
<pre><code class="language-javascript">import &#39;./resources/extensions.js&#39;; // This line is only required for demo purpose. It is not relevant for your application.
import { halo } from &#39;./theme-loader.js&#39;; // This line is only required for demo purpose. It is not relevant for your application.
await halo(); // This line is only required for demo purpose. It is not relevant for your application.

/* ---------------------------------- Note ----------------------------------
  DataGenerator, Formatters and extensions are exposed to global scope
  in the bundle file to make it easier to create live examples.
  Importing formatters and extensions is still required in your application. 
  Please see the document for further information.
---------------------------------------------------------------------------*/
var fields = [&quot;companyName&quot;, &quot;market&quot;, &quot;CF_LAST&quot;, &quot;CF_NETCHNG&quot;, &quot;industry&quot;];
var records = tr.DataGenerator.generateRecords(fields, { numRows: 5 });
var configObj = {
    columns: [
        {title: &quot;Company&quot;, field: fields[0]},
        {title: &quot;Market&quot;, field: fields[1], width: 100},
        {title: &quot;Last&quot;, field: fields[2], width: 80},
        {title: &quot;Net. Chng&quot;, field: fields[3], width: 80},
        {title: &quot;Industry&quot;, field: fields[4]}
    ],
    dataModel: {
        data: records
    }
};

var grid = document.getElementById(&quot;grid&quot;);
grid.config = configObj;

document.getElementById(&quot;top_row_btn&quot;).addEventListener(&quot;click&quot;, function(e) {
    var dv = grid.api.getDataView();
    var rowData = dv.getRowDataAt(0);
    alert(JSON.stringify(rowData, null, 2));
});
document.getElementById(&quot;col_btn&quot;).addEventListener(&quot;click&quot;, function(e) {
    var dv = grid.api.getDataView();
    var columnData = dv.getColumnData(fields[0]);
    alert(JSON.stringify(columnData, null, 2));
});
document.getElementById(&quot;all_btn&quot;).addEventListener(&quot;click&quot;, function(e) {
    var dv = grid.api.getDataView();
    var allRowData = dv.getAllRowData();
    alert(JSON.stringify(allRowData, null, 2));
});
</code></pre>
</code-sandbox><p><br><br><br></p>
